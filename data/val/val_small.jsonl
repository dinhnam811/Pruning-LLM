{"repo": "google/guava", "path": "guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java", "func_name": "ArrayBasedUnicodeEscaper.escape", "original_string": "@Override\n  public final String escape(String s) {\n    checkNotNull(s); // GWT specific check (do not optimize)\n    for (int i = 0; i < s.length(); i++) {\n      char c = s.charAt(i);\n      if ((c < replacementsLength && replacements[c] != null)\n          || c > safeMaxChar\n          || c < safeMinChar) {\n        return escapeSlow(s, i);\n      }\n    }\n    return s;\n  }", "language": "java", "code": "@Override\n  public final String escape(String s) {\n    checkNotNull(s); // GWT specific check (do not optimize)\n    for (int i = 0; i < s.length(); i++) {\n      char c = s.charAt(i);\n      if ((c < replacementsLength && replacements[c] != null)\n          || c > safeMaxChar\n          || c < safeMinChar) {\n        return escapeSlow(s, i);\n      }\n    }\n    return s;\n  }", "code_tokens": ["@", "Override", "public", "final", "String", "escape", "(", "String", "s", ")", "{", "checkNotNull", "(", "s", ")", ";", "// GWT specific check (do not optimize)", "for", "(", "int", "i", "=", "0", ";", "i", "<", "s", ".", "length", "(", ")", ";", "i", "++", ")", "{", "char", "c", "=", "s", ".", "charAt", "(", "i", ")", ";", "if", "(", "(", "c", "<", "replacementsLength", "&&", "replacements", "[", "c", "]", "!=", "null", ")", "||", "c", ">", "safeMaxChar", "||", "c", "<", "safeMinChar", ")", "{", "return", "escapeSlow", "(", "s", ",", "i", ")", ";", "}", "}", "return", "s", ";", "}"], "docstring": "/*\nThis is overridden to improve performance. Rough benchmarking shows that this almost doubles\nthe speed when processing strings that do not require any escaping.", "docstring_tokens": ["/", "*", "This", "is", "overridden", "to", "improve", "performance", ".", "Rough", "benchmarking", "shows", "that", "this", "almost", "doubles", "the", "speed", "when", "processing", "strings", "that", "do", "not", "require", "any", "escaping", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java#L142-L154", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java", "func_name": "ArrayBasedUnicodeEscaper.escape", "original_string": "@Override\n  protected final char[] escape(int cp) {\n    if (cp < replacementsLength) {\n      char[] chars = replacements[cp];\n      if (chars != null) {\n        return chars;\n      }\n    }\n    if (cp >= safeMin && cp <= safeMax) {\n      return null;\n    }\n    return escapeUnsafe(cp);\n  }", "language": "java", "code": "@Override\n  protected final char[] escape(int cp) {\n    if (cp < replacementsLength) {\n      char[] chars = replacements[cp];\n      if (chars != null) {\n        return chars;\n      }\n    }\n    if (cp >= safeMin && cp <= safeMax) {\n      return null;\n    }\n    return escapeUnsafe(cp);\n  }", "code_tokens": ["@", "Override", "protected", "final", "char", "[", "]", "escape", "(", "int", "cp", ")", "{", "if", "(", "cp", "<", "replacementsLength", ")", "{", "char", "[", "]", "chars", "=", "replacements", "[", "cp", "]", ";", "if", "(", "chars", "!=", "null", ")", "{", "return", "chars", ";", "}", "}", "if", "(", "cp", ">=", "safeMin", "&&", "cp", "<=", "safeMax", ")", "{", "return", "null", ";", "}", "return", "escapeUnsafe", "(", "cp", ")", ";", "}"], "docstring": "Escapes a single Unicode code point using the replacement array and safe range values. If the\ngiven character does not have an explicit replacement and lies outside the safe range then\n{@link #escapeUnsafe} is called.", "docstring_tokens": ["Escapes", "a", "single", "Unicode", "code", "point", "using", "the", "replacement", "array", "and", "safe", "range", "values", ".", "If", "the", "given", "character", "does", "not", "have", "an", "explicit", "replacement", "and", "lies", "outside", "the", "safe", "range", "then", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java#L161-L173", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java", "func_name": "ArrayBasedUnicodeEscaper.nextEscapeIndex", "original_string": "@Override\n  protected final int nextEscapeIndex(CharSequence csq, int index, int end) {\n    while (index < end) {\n      char c = csq.charAt(index);\n      if ((c < replacementsLength && replacements[c] != null)\n          || c > safeMaxChar\n          || c < safeMinChar) {\n        break;\n      }\n      index++;\n    }\n    return index;\n  }", "language": "java", "code": "@Override\n  protected final int nextEscapeIndex(CharSequence csq, int index, int end) {\n    while (index < end) {\n      char c = csq.charAt(index);\n      if ((c < replacementsLength && replacements[c] != null)\n          || c > safeMaxChar\n          || c < safeMinChar) {\n        break;\n      }\n      index++;\n    }\n    return index;\n  }", "code_tokens": ["@", "Override", "protected", "final", "int", "nextEscapeIndex", "(", "CharSequence", "csq", ",", "int", "index", ",", "int", "end", ")", "{", "while", "(", "index", "<", "end", ")", "{", "char", "c", "=", "csq", ".", "charAt", "(", "index", ")", ";", "if", "(", "(", "c", "<", "replacementsLength", "&&", "replacements", "[", "c", "]", "!=", "null", ")", "||", "c", ">", "safeMaxChar", "||", "c", "<", "safeMinChar", ")", "{", "break", ";", "}", "index", "++", ";", "}", "return", "index", ";", "}"], "docstring": "/* Overridden for performance.", "docstring_tokens": ["/", "*", "Overridden", "for", "performance", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/escape/ArrayBasedUnicodeEscaper.java#L176-L188", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.openBufferedStream", "original_string": "public BufferedReader openBufferedStream() throws IOException {\n    Reader reader = openStream();\n    return (reader instanceof BufferedReader)\n        ? (BufferedReader) reader\n        : new BufferedReader(reader);\n  }", "language": "java", "code": "public BufferedReader openBufferedStream() throws IOException {\n    Reader reader = openStream();\n    return (reader instanceof BufferedReader)\n        ? (BufferedReader) reader\n        : new BufferedReader(reader);\n  }", "code_tokens": ["public", "BufferedReader", "openBufferedStream", "(", ")", "throws", "IOException", "{", "Reader", "reader", "=", "openStream", "(", ")", ";", "return", "(", "reader", "instanceof", "BufferedReader", ")", "?", "(", "BufferedReader", ")", "reader", ":", "new", "BufferedReader", "(", "reader", ")", ";", "}"], "docstring": "Opens a new {@link BufferedReader} for reading from this source. This method returns a new,\nindependent reader each time it is called.\n\n<p>The caller is responsible for ensuring that the returned reader is closed.\n\n@throws IOException if an I/O error occurs while of opening the reader", "docstring_tokens": ["Opens", "a", "new", "{", "@link", "BufferedReader", "}", "for", "reading", "from", "this", "source", ".", "This", "method", "returns", "a", "new", "independent", "reader", "each", "time", "it", "is", "called", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L106-L111", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.length", "original_string": "@Beta\n  public long length() throws IOException {\n    Optional<Long> lengthIfKnown = lengthIfKnown();\n    if (lengthIfKnown.isPresent()) {\n      return lengthIfKnown.get();\n    }\n\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return countBySkipping(reader);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "@Beta\n  public long length() throws IOException {\n    Optional<Long> lengthIfKnown = lengthIfKnown();\n    if (lengthIfKnown.isPresent()) {\n      return lengthIfKnown.get();\n    }\n\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return countBySkipping(reader);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["@", "Beta", "public", "long", "length", "(", ")", "throws", "IOException", "{", "Optional", "<", "Long", ">", "lengthIfKnown", "=", "lengthIfKnown", "(", ")", ";", "if", "(", "lengthIfKnown", ".", "isPresent", "(", ")", ")", "{", "return", "lengthIfKnown", ".", "get", "(", ")", ";", "}", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "Reader", "reader", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "return", "countBySkipping", "(", "reader", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Returns the length of this source in chars, even if doing so requires opening and traversing an\nentire stream. To avoid a potentially expensive operation, see {@link #lengthIfKnown}.\n\n<p>The default implementation calls {@link #lengthIfKnown} and returns the value if present. If\nabsent, it will fall back to a heavyweight operation that will open a stream, {@link\nReader#skip(long) skip} to the end of the stream, and return the total number of chars that\nwere skipped.\n\n<p>Note that for sources that implement {@link #lengthIfKnown} to provide a more efficient\nimplementation, it is <i>possible</i> that this method will return a different number of chars\nthan would be returned by reading all of the chars.\n\n<p>In either case, for mutable sources such as files, a subsequent read may return a different\nnumber of chars if the contents are changed.\n\n@throws IOException if an I/O error occurs while reading the length of this source\n@since 19.0", "docstring_tokens": ["Returns", "the", "length", "of", "this", "source", "in", "chars", "even", "if", "doing", "so", "requires", "opening", "and", "traversing", "an", "entire", "stream", ".", "To", "avoid", "a", "potentially", "expensive", "operation", "see", "{", "@link", "#lengthIfKnown", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L151-L167", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.copyTo", "original_string": "@CanIgnoreReturnValue\n  public long copyTo(CharSink sink) throws IOException {\n    checkNotNull(sink);\n\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      Writer writer = closer.register(sink.openStream());\n      return CharStreams.copy(reader, writer);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public long copyTo(CharSink sink) throws IOException {\n    checkNotNull(sink);\n\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      Writer writer = closer.register(sink.openStream());\n      return CharStreams.copy(reader, writer);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "long", "copyTo", "(", "CharSink", "sink", ")", "throws", "IOException", "{", "checkNotNull", "(", "sink", ")", ";", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "Reader", "reader", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "Writer", "writer", "=", "closer", ".", "register", "(", "sink", ".", "openStream", "(", ")", ")", ";", "return", "CharStreams", ".", "copy", "(", "reader", ",", "writer", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Copies the contents of this source to the given sink.\n\n@return the number of characters copied\n@throws IOException if an I/O error occurs while reading from this source or writing to {@code\nsink}", "docstring_tokens": ["Copies", "the", "contents", "of", "this", "source", "to", "the", "given", "sink", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L208-L222", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.read", "original_string": "public String read() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return CharStreams.toString(reader);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "public String read() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return CharStreams.toString(reader);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["public", "String", "read", "(", ")", "throws", "IOException", "{", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "Reader", "reader", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "return", "CharStreams", ".", "toString", "(", "reader", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Reads the contents of this source as a string.\n\n@throws IOException if an I/O error occurs while reading from this source", "docstring_tokens": ["Reads", "the", "contents", "of", "this", "source", "as", "a", "string", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L229-L239", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.readFirstLine", "original_string": "@NullableDecl\n  public String readFirstLine() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      BufferedReader reader = closer.register(openBufferedStream());\n      return reader.readLine();\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "@NullableDecl\n  public String readFirstLine() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      BufferedReader reader = closer.register(openBufferedStream());\n      return reader.readLine();\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["@", "NullableDecl", "public", "String", "readFirstLine", "(", ")", "throws", "IOException", "{", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "BufferedReader", "reader", "=", "closer", ".", "register", "(", "openBufferedStream", "(", ")", ")", ";", "return", "reader", ".", "readLine", "(", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Reads the first line of this source as a string. Returns {@code null} if this source is empty.\n\n<p>Like {@link BufferedReader#readLine()}, this method considers a line to be a sequence of\ntext that is terminated by (but does not include) one of {@code \\r\\n}, {@code \\r} or {@code\n\\n}. If the source's content does not end in a line termination sequence, it is treated as if\nit does.\n\n@throws IOException if an I/O error occurs while reading from this source", "docstring_tokens": ["Reads", "the", "first", "line", "of", "this", "source", "as", "a", "string", ".", "Returns", "{", "@code", "null", "}", "if", "this", "source", "is", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L251-L262", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.readLines", "original_string": "public ImmutableList<String> readLines() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      BufferedReader reader = closer.register(openBufferedStream());\n      List<String> result = Lists.newArrayList();\n      String line;\n      while ((line = reader.readLine()) != null) {\n        result.add(line);\n      }\n      return ImmutableList.copyOf(result);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "public ImmutableList<String> readLines() throws IOException {\n    Closer closer = Closer.create();\n    try {\n      BufferedReader reader = closer.register(openBufferedStream());\n      List<String> result = Lists.newArrayList();\n      String line;\n      while ((line = reader.readLine()) != null) {\n        result.add(line);\n      }\n      return ImmutableList.copyOf(result);\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["public", "ImmutableList", "<", "String", ">", "readLines", "(", ")", "throws", "IOException", "{", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "BufferedReader", "reader", "=", "closer", ".", "register", "(", "openBufferedStream", "(", ")", ")", ";", "List", "<", "String", ">", "result", "=", "Lists", ".", "newArrayList", "(", ")", ";", "String", "line", ";", "while", "(", "(", "line", "=", "reader", ".", "readLine", "(", ")", ")", "!=", "null", ")", "{", "result", ".", "add", "(", "line", ")", ";", "}", "return", "ImmutableList", ".", "copyOf", "(", "result", ")", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Reads all the lines of this source as a list of strings. The returned list will be empty if\nthis source is empty.\n\n<p>Like {@link BufferedReader#readLine()}, this method considers a line to be a sequence of\ntext that is terminated by (but does not include) one of {@code \\r\\n}, {@code \\r} or {@code\n\\n}. If the source's content does not end in a line termination sequence, it is treated as if\nit does.\n\n@throws IOException if an I/O error occurs while reading from this source", "docstring_tokens": ["Reads", "all", "the", "lines", "of", "this", "source", "as", "a", "list", "of", "strings", ".", "The", "returned", "list", "will", "be", "empty", "if", "this", "source", "is", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L275-L290", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.isEmpty", "original_string": "public boolean isEmpty() throws IOException {\n    Optional<Long> lengthIfKnown = lengthIfKnown();\n    if (lengthIfKnown.isPresent()) {\n      return lengthIfKnown.get() == 0L;\n    }\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return reader.read() == -1;\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "public boolean isEmpty() throws IOException {\n    Optional<Long> lengthIfKnown = lengthIfKnown();\n    if (lengthIfKnown.isPresent()) {\n      return lengthIfKnown.get() == 0L;\n    }\n    Closer closer = Closer.create();\n    try {\n      Reader reader = closer.register(openStream());\n      return reader.read() == -1;\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["public", "boolean", "isEmpty", "(", ")", "throws", "IOException", "{", "Optional", "<", "Long", ">", "lengthIfKnown", "=", "lengthIfKnown", "(", ")", ";", "if", "(", "lengthIfKnown", ".", "isPresent", "(", ")", ")", "{", "return", "lengthIfKnown", ".", "get", "(", ")", "==", "0L", ";", "}", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "Reader", "reader", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "return", "reader", ".", "read", "(", ")", "==", "-", "1", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Returns whether the source has zero chars. The default implementation first checks {@link\n#lengthIfKnown}, returning true if it's known to be zero and false if it's known to be\nnon-zero. If the length is not known, it falls back to opening a stream and checking for EOF.\n\n<p>Note that, in cases where {@code lengthIfKnown} returns zero, it is <i>possible</i> that\nchars are actually available for reading. This means that a source may return {@code true} from\n{@code isEmpty()} despite having readable content.\n\n@throws IOException if an I/O error occurs\n@since 15.0", "docstring_tokens": ["Returns", "whether", "the", "source", "has", "zero", "chars", ".", "The", "default", "implementation", "first", "checks", "{", "@link", "#lengthIfKnown", "}", "returning", "true", "if", "it", "s", "known", "to", "be", "zero", "and", "false", "if", "it", "s", "known", "to", "be", "non", "-", "zero", ".", "If", "the", "length", "is", "not", "known", "it", "falls", "back", "to", "opening", "a", "stream", "and", "checking", "for", "EOF", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L334-L348", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.wrap", "original_string": "public static CharSource wrap(CharSequence charSequence) {\n    return charSequence instanceof String\n        ? new StringCharSource((String) charSequence)\n        : new CharSequenceCharSource(charSequence);\n  }", "language": "java", "code": "public static CharSource wrap(CharSequence charSequence) {\n    return charSequence instanceof String\n        ? new StringCharSource((String) charSequence)\n        : new CharSequenceCharSource(charSequence);\n  }", "code_tokens": ["public", "static", "CharSource", "wrap", "(", "CharSequence", "charSequence", ")", "{", "return", "charSequence", "instanceof", "String", "?", "new", "StringCharSource", "(", "(", "String", ")", "charSequence", ")", ":", "new", "CharSequenceCharSource", "(", "charSequence", ")", ";", "}"], "docstring": "Returns a view of the given character sequence as a {@link CharSource}. The behavior of the\nreturned {@code CharSource} and any {@code Reader} instances created by it is unspecified if\nthe {@code charSequence} is mutated while it is being read, so don't do that.\n\n@since 15.0 (since 14.0 as {@code CharStreams.asCharSource(String)})", "docstring_tokens": ["Returns", "a", "view", "of", "the", "given", "character", "sequence", "as", "a", "{", "@link", "CharSource", "}", ".", "The", "behavior", "of", "the", "returned", "{", "@code", "CharSource", "}", "and", "any", "{", "@code", "Reader", "}", "instances", "created", "by", "it", "is", "unspecified", "if", "the", "{", "@code", "charSequence", "}", "is", "mutated", "while", "it", "is", "being", "read", "so", "don", "t", "do", "that", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/CharSource.java#L410-L414", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ReaderInputStream.java", "func_name": "ReaderInputStream.read", "original_string": "@Override\n  public int read(byte[] b, int off, int len) throws IOException {\n    // Obey InputStream contract.\n    checkPositionIndexes(off, off + len, b.length);\n    if (len == 0) {\n      return 0;\n    }\n\n    // The rest of this method implements the process described by the CharsetEncoder javadoc.\n    int totalBytesRead = 0;\n    boolean doneEncoding = endOfInput;\n\n    DRAINING:\n    while (true) {\n      // We stay in draining mode until there are no bytes left in the output buffer. Then we go\n      // back to encoding/flushing.\n      if (draining) {\n        totalBytesRead += drain(b, off + totalBytesRead, len - totalBytesRead);\n        if (totalBytesRead == len || doneFlushing) {\n          return (totalBytesRead > 0) ? totalBytesRead : -1;\n        }\n        draining = false;\n        byteBuffer.clear();\n      }\n\n      while (true) {\n        // We call encode until there is no more input. The last call to encode will have endOfInput\n        // == true. Then there is a final call to flush.\n        CoderResult result;\n        if (doneFlushing) {\n          result = CoderResult.UNDERFLOW;\n        } else if (doneEncoding) {\n          result = encoder.flush(byteBuffer);\n        } else {\n          result = encoder.encode(charBuffer, byteBuffer, endOfInput);\n        }\n\n        if (result.isOverflow()) {\n          // Not enough room in output buffer--drain it, creating a bigger buffer if necessary.\n          startDraining(true);\n          continue DRAINING;\n        } else if (result.isUnderflow()) {\n          // If encoder underflows, it means either:\n          // a) the final flush() succeeded; next drain (then done)\n          // b) we encoded all of the input; next flush\n          // c) we ran of out input to encode; next read more input\n          if (doneEncoding) { // (a)\n            doneFlushing = true;\n            startDraining(false);\n            continue DRAINING;\n          } else if (endOfInput) { // (b)\n            doneEncoding = true;\n          } else { // (c)\n            readMoreChars();\n          }\n        } else if (result.isError()) {\n          // Only reach here if a CharsetEncoder with non-REPLACE settings is used.\n          result.throwException();\n          return 0; // Not called.\n        }\n      }\n    }\n  }", "language": "java", "code": "@Override\n  public int read(byte[] b, int off, int len) throws IOException {\n    // Obey InputStream contract.\n    checkPositionIndexes(off, off + len, b.length);\n    if (len == 0) {\n      return 0;\n    }\n\n    // The rest of this method implements the process described by the CharsetEncoder javadoc.\n    int totalBytesRead = 0;\n    boolean doneEncoding = endOfInput;\n\n    DRAINING:\n    while (true) {\n      // We stay in draining mode until there are no bytes left in the output buffer. Then we go\n      // back to encoding/flushing.\n      if (draining) {\n        totalBytesRead += drain(b, off + totalBytesRead, len - totalBytesRead);\n        if (totalBytesRead == len || doneFlushing) {\n          return (totalBytesRead > 0) ? totalBytesRead : -1;\n        }\n        draining = false;\n        byteBuffer.clear();\n      }\n\n      while (true) {\n        // We call encode until there is no more input. The last call to encode will have endOfInput\n        // == true. Then there is a final call to flush.\n        CoderResult result;\n        if (doneFlushing) {\n          result = CoderResult.UNDERFLOW;\n        } else if (doneEncoding) {\n          result = encoder.flush(byteBuffer);\n        } else {\n          result = encoder.encode(charBuffer, byteBuffer, endOfInput);\n        }\n\n        if (result.isOverflow()) {\n          // Not enough room in output buffer--drain it, creating a bigger buffer if necessary.\n          startDraining(true);\n          continue DRAINING;\n        } else if (result.isUnderflow()) {\n          // If encoder underflows, it means either:\n          // a) the final flush() succeeded; next drain (then done)\n          // b) we encoded all of the input; next flush\n          // c) we ran of out input to encode; next read more input\n          if (doneEncoding) { // (a)\n            doneFlushing = true;\n            startDraining(false);\n            continue DRAINING;\n          } else if (endOfInput) { // (b)\n            doneEncoding = true;\n          } else { // (c)\n            readMoreChars();\n          }\n        } else if (result.isError()) {\n          // Only reach here if a CharsetEncoder with non-REPLACE settings is used.\n          result.throwException();\n          return 0; // Not called.\n        }\n      }\n    }\n  }", "code_tokens": ["@", "Override", "public", "int", "read", "(", "byte", "[", "]", "b", ",", "int", "off", ",", "int", "len", ")", "throws", "IOException", "{", "// Obey InputStream contract.", "checkPositionIndexes", "(", "off", ",", "off", "+", "len", ",", "b", ".", "length", ")", ";", "if", "(", "len", "==", "0", ")", "{", "return", "0", ";", "}", "// The rest of this method implements the process described by the CharsetEncoder javadoc.", "int", "totalBytesRead", "=", "0", ";", "boolean", "doneEncoding", "=", "endOfInput", ";", "DRAINING", ":", "while", "(", "true", ")", "{", "// We stay in draining mode until there are no bytes left in the output buffer. Then we go", "// back to encoding/flushing.", "if", "(", "draining", ")", "{", "totalBytesRead", "+=", "drain", "(", "b", ",", "off", "+", "totalBytesRead", ",", "len", "-", "totalBytesRead", ")", ";", "if", "(", "totalBytesRead", "==", "len", "||", "doneFlushing", ")", "{", "return", "(", "totalBytesRead", ">", "0", ")", "?", "totalBytesRead", ":", "-", "1", ";", "}", "draining", "=", "false", ";", "byteBuffer", ".", "clear", "(", ")", ";", "}", "while", "(", "true", ")", "{", "// We call encode until there is no more input. The last call to encode will have endOfInput", "// == true. Then there is a final call to flush.", "CoderResult", "result", ";", "if", "(", "doneFlushing", ")", "{", "result", "=", "CoderResult", ".", "UNDERFLOW", ";", "}", "else", "if", "(", "doneEncoding", ")", "{", "result", "=", "encoder", ".", "flush", "(", "byteBuffer", ")", ";", "}", "else", "{", "result", "=", "encoder", ".", "encode", "(", "charBuffer", ",", "byteBuffer", ",", "endOfInput", ")", ";", "}", "if", "(", "result", ".", "isOverflow", "(", ")", ")", "{", "// Not enough room in output buffer--drain it, creating a bigger buffer if necessary.", "startDraining", "(", "true", ")", ";", "continue", "DRAINING", ";", "}", "else", "if", "(", "result", ".", "isUnderflow", "(", ")", ")", "{", "// If encoder underflows, it means either:", "// a) the final flush() succeeded; next drain (then done)", "// b) we encoded all of the input; next flush", "// c) we ran of out input to encode; next read more input", "if", "(", "doneEncoding", ")", "{", "// (a)", "doneFlushing", "=", "true", ";", "startDraining", "(", "false", ")", ";", "continue", "DRAINING", ";", "}", "else", "if", "(", "endOfInput", ")", "{", "// (b)", "doneEncoding", "=", "true", ";", "}", "else", "{", "// (c)", "readMoreChars", "(", ")", ";", "}", "}", "else", "if", "(", "result", ".", "isError", "(", ")", ")", "{", "// Only reach here if a CharsetEncoder with non-REPLACE settings is used.", "result", ".", "throwException", "(", ")", ";", "return", "0", ";", "// Not called.", "}", "}", "}", "}"], "docstring": "buffer when possible.", "docstring_tokens": ["buffer", "when", "possible", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ReaderInputStream.java#L124-L186", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ReaderInputStream.java", "func_name": "ReaderInputStream.grow", "original_string": "private static CharBuffer grow(CharBuffer buf) {\n    char[] copy = Arrays.copyOf(buf.array(), buf.capacity() * 2);\n    CharBuffer bigger = CharBuffer.wrap(copy);\n    bigger.position(buf.position());\n    bigger.limit(buf.limit());\n    return bigger;\n  }", "language": "java", "code": "private static CharBuffer grow(CharBuffer buf) {\n    char[] copy = Arrays.copyOf(buf.array(), buf.capacity() * 2);\n    CharBuffer bigger = CharBuffer.wrap(copy);\n    bigger.position(buf.position());\n    bigger.limit(buf.limit());\n    return bigger;\n  }", "code_tokens": ["private", "static", "CharBuffer", "grow", "(", "CharBuffer", "buf", ")", "{", "char", "[", "]", "copy", "=", "Arrays", ".", "copyOf", "(", "buf", ".", "array", "(", ")", ",", "buf", ".", "capacity", "(", ")", "*", "2", ")", ";", "CharBuffer", "bigger", "=", "CharBuffer", ".", "wrap", "(", "copy", ")", ";", "bigger", ".", "position", "(", "buf", ".", "position", "(", ")", ")", ";", "bigger", ".", "limit", "(", "buf", ".", "limit", "(", ")", ")", ";", "return", "bigger", ";", "}"], "docstring": "Returns a new CharBuffer identical to buf, except twice the capacity.", "docstring_tokens": ["Returns", "a", "new", "CharBuffer", "identical", "to", "buf", "except", "twice", "the", "capacity", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ReaderInputStream.java#L189-L195", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ReaderInputStream.java", "func_name": "ReaderInputStream.readMoreChars", "original_string": "private void readMoreChars() throws IOException {\n    // Possibilities:\n    // 1) array has space available on right hand side (between limit and capacity)\n    // 2) array has space available on left hand side (before position)\n    // 3) array has no space available\n    //\n    // In case 2 we shift the existing chars to the left, and in case 3 we create a bigger\n    // array, then they both become case 1.\n\n    if (availableCapacity(charBuffer) == 0) {\n      if (charBuffer.position() > 0) {\n        // (2) There is room in the buffer. Move existing bytes to the beginning.\n        charBuffer.compact().flip();\n      } else {\n        // (3) Entire buffer is full, need bigger buffer.\n        charBuffer = grow(charBuffer);\n      }\n    }\n\n    // (1) Read more characters into free space at end of array.\n    int limit = charBuffer.limit();\n    int numChars = reader.read(charBuffer.array(), limit, availableCapacity(charBuffer));\n    if (numChars == -1) {\n      endOfInput = true;\n    } else {\n      charBuffer.limit(limit + numChars);\n    }\n  }", "language": "java", "code": "private void readMoreChars() throws IOException {\n    // Possibilities:\n    // 1) array has space available on right hand side (between limit and capacity)\n    // 2) array has space available on left hand side (before position)\n    // 3) array has no space available\n    //\n    // In case 2 we shift the existing chars to the left, and in case 3 we create a bigger\n    // array, then they both become case 1.\n\n    if (availableCapacity(charBuffer) == 0) {\n      if (charBuffer.position() > 0) {\n        // (2) There is room in the buffer. Move existing bytes to the beginning.\n        charBuffer.compact().flip();\n      } else {\n        // (3) Entire buffer is full, need bigger buffer.\n        charBuffer = grow(charBuffer);\n      }\n    }\n\n    // (1) Read more characters into free space at end of array.\n    int limit = charBuffer.limit();\n    int numChars = reader.read(charBuffer.array(), limit, availableCapacity(charBuffer));\n    if (numChars == -1) {\n      endOfInput = true;\n    } else {\n      charBuffer.limit(limit + numChars);\n    }\n  }", "code_tokens": ["private", "void", "readMoreChars", "(", ")", "throws", "IOException", "{", "// Possibilities:", "// 1) array has space available on right hand side (between limit and capacity)", "// 2) array has space available on left hand side (before position)", "// 3) array has no space available", "//", "// In case 2 we shift the existing chars to the left, and in case 3 we create a bigger", "// array, then they both become case 1.", "if", "(", "availableCapacity", "(", "charBuffer", ")", "==", "0", ")", "{", "if", "(", "charBuffer", ".", "position", "(", ")", ">", "0", ")", "{", "// (2) There is room in the buffer. Move existing bytes to the beginning.", "charBuffer", ".", "compact", "(", ")", ".", "flip", "(", ")", ";", "}", "else", "{", "// (3) Entire buffer is full, need bigger buffer.", "charBuffer", "=", "grow", "(", "charBuffer", ")", ";", "}", "}", "// (1) Read more characters into free space at end of array.", "int", "limit", "=", "charBuffer", ".", "limit", "(", ")", ";", "int", "numChars", "=", "reader", ".", "read", "(", "charBuffer", ".", "array", "(", ")", ",", "limit", ",", "availableCapacity", "(", "charBuffer", ")", ")", ";", "if", "(", "numChars", "==", "-", "1", ")", "{", "endOfInput", "=", "true", ";", "}", "else", "{", "charBuffer", ".", "limit", "(", "limit", "+", "numChars", ")", ";", "}", "}"], "docstring": "Handle the case of underflow caused by needing more input characters.", "docstring_tokens": ["Handle", "the", "case", "of", "underflow", "caused", "by", "needing", "more", "input", "characters", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ReaderInputStream.java#L198-L225", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ReaderInputStream.java", "func_name": "ReaderInputStream.startDraining", "original_string": "private void startDraining(boolean overflow) {\n    byteBuffer.flip();\n    if (overflow && byteBuffer.remaining() == 0) {\n      byteBuffer = ByteBuffer.allocate(byteBuffer.capacity() * 2);\n    } else {\n      draining = true;\n    }\n  }", "language": "java", "code": "private void startDraining(boolean overflow) {\n    byteBuffer.flip();\n    if (overflow && byteBuffer.remaining() == 0) {\n      byteBuffer = ByteBuffer.allocate(byteBuffer.capacity() * 2);\n    } else {\n      draining = true;\n    }\n  }", "code_tokens": ["private", "void", "startDraining", "(", "boolean", "overflow", ")", "{", "byteBuffer", ".", "flip", "(", ")", ";", "if", "(", "overflow", "&&", "byteBuffer", ".", "remaining", "(", ")", "==", "0", ")", "{", "byteBuffer", "=", "ByteBuffer", ".", "allocate", "(", "byteBuffer", ".", "capacity", "(", ")", "*", "2", ")", ";", "}", "else", "{", "draining", "=", "true", ";", "}", "}"], "docstring": "Flips the buffer output buffer so we can start reading bytes from it. If we are starting to\ndrain because there was overflow, and there aren't actually any characters to drain, then the\noverflow must be due to a small output buffer.", "docstring_tokens": ["Flips", "the", "buffer", "output", "buffer", "so", "we", "can", "start", "reading", "bytes", "from", "it", ".", "If", "we", "are", "starting", "to", "drain", "because", "there", "was", "overflow", "and", "there", "aren", "t", "actually", "any", "characters", "to", "drain", "then", "the", "overflow", "must", "be", "due", "to", "a", "small", "output", "buffer", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ReaderInputStream.java#L237-L244", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ReaderInputStream.java", "func_name": "ReaderInputStream.drain", "original_string": "private int drain(byte[] b, int off, int len) {\n    int remaining = Math.min(len, byteBuffer.remaining());\n    byteBuffer.get(b, off, remaining);\n    return remaining;\n  }", "language": "java", "code": "private int drain(byte[] b, int off, int len) {\n    int remaining = Math.min(len, byteBuffer.remaining());\n    byteBuffer.get(b, off, remaining);\n    return remaining;\n  }", "code_tokens": ["private", "int", "drain", "(", "byte", "[", "]", "b", ",", "int", "off", ",", "int", "len", ")", "{", "int", "remaining", "=", "Math", ".", "min", "(", "len", ",", "byteBuffer", ".", "remaining", "(", ")", ")", ";", "byteBuffer", ".", "get", "(", "b", ",", "off", ",", "remaining", ")", ";", "return", "remaining", ";", "}"], "docstring": "Copy as much of the byte buffer into the output array as possible, returning the (positive)\nnumber of characters copied.", "docstring_tokens": ["Copy", "as", "much", "of", "the", "byte", "buffer", "into", "the", "output", "array", "as", "possible", "returning", "the", "(", "positive", ")", "number", "of", "characters", "copied", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ReaderInputStream.java#L250-L254", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardLowerEntry", "original_string": "protected Entry<K, V> standardLowerEntry(K key) {\n    return headMap(key, false).lastEntry();\n  }", "language": "java", "code": "protected Entry<K, V> standardLowerEntry(K key) {\n    return headMap(key, false).lastEntry();\n  }", "code_tokens": ["protected", "Entry", "<", "K", ",", "V", ">", "standardLowerEntry", "(", "K", "key", ")", "{", "return", "headMap", "(", "key", ",", "false", ")", ".", "lastEntry", "(", ")", ";", "}"], "docstring": "A sensible definition of {@link #lowerEntry} in terms of the {@code lastEntry()} of {@link\n#headMap(Object, boolean)}. If you override {@code headMap}, you may wish to override {@code\nlowerEntry} to forward to this implementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L76-L78", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardFloorEntry", "original_string": "protected Entry<K, V> standardFloorEntry(K key) {\n    return headMap(key, true).lastEntry();\n  }", "language": "java", "code": "protected Entry<K, V> standardFloorEntry(K key) {\n    return headMap(key, true).lastEntry();\n  }", "code_tokens": ["protected", "Entry", "<", "K", ",", "V", ">", "standardFloorEntry", "(", "K", "key", ")", "{", "return", "headMap", "(", "key", ",", "true", ")", ".", "lastEntry", "(", ")", ";", "}"], "docstring": "A sensible definition of {@link #floorEntry} in terms of the {@code lastEntry()} of {@link\n#headMap(Object, boolean)}. If you override {@code headMap}, you may wish to override {@code\nfloorEntry} to forward to this implementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L104-L106", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardCeilingEntry", "original_string": "protected Entry<K, V> standardCeilingEntry(K key) {\n    return tailMap(key, true).firstEntry();\n  }", "language": "java", "code": "protected Entry<K, V> standardCeilingEntry(K key) {\n    return tailMap(key, true).firstEntry();\n  }", "code_tokens": ["protected", "Entry", "<", "K", ",", "V", ">", "standardCeilingEntry", "(", "K", "key", ")", "{", "return", "tailMap", "(", "key", ",", "true", ")", ".", "firstEntry", "(", ")", ";", "}"], "docstring": "A sensible definition of {@link #ceilingEntry} in terms of the {@code firstEntry()} of {@link\n#tailMap(Object, boolean)}. If you override {@code tailMap}, you may wish to override {@code\nceilingEntry} to forward to this implementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L132-L134", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardHigherEntry", "original_string": "protected Entry<K, V> standardHigherEntry(K key) {\n    return tailMap(key, false).firstEntry();\n  }", "language": "java", "code": "protected Entry<K, V> standardHigherEntry(K key) {\n    return tailMap(key, false).firstEntry();\n  }", "code_tokens": ["protected", "Entry", "<", "K", ",", "V", ">", "standardHigherEntry", "(", "K", "key", ")", "{", "return", "tailMap", "(", "key", ",", "false", ")", ".", "firstEntry", "(", ")", ";", "}"], "docstring": "A sensible definition of {@link #higherEntry} in terms of the {@code firstEntry()} of {@link\n#tailMap(Object, boolean)}. If you override {@code tailMap}, you may wish to override {@code\nhigherEntry} to forward to this implementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L160-L162", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardFirstKey", "original_string": "protected K standardFirstKey() {\n    Entry<K, V> entry = firstEntry();\n    if (entry == null) {\n      throw new NoSuchElementException();\n    } else {\n      return entry.getKey();\n    }\n  }", "language": "java", "code": "protected K standardFirstKey() {\n    Entry<K, V> entry = firstEntry();\n    if (entry == null) {\n      throw new NoSuchElementException();\n    } else {\n      return entry.getKey();\n    }\n  }", "code_tokens": ["protected", "K", "standardFirstKey", "(", ")", "{", "Entry", "<", "K", ",", "V", ">", "entry", "=", "firstEntry", "(", ")", ";", "if", "(", "entry", "==", "null", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "else", "{", "return", "entry", ".", "getKey", "(", ")", ";", "}", "}"], "docstring": "A sensible definition of {@link #firstKey} in terms of {@code firstEntry}. If you override\n{@code firstEntry}, you may wish to override {@code firstKey} to forward to this\nimplementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L197-L204", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ForwardingNavigableMap.java", "func_name": "ForwardingNavigableMap.standardLastKey", "original_string": "protected K standardLastKey() {\n    Entry<K, V> entry = lastEntry();\n    if (entry == null) {\n      throw new NoSuchElementException();\n    } else {\n      return entry.getKey();\n    }\n  }", "language": "java", "code": "protected K standardLastKey() {\n    Entry<K, V> entry = lastEntry();\n    if (entry == null) {\n      throw new NoSuchElementException();\n    } else {\n      return entry.getKey();\n    }\n  }", "code_tokens": ["protected", "K", "standardLastKey", "(", ")", "{", "Entry", "<", "K", ",", "V", ">", "entry", "=", "lastEntry", "(", ")", ";", "if", "(", "entry", "==", "null", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "else", "{", "return", "entry", ".", "getKey", "(", ")", ";", "}", "}"], "docstring": "A sensible definition of {@link #lastKey} in terms of {@code lastEntry}. If you override {@code\nlastEntry}, you may wish to override {@code lastKey} to forward to this implementation.", "docstring_tokens": ["A", "sensible", "definition", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ForwardingNavigableMap.java#L224-L231", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/AbstractBaseGraph.java", "func_name": "AbstractBaseGraph.edgeCount", "original_string": "protected long edgeCount() {\n    long degreeSum = 0L;\n    for (N node : nodes()) {\n      degreeSum += degree(node);\n    }\n    // According to the degree sum formula, this is equal to twice the number of edges.\n    checkState((degreeSum & 1) == 0);\n    return degreeSum >>> 1;\n  }", "language": "java", "code": "protected long edgeCount() {\n    long degreeSum = 0L;\n    for (N node : nodes()) {\n      degreeSum += degree(node);\n    }\n    // According to the degree sum formula, this is equal to twice the number of edges.\n    checkState((degreeSum & 1) == 0);\n    return degreeSum >>> 1;\n  }", "code_tokens": ["protected", "long", "edgeCount", "(", ")", "{", "long", "degreeSum", "=", "0L", ";", "for", "(", "N", "node", ":", "nodes", "(", ")", ")", "{", "degreeSum", "+=", "degree", "(", "node", ")", ";", "}", "// According to the degree sum formula, this is equal to twice the number of edges.", "checkState", "(", "(", "degreeSum", "&", "1", ")", "==", "0", ")", ";", "return", "degreeSum", ">>>", "1", ";", "}"], "docstring": "Returns the number of edges in this graph; used to calculate the size of {@link #edges()}. This\nimplementation requires O(|N|) time. Classes extending this one may manually keep track of the\nnumber of edges as the graph is updated, and override this method for better performance.", "docstring_tokens": ["Returns", "the", "number", "of", "edges", "in", "this", "graph", ";", "used", "to", "calculate", "the", "size", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/AbstractBaseGraph.java#L51-L59", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/AbstractBaseGraph.java", "func_name": "AbstractBaseGraph.edges", "original_string": "@Override\n  public Set<EndpointPair<N>> edges() {\n    return new AbstractSet<EndpointPair<N>>() {\n      @Override\n      public UnmodifiableIterator<EndpointPair<N>> iterator() {\n        return EndpointPairIterator.of(AbstractBaseGraph.this);\n      }\n\n      @Override\n      public int size() {\n        return Ints.saturatedCast(edgeCount());\n      }\n\n      @Override\n      public boolean remove(Object o) {\n        throw new UnsupportedOperationException();\n      }\n\n      // Mostly safe: We check contains(u) before calling successors(u), so we perform unsafe\n      // operations only in weird cases like checking for an EndpointPair<ArrayList> in a\n      // Graph<LinkedList>.\n      @SuppressWarnings(\"unchecked\")\n      @Override\n      public boolean contains(@NullableDecl Object obj) {\n        if (!(obj instanceof EndpointPair)) {\n          return false;\n        }\n        EndpointPair<?> endpointPair = (EndpointPair<?>) obj;\n        return isOrderingCompatible(endpointPair)\n            && nodes().contains(endpointPair.nodeU())\n            && successors((N) endpointPair.nodeU()).contains(endpointPair.nodeV());\n      }\n    };\n  }", "language": "java", "code": "@Override\n  public Set<EndpointPair<N>> edges() {\n    return new AbstractSet<EndpointPair<N>>() {\n      @Override\n      public UnmodifiableIterator<EndpointPair<N>> iterator() {\n        return EndpointPairIterator.of(AbstractBaseGraph.this);\n      }\n\n      @Override\n      public int size() {\n        return Ints.saturatedCast(edgeCount());\n      }\n\n      @Override\n      public boolean remove(Object o) {\n        throw new UnsupportedOperationException();\n      }\n\n      // Mostly safe: We check contains(u) before calling successors(u), so we perform unsafe\n      // operations only in weird cases like checking for an EndpointPair<ArrayList> in a\n      // Graph<LinkedList>.\n      @SuppressWarnings(\"unchecked\")\n      @Override\n      public boolean contains(@NullableDecl Object obj) {\n        if (!(obj instanceof EndpointPair)) {\n          return false;\n        }\n        EndpointPair<?> endpointPair = (EndpointPair<?>) obj;\n        return isOrderingCompatible(endpointPair)\n            && nodes().contains(endpointPair.nodeU())\n            && successors((N) endpointPair.nodeU()).contains(endpointPair.nodeV());\n      }\n    };\n  }", "code_tokens": ["@", "Override", "public", "Set", "<", "EndpointPair", "<", "N", ">", ">", "edges", "(", ")", "{", "return", "new", "AbstractSet", "<", "EndpointPair", "<", "N", ">", ">", "(", ")", "{", "@", "Override", "public", "UnmodifiableIterator", "<", "EndpointPair", "<", "N", ">", ">", "iterator", "(", ")", "{", "return", "EndpointPairIterator", ".", "of", "(", "AbstractBaseGraph", ".", "this", ")", ";", "}", "@", "Override", "public", "int", "size", "(", ")", "{", "return", "Ints", ".", "saturatedCast", "(", "edgeCount", "(", ")", ")", ";", "}", "@", "Override", "public", "boolean", "remove", "(", "Object", "o", ")", "{", "throw", "new", "UnsupportedOperationException", "(", ")", ";", "}", "// Mostly safe: We check contains(u) before calling successors(u), so we perform unsafe", "// operations only in weird cases like checking for an EndpointPair<ArrayList> in a", "// Graph<LinkedList>.", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "@", "Override", "public", "boolean", "contains", "(", "@", "NullableDecl", "Object", "obj", ")", "{", "if", "(", "!", "(", "obj", "instanceof", "EndpointPair", ")", ")", "{", "return", "false", ";", "}", "EndpointPair", "<", "?", ">", "endpointPair", "=", "(", "EndpointPair", "<", "?", ">", ")", "obj", ";", "return", "isOrderingCompatible", "(", "endpointPair", ")", "&&", "nodes", "(", ")", ".", "contains", "(", "endpointPair", ".", "nodeU", "(", ")", ")", "&&", "successors", "(", "(", "N", ")", "endpointPair", ".", "nodeU", "(", ")", ")", ".", "contains", "(", "endpointPair", ".", "nodeV", "(", ")", ")", ";", "}", "}", ";", "}"], "docstring": "An implementation of {@link BaseGraph#edges()} defined in terms of {@link #nodes()} and {@link\n#successors(Object)}.", "docstring_tokens": ["An", "implementation", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/AbstractBaseGraph.java#L65-L98", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/ImmutableCollection.java", "func_name": "ImmutableCollection.copyIntoArray", "original_string": "@CanIgnoreReturnValue\n  int copyIntoArray(Object[] dst, int offset) {\n    for (E e : this) {\n      dst[offset++] = e;\n    }\n    return offset;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  int copyIntoArray(Object[] dst, int offset) {\n    for (E e : this) {\n      dst[offset++] = e;\n    }\n    return offset;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "int", "copyIntoArray", "(", "Object", "[", "]", "dst", ",", "int", "offset", ")", "{", "for", "(", "E", "e", ":", "this", ")", "{", "dst", "[", "offset", "++", "]", "=", "e", ";", "}", "return", "offset", ";", "}"], "docstring": "Copies the contents of this immutable collection into the specified array at the specified\noffset. Returns {@code offset + size()}.", "docstring_tokens": ["Copies", "the", "contents", "of", "this", "immutable", "collection", "into", "the", "specified", "array", "at", "the", "specified", "offset", ".", "Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/ImmutableCollection.java#L356-L362", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.unmodifiableIterable", "original_string": "public static <T> Iterable<T> unmodifiableIterable(final Iterable<? extends T> iterable) {\n    checkNotNull(iterable);\n    if (iterable instanceof UnmodifiableIterable || iterable instanceof ImmutableCollection) {\n      @SuppressWarnings(\"unchecked\") // Since it's unmodifiable, the covariant cast is safe\n      Iterable<T> result = (Iterable<T>) iterable;\n      return result;\n    }\n    return new UnmodifiableIterable<>(iterable);\n  }", "language": "java", "code": "public static <T> Iterable<T> unmodifiableIterable(final Iterable<? extends T> iterable) {\n    checkNotNull(iterable);\n    if (iterable instanceof UnmodifiableIterable || iterable instanceof ImmutableCollection) {\n      @SuppressWarnings(\"unchecked\") // Since it's unmodifiable, the covariant cast is safe\n      Iterable<T> result = (Iterable<T>) iterable;\n      return result;\n    }\n    return new UnmodifiableIterable<>(iterable);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "unmodifiableIterable", "(", "final", "Iterable", "<", "?", "extends", "T", ">", "iterable", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "if", "(", "iterable", "instanceof", "UnmodifiableIterable", "||", "iterable", "instanceof", "ImmutableCollection", ")", "{", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// Since it's unmodifiable, the covariant cast is safe", "Iterable", "<", "T", ">", "result", "=", "(", "Iterable", "<", "T", ">", ")", "iterable", ";", "return", "result", ";", "}", "return", "new", "UnmodifiableIterable", "<>", "(", "iterable", ")", ";", "}"], "docstring": "Returns an unmodifiable view of {@code iterable}.", "docstring_tokens": ["Returns", "an", "unmodifiable", "view", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L68-L76", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.unmodifiableIterable", "original_string": "@Deprecated\n  public static <E> Iterable<E> unmodifiableIterable(ImmutableCollection<E> iterable) {\n    return checkNotNull(iterable);\n  }", "language": "java", "code": "@Deprecated\n  public static <E> Iterable<E> unmodifiableIterable(ImmutableCollection<E> iterable) {\n    return checkNotNull(iterable);\n  }", "code_tokens": ["@", "Deprecated", "public", "static", "<", "E", ">", "Iterable", "<", "E", ">", "unmodifiableIterable", "(", "ImmutableCollection", "<", "E", ">", "iterable", ")", "{", "return", "checkNotNull", "(", "iterable", ")", ";", "}"], "docstring": "Simply returns its argument.\n\n@deprecated no need to use this\n@since 10.0", "docstring_tokens": ["Simply", "returns", "its", "argument", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L84-L87", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.size", "original_string": "public static int size(Iterable<?> iterable) {\n    return (iterable instanceof Collection)\n        ? ((Collection<?>) iterable).size()\n        : Iterators.size(iterable.iterator());\n  }", "language": "java", "code": "public static int size(Iterable<?> iterable) {\n    return (iterable instanceof Collection)\n        ? ((Collection<?>) iterable).size()\n        : Iterators.size(iterable.iterator());\n  }", "code_tokens": ["public", "static", "int", "size", "(", "Iterable", "<", "?", ">", "iterable", ")", "{", "return", "(", "iterable", "instanceof", "Collection", ")", "?", "(", "(", "Collection", "<", "?", ">", ")", "iterable", ")", ".", "size", "(", ")", ":", "Iterators", ".", "size", "(", "iterable", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Returns the number of elements in {@code iterable}.", "docstring_tokens": ["Returns", "the", "number", "of", "elements", "in", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L109-L113", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.removeIf", "original_string": "@CanIgnoreReturnValue\n  public static <T> boolean removeIf(Iterable<T> removeFrom, Predicate<? super T> predicate) {\n    if (removeFrom instanceof RandomAccess && removeFrom instanceof List) {\n      return removeIfFromRandomAccessList((List<T>) removeFrom, checkNotNull(predicate));\n    }\n    return Iterators.removeIf(removeFrom.iterator(), predicate);\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static <T> boolean removeIf(Iterable<T> removeFrom, Predicate<? super T> predicate) {\n    if (removeFrom instanceof RandomAccess && removeFrom instanceof List) {\n      return removeIfFromRandomAccessList((List<T>) removeFrom, checkNotNull(predicate));\n    }\n    return Iterators.removeIf(removeFrom.iterator(), predicate);\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "<", "T", ">", "boolean", "removeIf", "(", "Iterable", "<", "T", ">", "removeFrom", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "if", "(", "removeFrom", "instanceof", "RandomAccess", "&&", "removeFrom", "instanceof", "List", ")", "{", "return", "removeIfFromRandomAccessList", "(", "(", "List", "<", "T", ">", ")", "removeFrom", ",", "checkNotNull", "(", "predicate", ")", ")", ";", "}", "return", "Iterators", ".", "removeIf", "(", "removeFrom", ".", "iterator", "(", ")", ",", "predicate", ")", ";", "}"], "docstring": "Removes, from an iterable, every element that satisfies the provided predicate.\n\n<p>Removals may or may not happen immediately as each element is tested against the predicate.\nThe behavior of this method is not specified if {@code predicate} is dependent on {@code\nremoveFrom}.\n\n@param removeFrom the iterable to (potentially) remove elements from\n@param predicate a predicate that determines whether an element should be removed\n@return {@code true} if any elements were removed from the iterable\n@throws UnsupportedOperationException if the iterable does not support {@code remove()}.\n@since 2.0", "docstring_tokens": ["Removes", "from", "an", "iterable", "every", "element", "that", "satisfies", "the", "provided", "predicate", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L176-L182", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.elementsEqual", "original_string": "public static boolean elementsEqual(Iterable<?> iterable1, Iterable<?> iterable2) {\n    if (iterable1 instanceof Collection && iterable2 instanceof Collection) {\n      Collection<?> collection1 = (Collection<?>) iterable1;\n      Collection<?> collection2 = (Collection<?>) iterable2;\n      if (collection1.size() != collection2.size()) {\n        return false;\n      }\n    }\n    return Iterators.elementsEqual(iterable1.iterator(), iterable2.iterator());\n  }", "language": "java", "code": "public static boolean elementsEqual(Iterable<?> iterable1, Iterable<?> iterable2) {\n    if (iterable1 instanceof Collection && iterable2 instanceof Collection) {\n      Collection<?> collection1 = (Collection<?>) iterable1;\n      Collection<?> collection2 = (Collection<?>) iterable2;\n      if (collection1.size() != collection2.size()) {\n        return false;\n      }\n    }\n    return Iterators.elementsEqual(iterable1.iterator(), iterable2.iterator());\n  }", "code_tokens": ["public", "static", "boolean", "elementsEqual", "(", "Iterable", "<", "?", ">", "iterable1", ",", "Iterable", "<", "?", ">", "iterable2", ")", "{", "if", "(", "iterable1", "instanceof", "Collection", "&&", "iterable2", "instanceof", "Collection", ")", "{", "Collection", "<", "?", ">", "collection1", "=", "(", "Collection", "<", "?", ">", ")", "iterable1", ";", "Collection", "<", "?", ">", "collection2", "=", "(", "Collection", "<", "?", ">", ")", "iterable2", ";", "if", "(", "collection1", ".", "size", "(", ")", "!=", "collection2", ".", "size", "(", ")", ")", "{", "return", "false", ";", "}", "}", "return", "Iterators", ".", "elementsEqual", "(", "iterable1", ".", "iterator", "(", ")", ",", "iterable2", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Determines whether two iterables contain equal elements in the same order. More specifically,\nthis method returns {@code true} if {@code iterable1} and {@code iterable2} contain the same\nnumber of elements and every element of {@code iterable1} is equal to the corresponding element\nof {@code iterable2}.", "docstring_tokens": ["Determines", "whether", "two", "iterables", "contain", "equal", "elements", "in", "the", "same", "order", ".", "More", "specifically", "this", "method", "returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L260-L269", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.getOnlyElement", "original_string": "public static <T> T getOnlyElement(Iterable<T> iterable) {\n    return Iterators.getOnlyElement(iterable.iterator());\n  }", "language": "java", "code": "public static <T> T getOnlyElement(Iterable<T> iterable) {\n    return Iterators.getOnlyElement(iterable.iterator());\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "getOnlyElement", "(", "Iterable", "<", "T", ">", "iterable", ")", "{", "return", "Iterators", ".", "getOnlyElement", "(", "iterable", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Returns the single element contained in {@code iterable}.\n\n<p><b>Java 8 users:</b> the {@code Stream} equivalent to this method is {@code\nstream.collect(MoreCollectors.onlyElement())}.\n\n@throws NoSuchElementException if the iterable is empty\n@throws IllegalArgumentException if the iterable contains multiple elements", "docstring_tokens": ["Returns", "the", "single", "element", "contained", "in", "{", "@code", "iterable", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L291-L293", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.getOnlyElement", "original_string": "@NullableDecl\n  public static <T> T getOnlyElement(Iterable<? extends T> iterable, @NullableDecl T defaultValue) {\n    return Iterators.getOnlyElement(iterable.iterator(), defaultValue);\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T getOnlyElement(Iterable<? extends T> iterable, @NullableDecl T defaultValue) {\n    return Iterators.getOnlyElement(iterable.iterator(), defaultValue);\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "getOnlyElement", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "return", "Iterators", ".", "getOnlyElement", "(", "iterable", ".", "iterator", "(", ")", ",", "defaultValue", ")", ";", "}"], "docstring": "Returns the single element contained in {@code iterable}, or {@code defaultValue} if the\niterable is empty.\n\n<p><b>Java 8 users:</b> the {@code Stream} equivalent to this method is {@code\nstream.collect(MoreCollectors.toOptional()).orElse(defaultValue)}.\n\n@throws IllegalArgumentException if the iterator contains multiple elements", "docstring_tokens": ["Returns", "the", "single", "element", "contained", "in", "{", "@code", "iterable", "}", "or", "{", "@code", "defaultValue", "}", "if", "the", "iterable", "is", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L304-L307", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.toArray", "original_string": "@GwtIncompatible // Array.newInstance(Class, int)\n  public static <T> T[] toArray(Iterable<? extends T> iterable, Class<T> type) {\n    return toArray(iterable, ObjectArrays.newArray(type, 0));\n  }", "language": "java", "code": "@GwtIncompatible // Array.newInstance(Class, int)\n  public static <T> T[] toArray(Iterable<? extends T> iterable, Class<T> type) {\n    return toArray(iterable, ObjectArrays.newArray(type, 0));\n  }", "code_tokens": ["@", "GwtIncompatible", "// Array.newInstance(Class, int)", "public", "static", "<", "T", ">", "T", "[", "]", "toArray", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ",", "Class", "<", "T", ">", "type", ")", "{", "return", "toArray", "(", "iterable", ",", "ObjectArrays", ".", "newArray", "(", "type", ",", "0", ")", ")", ";", "}"], "docstring": "Copies an iterable's elements into an array.\n\n@param iterable the iterable to copy\n@param type the type of the elements\n@return a newly-allocated array into which all the elements of the iterable have been copied", "docstring_tokens": ["Copies", "an", "iterable", "s", "elements", "into", "an", "array", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L316-L319", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.castOrCopyToCollection", "original_string": "private static <E> Collection<E> castOrCopyToCollection(Iterable<E> iterable) {\n    return (iterable instanceof Collection)\n        ? (Collection<E>) iterable\n        : Lists.newArrayList(iterable.iterator());\n  }", "language": "java", "code": "private static <E> Collection<E> castOrCopyToCollection(Iterable<E> iterable) {\n    return (iterable instanceof Collection)\n        ? (Collection<E>) iterable\n        : Lists.newArrayList(iterable.iterator());\n  }", "code_tokens": ["private", "static", "<", "E", ">", "Collection", "<", "E", ">", "castOrCopyToCollection", "(", "Iterable", "<", "E", ">", "iterable", ")", "{", "return", "(", "iterable", "instanceof", "Collection", ")", "?", "(", "Collection", "<", "E", ">", ")", "iterable", ":", "Lists", ".", "newArrayList", "(", "iterable", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Converts an iterable into a collection. If the iterable is already a collection, it is\nreturned. Otherwise, an {@link java.util.ArrayList} is created with the contents of the\niterable in the same iteration order.", "docstring_tokens": ["Converts", "an", "iterable", "into", "a", "collection", ".", "If", "the", "iterable", "is", "already", "a", "collection", "it", "is", "returned", ".", "Otherwise", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L341-L345", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.addAll", "original_string": "@CanIgnoreReturnValue\n  public static <T> boolean addAll(Collection<T> addTo, Iterable<? extends T> elementsToAdd) {\n    if (elementsToAdd instanceof Collection) {\n      Collection<? extends T> c = Collections2.cast(elementsToAdd);\n      return addTo.addAll(c);\n    }\n    return Iterators.addAll(addTo, checkNotNull(elementsToAdd).iterator());\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static <T> boolean addAll(Collection<T> addTo, Iterable<? extends T> elementsToAdd) {\n    if (elementsToAdd instanceof Collection) {\n      Collection<? extends T> c = Collections2.cast(elementsToAdd);\n      return addTo.addAll(c);\n    }\n    return Iterators.addAll(addTo, checkNotNull(elementsToAdd).iterator());\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "<", "T", ">", "boolean", "addAll", "(", "Collection", "<", "T", ">", "addTo", ",", "Iterable", "<", "?", "extends", "T", ">", "elementsToAdd", ")", "{", "if", "(", "elementsToAdd", "instanceof", "Collection", ")", "{", "Collection", "<", "?", "extends", "T", ">", "c", "=", "Collections2", ".", "cast", "(", "elementsToAdd", ")", ";", "return", "addTo", ".", "addAll", "(", "c", ")", ";", "}", "return", "Iterators", ".", "addAll", "(", "addTo", ",", "checkNotNull", "(", "elementsToAdd", ")", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Adds all elements in {@code iterable} to {@code collection}.\n\n@return {@code true} if {@code collection} was modified as a result of this operation.", "docstring_tokens": ["Adds", "all", "elements", "in", "{", "@code", "iterable", "}", "to", "{", "@code", "collection", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L352-L359", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.frequency", "original_string": "public static int frequency(Iterable<?> iterable, @NullableDecl Object element) {\n    if ((iterable instanceof Multiset)) {\n      return ((Multiset<?>) iterable).count(element);\n    } else if ((iterable instanceof Set)) {\n      return ((Set<?>) iterable).contains(element) ? 1 : 0;\n    }\n    return Iterators.frequency(iterable.iterator(), element);\n  }", "language": "java", "code": "public static int frequency(Iterable<?> iterable, @NullableDecl Object element) {\n    if ((iterable instanceof Multiset)) {\n      return ((Multiset<?>) iterable).count(element);\n    } else if ((iterable instanceof Set)) {\n      return ((Set<?>) iterable).contains(element) ? 1 : 0;\n    }\n    return Iterators.frequency(iterable.iterator(), element);\n  }", "code_tokens": ["public", "static", "int", "frequency", "(", "Iterable", "<", "?", ">", "iterable", ",", "@", "NullableDecl", "Object", "element", ")", "{", "if", "(", "(", "iterable", "instanceof", "Multiset", ")", ")", "{", "return", "(", "(", "Multiset", "<", "?", ">", ")", "iterable", ")", ".", "count", "(", "element", ")", ";", "}", "else", "if", "(", "(", "iterable", "instanceof", "Set", ")", ")", "{", "return", "(", "(", "Set", "<", "?", ">", ")", "iterable", ")", ".", "contains", "(", "element", ")", "?", "1", ":", "0", ";", "}", "return", "Iterators", ".", "frequency", "(", "iterable", ".", "iterator", "(", ")", ",", "element", ")", ";", "}"], "docstring": "Returns the number of elements in the specified iterable that equal the specified object. This\nimplementation avoids a full iteration when the iterable is a {@link Multiset} or {@link Set}.\n\n<p><b>Java 8 users:</b> In most cases, the {@code Stream} equivalent of this method is {@code\nstream.filter(element::equals).count()}. If {@code element} might be null, use {@code\nstream.filter(Predicate.isEqual(element)).count()} instead.\n\n@see java.util.Collections#frequency(Collection, Object) Collections.frequency(Collection,\nObject)", "docstring_tokens": ["Returns", "the", "number", "of", "elements", "in", "the", "specified", "iterable", "that", "equal", "the", "specified", "object", ".", "This", "implementation", "avoids", "a", "full", "iteration", "when", "the", "iterable", "is", "a", "{", "@link", "Multiset", "}", "or", "{", "@link", "Set", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L372-L379", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.cycle", "original_string": "public static <T> Iterable<T> cycle(final Iterable<T> iterable) {\n    checkNotNull(iterable);\n    return new FluentIterable<T>() {\n      @Override\n      public Iterator<T> iterator() {\n        return Iterators.cycle(iterable);\n      }\n\n      @Override\n      public String toString() {\n        return iterable.toString() + \" (cycled)\";\n      }\n    };\n  }", "language": "java", "code": "public static <T> Iterable<T> cycle(final Iterable<T> iterable) {\n    checkNotNull(iterable);\n    return new FluentIterable<T>() {\n      @Override\n      public Iterator<T> iterator() {\n        return Iterators.cycle(iterable);\n      }\n\n      @Override\n      public String toString() {\n        return iterable.toString() + \" (cycled)\";\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "cycle", "(", "final", "Iterable", "<", "T", ">", "iterable", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "return", "new", "FluentIterable", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "Iterator", "<", "T", ">", "iterator", "(", ")", "{", "return", "Iterators", ".", "cycle", "(", "iterable", ")", ";", "}", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "iterable", ".", "toString", "(", ")", "+", "\" (cycled)\"", ";", "}", "}", ";", "}"], "docstring": "Returns an iterable whose iterators cycle indefinitely over the elements of {@code iterable}.\n\n<p>That iterator supports {@code remove()} if {@code iterable.iterator()} does. After {@code\nremove()} is called, subsequent cycles omit the removed element, which is no longer in {@code\niterable}. The iterator's {@code hasNext()} method returns {@code true} until {@code iterable}\nis empty.\n\n<p><b>Warning:</b> Typical uses of the resulting iterator may produce an infinite loop. You\nshould use an explicit {@code break} or be certain that you will eventually remove all the\nelements.\n\n<p>To cycle over the iterable {@code n} times, use the following: {@code\nIterables.concat(Collections.nCopies(n, iterable))}\n\n<p><b>Java 8 users:</b> The {@code Stream} equivalent of this method is {@code\nStream.generate(() -> iterable).flatMap(Streams::stream)}.", "docstring_tokens": ["Returns", "an", "iterable", "whose", "iterators", "cycle", "indefinitely", "over", "the", "elements", "of", "{", "@code", "iterable", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L399-L412", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.concat", "original_string": "public static <T> Iterable<T> concat(\n      Iterable<? extends T> a, Iterable<? extends T> b, Iterable<? extends T> c) {\n    return FluentIterable.concat(a, b, c);\n  }", "language": "java", "code": "public static <T> Iterable<T> concat(\n      Iterable<? extends T> a, Iterable<? extends T> b, Iterable<? extends T> c) {\n    return FluentIterable.concat(a, b, c);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "concat", "(", "Iterable", "<", "?", "extends", "T", ">", "a", ",", "Iterable", "<", "?", "extends", "T", ">", "b", ",", "Iterable", "<", "?", "extends", "T", ">", "c", ")", "{", "return", "FluentIterable", ".", "concat", "(", "a", ",", "b", ",", "c", ")", ";", "}"], "docstring": "Combines three iterables into a single iterable. The returned iterable has an iterator that\ntraverses the elements in {@code a}, followed by the elements in {@code b}, followed by the\nelements in {@code c}. The source iterators are not polled until necessary.\n\n<p>The returned iterable's iterator supports {@code remove()} when the corresponding input\niterator supports it.\n\n<p><b>Java 8 users:</b> The {@code Stream} equivalent of this method is {@code\nStreams.concat(a, b, c)}.", "docstring_tokens": ["Combines", "three", "iterables", "into", "a", "single", "iterable", ".", "The", "returned", "iterable", "has", "an", "iterator", "that", "traverses", "the", "elements", "in", "{", "@code", "a", "}", "followed", "by", "the", "elements", "in", "{", "@code", "b", "}", "followed", "by", "the", "elements", "in", "{", "@code", "c", "}", ".", "The", "source", "iterators", "are", "not", "polled", "until", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L465-L468", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.concat", "original_string": "@SafeVarargs\n  public static <T> Iterable<T> concat(Iterable<? extends T>... inputs) {\n    return FluentIterable.concat(inputs);\n  }", "language": "java", "code": "@SafeVarargs\n  public static <T> Iterable<T> concat(Iterable<? extends T>... inputs) {\n    return FluentIterable.concat(inputs);\n  }", "code_tokens": ["@", "SafeVarargs", "public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "concat", "(", "Iterable", "<", "?", "extends", "T", ">", "...", "inputs", ")", "{", "return", "FluentIterable", ".", "concat", "(", "inputs", ")", ";", "}"], "docstring": "Combines multiple iterables into a single iterable. The returned iterable has an iterator that\ntraverses the elements of each iterable in {@code inputs}. The input iterators are not polled\nuntil necessary.\n\n<p>The returned iterable's iterator supports {@code remove()} when the corresponding input\niterator supports it.\n\n<p><b>Java 8 users:</b> The {@code Stream} equivalent of this method is {@code\nStreams.concat(...)}.\n\n@throws NullPointerException if any of the provided iterables is null", "docstring_tokens": ["Combines", "multiple", "iterables", "into", "a", "single", "iterable", ".", "The", "returned", "iterable", "has", "an", "iterator", "that", "traverses", "the", "elements", "of", "each", "iterable", "in", "{", "@code", "inputs", "}", ".", "The", "input", "iterators", "are", "not", "polled", "until", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L503-L506", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.partition", "original_string": "public static <T> Iterable<List<T>> partition(final Iterable<T> iterable, final int size) {\n    checkNotNull(iterable);\n    checkArgument(size > 0);\n    return new FluentIterable<List<T>>() {\n      @Override\n      public Iterator<List<T>> iterator() {\n        return Iterators.partition(iterable.iterator(), size);\n      }\n    };\n  }", "language": "java", "code": "public static <T> Iterable<List<T>> partition(final Iterable<T> iterable, final int size) {\n    checkNotNull(iterable);\n    checkArgument(size > 0);\n    return new FluentIterable<List<T>>() {\n      @Override\n      public Iterator<List<T>> iterator() {\n        return Iterators.partition(iterable.iterator(), size);\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterable", "<", "List", "<", "T", ">", ">", "partition", "(", "final", "Iterable", "<", "T", ">", "iterable", ",", "final", "int", "size", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "checkArgument", "(", "size", ">", "0", ")", ";", "return", "new", "FluentIterable", "<", "List", "<", "T", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterator", "<", "List", "<", "T", ">", ">", "iterator", "(", ")", "{", "return", "Iterators", ".", "partition", "(", "iterable", ".", "iterator", "(", ")", ",", "size", ")", ";", "}", "}", ";", "}"], "docstring": "Divides an iterable into unmodifiable sublists of the given size (the final iterable may be\nsmaller). For example, partitioning an iterable containing {@code [a, b, c, d, e]} with a\npartition size of 3 yields {@code [[a, b, c], [d, e]]} -- an outer iterable containing two\ninner lists of three and two elements, all in the original order.\n\n<p>Iterators returned by the returned iterable do not support the {@link Iterator#remove()}\nmethod. The returned lists implement {@link RandomAccess}, whether or not the input list does.\n\n<p><b>Note:</b> if {@code iterable} is a {@link List}, use {@link Lists#partition(List, int)}\ninstead.\n\n@param iterable the iterable to return a partitioned view of\n@param size the desired size of each partition (the last may be smaller)\n@return an iterable of unmodifiable lists containing the elements of {@code iterable} divided\ninto partitions\n@throws IllegalArgumentException if {@code size} is nonpositive", "docstring_tokens": ["Divides", "an", "iterable", "into", "unmodifiable", "sublists", "of", "the", "given", "size", "(", "the", "final", "iterable", "may", "be", "smaller", ")", ".", "For", "example", "partitioning", "an", "iterable", "containing", "{", "@code", "[", "a", "b", "c", "d", "e", "]", "}", "with", "a", "partition", "size", "of", "3", "yields", "{", "@code", "[[", "a", "b", "c", "]", "[", "d", "e", "]]", "}", "--", "an", "outer", "iterable", "containing", "two", "inner", "lists", "of", "three", "and", "two", "elements", "all", "in", "the", "original", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L542-L551", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.filter", "original_string": "@SuppressWarnings(\"unchecked\")\n  @GwtIncompatible // Class.isInstance\n  public static <T> Iterable<T> filter(final Iterable<?> unfiltered, final Class<T> desiredType) {\n    checkNotNull(unfiltered);\n    checkNotNull(desiredType);\n    return (Iterable<T>) filter(unfiltered, Predicates.instanceOf(desiredType));\n  }", "language": "java", "code": "@SuppressWarnings(\"unchecked\")\n  @GwtIncompatible // Class.isInstance\n  public static <T> Iterable<T> filter(final Iterable<?> unfiltered, final Class<T> desiredType) {\n    checkNotNull(unfiltered);\n    checkNotNull(desiredType);\n    return (Iterable<T>) filter(unfiltered, Predicates.instanceOf(desiredType));\n  }", "code_tokens": ["@", "SuppressWarnings", "(", "\"unchecked\"", ")", "@", "GwtIncompatible", "// Class.isInstance", "public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "filter", "(", "final", "Iterable", "<", "?", ">", "unfiltered", ",", "final", "Class", "<", "T", ">", "desiredType", ")", "{", "checkNotNull", "(", "unfiltered", ")", ";", "checkNotNull", "(", "desiredType", ")", ";", "return", "(", "Iterable", "<", "T", ">", ")", "filter", "(", "unfiltered", ",", "Predicates", ".", "instanceOf", "(", "desiredType", ")", ")", ";", "}"], "docstring": "Returns a view of {@code unfiltered} containing all elements that are of the type {@code\ndesiredType}. The returned iterable's iterator does not support {@code remove()}.\n\n<p><b>{@code Stream} equivalent:</b> {@code stream.filter(type::isInstance).map(type::cast)}.\nThis does perform a little more work than necessary, so another option is to insert an\nunchecked cast at some later point:\n\n<pre>\n{@code @SuppressWarnings(\"unchecked\") // safe because of ::isInstance check\nImmutableList<NewType> result =\n(ImmutableList) stream.filter(NewType.class::isInstance).collect(toImmutableList());}\n</pre>", "docstring_tokens": ["Returns", "a", "view", "of", "{", "@code", "unfiltered", "}", "containing", "all", "elements", "that", "are", "of", "the", "type", "{", "@code", "desiredType", "}", ".", "The", "returned", "iterable", "s", "iterator", "does", "not", "support", "{", "@code", "remove", "()", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L611-L617", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.any", "original_string": "public static <T> boolean any(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.any(iterable.iterator(), predicate);\n  }", "language": "java", "code": "public static <T> boolean any(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.any(iterable.iterator(), predicate);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "boolean", "any", "(", "Iterable", "<", "T", ">", "iterable", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "return", "Iterators", ".", "any", "(", "iterable", ".", "iterator", "(", ")", ",", "predicate", ")", ";", "}"], "docstring": "Returns {@code true} if any element in {@code iterable} satisfies the predicate.\n\n<p><b>{@code Stream} equivalent:</b> {@link Stream#anyMatch}.", "docstring_tokens": ["Returns", "{", "@code", "true", "}", "if", "any", "element", "in", "{", "@code", "iterable", "}", "satisfies", "the", "predicate", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L624-L626", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.all", "original_string": "public static <T> boolean all(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.all(iterable.iterator(), predicate);\n  }", "language": "java", "code": "public static <T> boolean all(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.all(iterable.iterator(), predicate);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "boolean", "all", "(", "Iterable", "<", "T", ">", "iterable", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "return", "Iterators", ".", "all", "(", "iterable", ".", "iterator", "(", ")", ",", "predicate", ")", ";", "}"], "docstring": "Returns {@code true} if every element in {@code iterable} satisfies the predicate. If {@code\niterable} is empty, {@code true} is returned.\n\n<p><b>{@code Stream} equivalent:</b> {@link Stream#allMatch}.", "docstring_tokens": ["Returns", "{", "@code", "true", "}", "if", "every", "element", "in", "{", "@code", "iterable", "}", "satisfies", "the", "predicate", ".", "If", "{", "@code", "iterable", "}", "is", "empty", "{", "@code", "true", "}", "is", "returned", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L634-L636", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.tryFind", "original_string": "public static <T> Optional<T> tryFind(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.tryFind(iterable.iterator(), predicate);\n  }", "language": "java", "code": "public static <T> Optional<T> tryFind(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.tryFind(iterable.iterator(), predicate);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Optional", "<", "T", ">", "tryFind", "(", "Iterable", "<", "T", ">", "iterable", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "return", "Iterators", ".", "tryFind", "(", "iterable", ".", "iterator", "(", ")", ",", "predicate", ")", ";", "}"], "docstring": "Returns an {@link Optional} containing the first element in {@code iterable} that satisfies the\ngiven predicate, if such an element exists.\n\n<p><b>Warning:</b> avoid using a {@code predicate} that matches {@code null}. If {@code null}\nis matched in {@code iterable}, a NullPointerException will be thrown.\n\n<p><b>{@code Stream} equivalent:</b> {@code stream.filter(predicate).findFirst()}\n\n@since 11.0", "docstring_tokens": ["Returns", "an", "{", "@link", "Optional", "}", "containing", "the", "first", "element", "in", "{", "@code", "iterable", "}", "that", "satisfies", "the", "given", "predicate", "if", "such", "an", "element", "exists", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L680-L682", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.indexOf", "original_string": "public static <T> int indexOf(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.indexOf(iterable.iterator(), predicate);\n  }", "language": "java", "code": "public static <T> int indexOf(Iterable<T> iterable, Predicate<? super T> predicate) {\n    return Iterators.indexOf(iterable.iterator(), predicate);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "int", "indexOf", "(", "Iterable", "<", "T", ">", "iterable", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "return", "Iterators", ".", "indexOf", "(", "iterable", ".", "iterator", "(", ")", ",", "predicate", ")", ";", "}"], "docstring": "Returns the index in {@code iterable} of the first element that satisfies the provided {@code\npredicate}, or {@code -1} if the Iterable has no such elements.\n\n<p>More formally, returns the lowest index {@code i} such that {@code\npredicate.apply(Iterables.get(iterable, i))} returns {@code true}, or {@code -1} if there is no\nsuch index.\n\n@since 2.0", "docstring_tokens": ["Returns", "the", "index", "in", "{", "@code", "iterable", "}", "of", "the", "first", "element", "that", "satisfies", "the", "provided", "{", "@code", "predicate", "}", "or", "{", "@code", "-", "1", "}", "if", "the", "Iterable", "has", "no", "such", "elements", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L694-L696", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.get", "original_string": "public static <T> T get(Iterable<T> iterable, int position) {\n    checkNotNull(iterable);\n    return (iterable instanceof List)\n        ? ((List<T>) iterable).get(position)\n        : Iterators.get(iterable.iterator(), position);\n  }", "language": "java", "code": "public static <T> T get(Iterable<T> iterable, int position) {\n    checkNotNull(iterable);\n    return (iterable instanceof List)\n        ? ((List<T>) iterable).get(position)\n        : Iterators.get(iterable.iterator(), position);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "get", "(", "Iterable", "<", "T", ">", "iterable", ",", "int", "position", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "return", "(", "iterable", "instanceof", "List", ")", "?", "(", "(", "List", "<", "T", ">", ")", "iterable", ")", ".", "get", "(", "position", ")", ":", "Iterators", ".", "get", "(", "iterable", ".", "iterator", "(", ")", ",", "position", ")", ";", "}"], "docstring": "Returns the element at the specified position in an iterable.\n\n<p><b>{@code Stream} equivalent:</b> {@code stream.skip(position).findFirst().get()} (throws\n{@code NoSuchElementException} if out of bounds)\n\n@param position position of the element to return\n@return the element at the specified position in {@code iterable}\n@throws IndexOutOfBoundsException if {@code position} is negative or greater than or equal to\nthe size of {@code iterable}", "docstring_tokens": ["Returns", "the", "element", "at", "the", "specified", "position", "in", "an", "iterable", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L734-L739", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.get", "original_string": "@NullableDecl\n  public static <T> T get(\n      Iterable<? extends T> iterable, int position, @NullableDecl T defaultValue) {\n    checkNotNull(iterable);\n    Iterators.checkNonnegative(position);\n    if (iterable instanceof List) {\n      List<? extends T> list = Lists.cast(iterable);\n      return (position < list.size()) ? list.get(position) : defaultValue;\n    } else {\n      Iterator<? extends T> iterator = iterable.iterator();\n      Iterators.advance(iterator, position);\n      return Iterators.getNext(iterator, defaultValue);\n    }\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T get(\n      Iterable<? extends T> iterable, int position, @NullableDecl T defaultValue) {\n    checkNotNull(iterable);\n    Iterators.checkNonnegative(position);\n    if (iterable instanceof List) {\n      List<? extends T> list = Lists.cast(iterable);\n      return (position < list.size()) ? list.get(position) : defaultValue;\n    } else {\n      Iterator<? extends T> iterator = iterable.iterator();\n      Iterators.advance(iterator, position);\n      return Iterators.getNext(iterator, defaultValue);\n    }\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "get", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ",", "int", "position", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "Iterators", ".", "checkNonnegative", "(", "position", ")", ";", "if", "(", "iterable", "instanceof", "List", ")", "{", "List", "<", "?", "extends", "T", ">", "list", "=", "Lists", ".", "cast", "(", "iterable", ")", ";", "return", "(", "position", "<", "list", ".", "size", "(", ")", ")", "?", "list", ".", "get", "(", "position", ")", ":", "defaultValue", ";", "}", "else", "{", "Iterator", "<", "?", "extends", "T", ">", "iterator", "=", "iterable", ".", "iterator", "(", ")", ";", "Iterators", ".", "advance", "(", "iterator", ",", "position", ")", ";", "return", "Iterators", ".", "getNext", "(", "iterator", ",", "defaultValue", ")", ";", "}", "}"], "docstring": "Returns the element at the specified position in an iterable or a default value otherwise.\n\n<p><b>{@code Stream} equivalent:</b> {@code\nstream.skip(position).findFirst().orElse(defaultValue)} (returns the default value if the index\nis out of bounds)\n\n@param position position of the element to return\n@param defaultValue the default value to return if {@code position} is greater than or equal to\nthe size of the iterable\n@return the element at the specified position in {@code iterable} or {@code defaultValue} if\n{@code iterable} contains fewer than {@code position + 1} elements.\n@throws IndexOutOfBoundsException if {@code position} is negative\n@since 4.0", "docstring_tokens": ["Returns", "the", "element", "at", "the", "specified", "position", "in", "an", "iterable", "or", "a", "default", "value", "otherwise", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L756-L769", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.getFirst", "original_string": "@NullableDecl\n  public static <T> T getFirst(Iterable<? extends T> iterable, @NullableDecl T defaultValue) {\n    return Iterators.getNext(iterable.iterator(), defaultValue);\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T getFirst(Iterable<? extends T> iterable, @NullableDecl T defaultValue) {\n    return Iterators.getNext(iterable.iterator(), defaultValue);\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "getFirst", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "return", "Iterators", ".", "getNext", "(", "iterable", ".", "iterator", "(", ")", ",", "defaultValue", ")", ";", "}"], "docstring": "Returns the first element in {@code iterable} or {@code defaultValue} if the iterable is empty.\nThe {@link Iterators} analog to this method is {@link Iterators#getNext}.\n\n<p>If no default value is desired (and the caller instead wants a {@link\nNoSuchElementException} to be thrown), it is recommended that {@code\niterable.iterator().next()} is used instead.\n\n<p>To get the only element in a single-element {@code Iterable}, consider using {@link\n#getOnlyElement(Iterable)} or {@link #getOnlyElement(Iterable, Object)} instead.\n\n<p><b>{@code Stream} equivalent:</b> {@code stream.findFirst().orElse(defaultValue)}\n\n@param defaultValue the default value to return if the iterable is empty\n@return the first element of {@code iterable} or the default value\n@since 7.0", "docstring_tokens": ["Returns", "the", "first", "element", "in", "{", "@code", "iterable", "}", "or", "{", "@code", "defaultValue", "}", "if", "the", "iterable", "is", "empty", ".", "The", "{", "@link", "Iterators", "}", "analog", "to", "this", "method", "is", "{", "@link", "Iterators#getNext", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L788-L791", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.getLast", "original_string": "public static <T> T getLast(Iterable<T> iterable) {\n    // TODO(kevinb): Support a concurrently modified collection?\n    if (iterable instanceof List) {\n      List<T> list = (List<T>) iterable;\n      if (list.isEmpty()) {\n        throw new NoSuchElementException();\n      }\n      return getLastInNonemptyList(list);\n    }\n\n    return Iterators.getLast(iterable.iterator());\n  }", "language": "java", "code": "public static <T> T getLast(Iterable<T> iterable) {\n    // TODO(kevinb): Support a concurrently modified collection?\n    if (iterable instanceof List) {\n      List<T> list = (List<T>) iterable;\n      if (list.isEmpty()) {\n        throw new NoSuchElementException();\n      }\n      return getLastInNonemptyList(list);\n    }\n\n    return Iterators.getLast(iterable.iterator());\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "getLast", "(", "Iterable", "<", "T", ">", "iterable", ")", "{", "// TODO(kevinb): Support a concurrently modified collection?", "if", "(", "iterable", "instanceof", "List", ")", "{", "List", "<", "T", ">", "list", "=", "(", "List", "<", "T", ">", ")", "iterable", ";", "if", "(", "list", ".", "isEmpty", "(", ")", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "return", "getLastInNonemptyList", "(", "list", ")", ";", "}", "return", "Iterators", ".", "getLast", "(", "iterable", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Returns the last element of {@code iterable}. If {@code iterable} is a {@link List} with {@link\nRandomAccess} support, then this operation is guaranteed to be {@code O(1)}.\n\n<p><b>{@code Stream} equivalent:</b> {@link Streams#findLast Streams.findLast(stream).get()}\n\n@return the last element of {@code iterable}\n@throws NoSuchElementException if the iterable is empty", "docstring_tokens": ["Returns", "the", "last", "element", "of", "{", "@code", "iterable", "}", ".", "If", "{", "@code", "iterable", "}", "is", "a", "{", "@link", "List", "}", "with", "{", "@link", "RandomAccess", "}", "support", "then", "this", "operation", "is", "guaranteed", "to", "be", "{", "@code", "O", "(", "1", ")", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L802-L813", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.isEmpty", "original_string": "public static boolean isEmpty(Iterable<?> iterable) {\n    if (iterable instanceof Collection) {\n      return ((Collection<?>) iterable).isEmpty();\n    }\n    return !iterable.iterator().hasNext();\n  }", "language": "java", "code": "public static boolean isEmpty(Iterable<?> iterable) {\n    if (iterable instanceof Collection) {\n      return ((Collection<?>) iterable).isEmpty();\n    }\n    return !iterable.iterator().hasNext();\n  }", "code_tokens": ["public", "static", "boolean", "isEmpty", "(", "Iterable", "<", "?", ">", "iterable", ")", "{", "if", "(", "iterable", "instanceof", "Collection", ")", "{", "return", "(", "(", "Collection", "<", "?", ">", ")", "iterable", ")", ".", "isEmpty", "(", ")", ";", "}", "return", "!", "iterable", ".", "iterator", "(", ")", ".", "hasNext", "(", ")", ";", "}"], "docstring": "Determines if the given iterable contains no elements.\n\n<p>There is no precise {@link Iterator} equivalent to this method, since one can only ask an\niterator whether it has any elements <i>remaining</i> (which one does using {@link\nIterator#hasNext}).\n\n<p><b>{@code Stream} equivalent:</b> {@code !stream.findAny().isPresent()}\n\n@return {@code true} if the iterable contains no elements", "docstring_tokens": ["Determines", "if", "the", "given", "iterable", "contains", "no", "elements", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L980-L985", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.mergeSorted", "original_string": "@Beta\n  public static <T> Iterable<T> mergeSorted(\n      final Iterable<? extends Iterable<? extends T>> iterables,\n      final Comparator<? super T> comparator) {\n    checkNotNull(iterables, \"iterables\");\n    checkNotNull(comparator, \"comparator\");\n    Iterable<T> iterable =\n        new FluentIterable<T>() {\n          @Override\n          public Iterator<T> iterator() {\n            return Iterators.mergeSorted(\n                Iterables.transform(iterables, Iterables.<T>toIterator()), comparator);\n          }\n        };\n    return new UnmodifiableIterable<>(iterable);\n  }", "language": "java", "code": "@Beta\n  public static <T> Iterable<T> mergeSorted(\n      final Iterable<? extends Iterable<? extends T>> iterables,\n      final Comparator<? super T> comparator) {\n    checkNotNull(iterables, \"iterables\");\n    checkNotNull(comparator, \"comparator\");\n    Iterable<T> iterable =\n        new FluentIterable<T>() {\n          @Override\n          public Iterator<T> iterator() {\n            return Iterators.mergeSorted(\n                Iterables.transform(iterables, Iterables.<T>toIterator()), comparator);\n          }\n        };\n    return new UnmodifiableIterable<>(iterable);\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "mergeSorted", "(", "final", "Iterable", "<", "?", "extends", "Iterable", "<", "?", "extends", "T", ">", ">", "iterables", ",", "final", "Comparator", "<", "?", "super", "T", ">", "comparator", ")", "{", "checkNotNull", "(", "iterables", ",", "\"iterables\"", ")", ";", "checkNotNull", "(", "comparator", ",", "\"comparator\"", ")", ";", "Iterable", "<", "T", ">", "iterable", "=", "new", "FluentIterable", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "Iterator", "<", "T", ">", "iterator", "(", ")", "{", "return", "Iterators", ".", "mergeSorted", "(", "Iterables", ".", "transform", "(", "iterables", ",", "Iterables", ".", "<", "T", ">", "toIterator", "(", ")", ")", ",", "comparator", ")", ";", "}", "}", ";", "return", "new", "UnmodifiableIterable", "<>", "(", "iterable", ")", ";", "}"], "docstring": "Returns an iterable over the merged contents of all given {@code iterables}. Equivalent entries\nwill not be de-duplicated.\n\n<p>Callers must ensure that the source {@code iterables} are in non-descending order as this\nmethod does not sort its input.\n\n<p>For any equivalent elements across all {@code iterables}, it is undefined which element is\nreturned first.\n\n@since 11.0", "docstring_tokens": ["Returns", "an", "iterable", "over", "the", "merged", "contents", "of", "all", "given", "{", "@code", "iterables", "}", ".", "Equivalent", "entries", "will", "not", "be", "de", "-", "duplicated", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L999-L1014", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterables.java", "func_name": "Iterables.toIterator", "original_string": "static <T> Function<Iterable<? extends T>, Iterator<? extends T>> toIterator() {\n    return new Function<Iterable<? extends T>, Iterator<? extends T>>() {\n      @Override\n      public Iterator<? extends T> apply(Iterable<? extends T> iterable) {\n        return iterable.iterator();\n      }\n    };\n  }", "language": "java", "code": "static <T> Function<Iterable<? extends T>, Iterator<? extends T>> toIterator() {\n    return new Function<Iterable<? extends T>, Iterator<? extends T>>() {\n      @Override\n      public Iterator<? extends T> apply(Iterable<? extends T> iterable) {\n        return iterable.iterator();\n      }\n    };\n  }", "code_tokens": ["static", "<", "T", ">", "Function", "<", "Iterable", "<", "?", "extends", "T", ">", ",", "Iterator", "<", "?", "extends", "T", ">", ">", "toIterator", "(", ")", "{", "return", "new", "Function", "<", "Iterable", "<", "?", "extends", "T", ">", ",", "Iterator", "<", "?", "extends", "T", ">", ">", "(", ")", "{", "@", "Override", "public", "Iterator", "<", "?", "extends", "T", ">", "apply", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ")", "{", "return", "iterable", ".", "iterator", "(", ")", ";", "}", "}", ";", "}"], "docstring": "Useful as a public method?", "docstring_tokens": ["Useful", "as", "a", "public", "method?"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterables.java#L1018-L1025", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.unmodifiableIterator", "original_string": "@Deprecated\n  public static <T> UnmodifiableIterator<T> unmodifiableIterator(UnmodifiableIterator<T> iterator) {\n    return checkNotNull(iterator);\n  }", "language": "java", "code": "@Deprecated\n  public static <T> UnmodifiableIterator<T> unmodifiableIterator(UnmodifiableIterator<T> iterator) {\n    return checkNotNull(iterator);\n  }", "code_tokens": ["@", "Deprecated", "public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "T", ">", "unmodifiableIterator", "(", "UnmodifiableIterator", "<", "T", ">", "iterator", ")", "{", "return", "checkNotNull", "(", "iterator", ")", ";", "}"], "docstring": "Simply returns its argument.\n\n@deprecated no need to use this\n@since 10.0", "docstring_tokens": ["Simply", "returns", "its", "argument", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L152-L155", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.size", "original_string": "public static int size(Iterator<?> iterator) {\n    long count = 0L;\n    while (iterator.hasNext()) {\n      iterator.next();\n      count++;\n    }\n    return Ints.saturatedCast(count);\n  }", "language": "java", "code": "public static int size(Iterator<?> iterator) {\n    long count = 0L;\n    while (iterator.hasNext()) {\n      iterator.next();\n      count++;\n    }\n    return Ints.saturatedCast(count);\n  }", "code_tokens": ["public", "static", "int", "size", "(", "Iterator", "<", "?", ">", "iterator", ")", "{", "long", "count", "=", "0L", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "iterator", ".", "next", "(", ")", ";", "count", "++", ";", "}", "return", "Ints", ".", "saturatedCast", "(", "count", ")", ";", "}"], "docstring": "Returns the number of elements remaining in {@code iterator}. The iterator will be left\nexhausted: its {@code hasNext()} method will return {@code false}.", "docstring_tokens": ["Returns", "the", "number", "of", "elements", "remaining", "in", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L161-L168", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.contains", "original_string": "public static boolean contains(Iterator<?> iterator, @NullableDecl Object element) {\n    if (element == null) {\n      while (iterator.hasNext()) {\n        if (iterator.next() == null) {\n          return true;\n        }\n      }\n    } else {\n      while (iterator.hasNext()) {\n        if (element.equals(iterator.next())) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }", "language": "java", "code": "public static boolean contains(Iterator<?> iterator, @NullableDecl Object element) {\n    if (element == null) {\n      while (iterator.hasNext()) {\n        if (iterator.next() == null) {\n          return true;\n        }\n      }\n    } else {\n      while (iterator.hasNext()) {\n        if (element.equals(iterator.next())) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }", "code_tokens": ["public", "static", "boolean", "contains", "(", "Iterator", "<", "?", ">", "iterator", ",", "@", "NullableDecl", "Object", "element", ")", "{", "if", "(", "element", "==", "null", ")", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "if", "(", "iterator", ".", "next", "(", ")", "==", "null", ")", "{", "return", "true", ";", "}", "}", "}", "else", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "if", "(", "element", ".", "equals", "(", "iterator", ".", "next", "(", ")", ")", ")", "{", "return", "true", ";", "}", "}", "}", "return", "false", ";", "}"], "docstring": "Returns {@code true} if {@code iterator} contains {@code element}.", "docstring_tokens": ["Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L171-L186", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.removeAll", "original_string": "@CanIgnoreReturnValue\n  public static boolean removeAll(Iterator<?> removeFrom, Collection<?> elementsToRemove) {\n    checkNotNull(elementsToRemove);\n    boolean result = false;\n    while (removeFrom.hasNext()) {\n      if (elementsToRemove.contains(removeFrom.next())) {\n        removeFrom.remove();\n        result = true;\n      }\n    }\n    return result;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static boolean removeAll(Iterator<?> removeFrom, Collection<?> elementsToRemove) {\n    checkNotNull(elementsToRemove);\n    boolean result = false;\n    while (removeFrom.hasNext()) {\n      if (elementsToRemove.contains(removeFrom.next())) {\n        removeFrom.remove();\n        result = true;\n      }\n    }\n    return result;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "boolean", "removeAll", "(", "Iterator", "<", "?", ">", "removeFrom", ",", "Collection", "<", "?", ">", "elementsToRemove", ")", "{", "checkNotNull", "(", "elementsToRemove", ")", ";", "boolean", "result", "=", "false", ";", "while", "(", "removeFrom", ".", "hasNext", "(", ")", ")", "{", "if", "(", "elementsToRemove", ".", "contains", "(", "removeFrom", ".", "next", "(", ")", ")", ")", "{", "removeFrom", ".", "remove", "(", ")", ";", "result", "=", "true", ";", "}", "}", "return", "result", ";", "}"], "docstring": "Traverses an iterator and removes every element that belongs to the provided collection. The\niterator will be left exhausted: its {@code hasNext()} method will return {@code false}.\n\n@param removeFrom the iterator to (potentially) remove elements from\n@param elementsToRemove the elements to remove\n@return {@code true} if any element was removed from {@code iterator}", "docstring_tokens": ["Traverses", "an", "iterator", "and", "removes", "every", "element", "that", "belongs", "to", "the", "provided", "collection", ".", "The", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L196-L207", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.removeIf", "original_string": "@CanIgnoreReturnValue\n  public static <T> boolean removeIf(Iterator<T> removeFrom, Predicate<? super T> predicate) {\n    checkNotNull(predicate);\n    boolean modified = false;\n    while (removeFrom.hasNext()) {\n      if (predicate.apply(removeFrom.next())) {\n        removeFrom.remove();\n        modified = true;\n      }\n    }\n    return modified;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static <T> boolean removeIf(Iterator<T> removeFrom, Predicate<? super T> predicate) {\n    checkNotNull(predicate);\n    boolean modified = false;\n    while (removeFrom.hasNext()) {\n      if (predicate.apply(removeFrom.next())) {\n        removeFrom.remove();\n        modified = true;\n      }\n    }\n    return modified;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "<", "T", ">", "boolean", "removeIf", "(", "Iterator", "<", "T", ">", "removeFrom", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "checkNotNull", "(", "predicate", ")", ";", "boolean", "modified", "=", "false", ";", "while", "(", "removeFrom", ".", "hasNext", "(", ")", ")", "{", "if", "(", "predicate", ".", "apply", "(", "removeFrom", ".", "next", "(", ")", ")", ")", "{", "removeFrom", ".", "remove", "(", ")", ";", "modified", "=", "true", ";", "}", "}", "return", "modified", ";", "}"], "docstring": "Removes every element that satisfies the provided predicate from the iterator. The iterator\nwill be left exhausted: its {@code hasNext()} method will return {@code false}.\n\n@param removeFrom the iterator to (potentially) remove elements from\n@param predicate a predicate that determines whether an element should be removed\n@return {@code true} if any elements were removed from the iterator\n@since 2.0", "docstring_tokens": ["Removes", "every", "element", "that", "satisfies", "the", "provided", "predicate", "from", "the", "iterator", ".", "The", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L218-L229", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.retainAll", "original_string": "@CanIgnoreReturnValue\n  public static boolean retainAll(Iterator<?> removeFrom, Collection<?> elementsToRetain) {\n    checkNotNull(elementsToRetain);\n    boolean result = false;\n    while (removeFrom.hasNext()) {\n      if (!elementsToRetain.contains(removeFrom.next())) {\n        removeFrom.remove();\n        result = true;\n      }\n    }\n    return result;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static boolean retainAll(Iterator<?> removeFrom, Collection<?> elementsToRetain) {\n    checkNotNull(elementsToRetain);\n    boolean result = false;\n    while (removeFrom.hasNext()) {\n      if (!elementsToRetain.contains(removeFrom.next())) {\n        removeFrom.remove();\n        result = true;\n      }\n    }\n    return result;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "boolean", "retainAll", "(", "Iterator", "<", "?", ">", "removeFrom", ",", "Collection", "<", "?", ">", "elementsToRetain", ")", "{", "checkNotNull", "(", "elementsToRetain", ")", ";", "boolean", "result", "=", "false", ";", "while", "(", "removeFrom", ".", "hasNext", "(", ")", ")", "{", "if", "(", "!", "elementsToRetain", ".", "contains", "(", "removeFrom", ".", "next", "(", ")", ")", ")", "{", "removeFrom", ".", "remove", "(", ")", ";", "result", "=", "true", ";", "}", "}", "return", "result", ";", "}"], "docstring": "Traverses an iterator and removes every element that does not belong to the provided\ncollection. The iterator will be left exhausted: its {@code hasNext()} method will return\n{@code false}.\n\n@param removeFrom the iterator to (potentially) remove elements from\n@param elementsToRetain the elements to retain\n@return {@code true} if any element was removed from {@code iterator}", "docstring_tokens": ["Traverses", "an", "iterator", "and", "removes", "every", "element", "that", "does", "not", "belong", "to", "the", "provided", "collection", ".", "The", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L240-L251", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.elementsEqual", "original_string": "public static boolean elementsEqual(Iterator<?> iterator1, Iterator<?> iterator2) {\n    while (iterator1.hasNext()) {\n      if (!iterator2.hasNext()) {\n        return false;\n      }\n      Object o1 = iterator1.next();\n      Object o2 = iterator2.next();\n      if (!Objects.equal(o1, o2)) {\n        return false;\n      }\n    }\n    return !iterator2.hasNext();\n  }", "language": "java", "code": "public static boolean elementsEqual(Iterator<?> iterator1, Iterator<?> iterator2) {\n    while (iterator1.hasNext()) {\n      if (!iterator2.hasNext()) {\n        return false;\n      }\n      Object o1 = iterator1.next();\n      Object o2 = iterator2.next();\n      if (!Objects.equal(o1, o2)) {\n        return false;\n      }\n    }\n    return !iterator2.hasNext();\n  }", "code_tokens": ["public", "static", "boolean", "elementsEqual", "(", "Iterator", "<", "?", ">", "iterator1", ",", "Iterator", "<", "?", ">", "iterator2", ")", "{", "while", "(", "iterator1", ".", "hasNext", "(", ")", ")", "{", "if", "(", "!", "iterator2", ".", "hasNext", "(", ")", ")", "{", "return", "false", ";", "}", "Object", "o1", "=", "iterator1", ".", "next", "(", ")", ";", "Object", "o2", "=", "iterator2", ".", "next", "(", ")", ";", "if", "(", "!", "Objects", ".", "equal", "(", "o1", ",", "o2", ")", ")", "{", "return", "false", ";", "}", "}", "return", "!", "iterator2", ".", "hasNext", "(", ")", ";", "}"], "docstring": "Determines whether two iterators contain equal elements in the same order. More specifically,\nthis method returns {@code true} if {@code iterator1} and {@code iterator2} contain the same\nnumber of elements and every element of {@code iterator1} is equal to the corresponding element\nof {@code iterator2}.\n\n<p>Note that this will modify the supplied iterators, since they will have been advanced some\nnumber of elements forward.", "docstring_tokens": ["Determines", "whether", "two", "iterators", "contain", "equal", "elements", "in", "the", "same", "order", ".", "More", "specifically", "this", "method", "returns", "{", "@code", "true", "}", "if", "{", "@code", "iterator1", "}", "and", "{", "@code", "iterator2", "}", "contain", "the", "same", "number", "of", "elements", "and", "every", "element", "of", "{", "@code", "iterator1", "}", "is", "equal", "to", "the", "corresponding", "element", "of", "{", "@code", "iterator2", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L262-L274", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.getOnlyElement", "original_string": "@NullableDecl\n  public static <T> T getOnlyElement(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? getOnlyElement(iterator) : defaultValue;\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T getOnlyElement(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? getOnlyElement(iterator) : defaultValue;\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "getOnlyElement", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", "?", "getOnlyElement", "(", "iterator", ")", ":", "defaultValue", ";", "}"], "docstring": "Returns the single element contained in {@code iterator}, or {@code defaultValue} if the\niterator is empty.\n\n@throws IllegalArgumentException if the iterator contains multiple elements. The state of the\niterator is unspecified.", "docstring_tokens": ["Returns", "the", "single", "element", "contained", "in", "{", "@code", "iterator", "}", "or", "{", "@code", "defaultValue", "}", "if", "the", "iterator", "is", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L325-L328", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.toArray", "original_string": "@GwtIncompatible // Array.newInstance(Class, int)\n  public static <T> T[] toArray(Iterator<? extends T> iterator, Class<T> type) {\n    List<T> list = Lists.newArrayList(iterator);\n    return Iterables.toArray(list, type);\n  }", "language": "java", "code": "@GwtIncompatible // Array.newInstance(Class, int)\n  public static <T> T[] toArray(Iterator<? extends T> iterator, Class<T> type) {\n    List<T> list = Lists.newArrayList(iterator);\n    return Iterables.toArray(list, type);\n  }", "code_tokens": ["@", "GwtIncompatible", "// Array.newInstance(Class, int)", "public", "static", "<", "T", ">", "T", "[", "]", "toArray", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ",", "Class", "<", "T", ">", "type", ")", "{", "List", "<", "T", ">", "list", "=", "Lists", ".", "newArrayList", "(", "iterator", ")", ";", "return", "Iterables", ".", "toArray", "(", "list", ",", "type", ")", ";", "}"], "docstring": "Copies an iterator's elements into an array. The iterator will be left exhausted: its {@code\nhasNext()} method will return {@code false}.\n\n@param iterator the iterator to copy\n@param type the type of the elements\n@return a newly-allocated array into which all the elements of the iterator have been copied", "docstring_tokens": ["Copies", "an", "iterator", "s", "elements", "into", "an", "array", ".", "The", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L338-L342", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.frequency", "original_string": "public static int frequency(Iterator<?> iterator, @NullableDecl Object element) {\n    int count = 0;\n    while (contains(iterator, element)) {\n      // Since it lives in the same class, we know contains gets to the element and then stops,\n      // though that isn't currently publicly documented.\n      count++;\n    }\n    return count;\n  }", "language": "java", "code": "public static int frequency(Iterator<?> iterator, @NullableDecl Object element) {\n    int count = 0;\n    while (contains(iterator, element)) {\n      // Since it lives in the same class, we know contains gets to the element and then stops,\n      // though that isn't currently publicly documented.\n      count++;\n    }\n    return count;\n  }", "code_tokens": ["public", "static", "int", "frequency", "(", "Iterator", "<", "?", ">", "iterator", ",", "@", "NullableDecl", "Object", "element", ")", "{", "int", "count", "=", "0", ";", "while", "(", "contains", "(", "iterator", ",", "element", ")", ")", "{", "// Since it lives in the same class, we know contains gets to the element and then stops,", "// though that isn't currently publicly documented.", "count", "++", ";", "}", "return", "count", ";", "}"], "docstring": "Returns the number of elements in the specified iterator that equal the specified object. The\niterator will be left exhausted: its {@code hasNext()} method will return {@code false}.\n\n@see Collections#frequency", "docstring_tokens": ["Returns", "the", "number", "of", "elements", "in", "the", "specified", "iterator", "that", "equal", "the", "specified", "object", ".", "The", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L367-L375", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.cycle", "original_string": "public static <T> Iterator<T> cycle(final Iterable<T> iterable) {\n    checkNotNull(iterable);\n    return new Iterator<T>() {\n      Iterator<T> iterator = emptyModifiableIterator();\n\n      @Override\n      public boolean hasNext() {\n        /*\n         * Don't store a new Iterator until we know the user can't remove() the last returned\n         * element anymore. Otherwise, when we remove from the old iterator, we may be invalidating\n         * the new one. The result is a ConcurrentModificationException or other bad behavior.\n         *\n         * (If we decide that we really, really hate allocating two Iterators per cycle instead of\n         * one, we can optimistically store the new Iterator and then be willing to throw it out if\n         * the user calls remove().)\n         */\n        return iterator.hasNext() || iterable.iterator().hasNext();\n      }\n\n      @Override\n      public T next() {\n        if (!iterator.hasNext()) {\n          iterator = iterable.iterator();\n          if (!iterator.hasNext()) {\n            throw new NoSuchElementException();\n          }\n        }\n        return iterator.next();\n      }\n\n      @Override\n      public void remove() {\n        iterator.remove();\n      }\n    };\n  }", "language": "java", "code": "public static <T> Iterator<T> cycle(final Iterable<T> iterable) {\n    checkNotNull(iterable);\n    return new Iterator<T>() {\n      Iterator<T> iterator = emptyModifiableIterator();\n\n      @Override\n      public boolean hasNext() {\n        /*\n         * Don't store a new Iterator until we know the user can't remove() the last returned\n         * element anymore. Otherwise, when we remove from the old iterator, we may be invalidating\n         * the new one. The result is a ConcurrentModificationException or other bad behavior.\n         *\n         * (If we decide that we really, really hate allocating two Iterators per cycle instead of\n         * one, we can optimistically store the new Iterator and then be willing to throw it out if\n         * the user calls remove().)\n         */\n        return iterator.hasNext() || iterable.iterator().hasNext();\n      }\n\n      @Override\n      public T next() {\n        if (!iterator.hasNext()) {\n          iterator = iterable.iterator();\n          if (!iterator.hasNext()) {\n            throw new NoSuchElementException();\n          }\n        }\n        return iterator.next();\n      }\n\n      @Override\n      public void remove() {\n        iterator.remove();\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterator", "<", "T", ">", "cycle", "(", "final", "Iterable", "<", "T", ">", "iterable", ")", "{", "checkNotNull", "(", "iterable", ")", ";", "return", "new", "Iterator", "<", "T", ">", "(", ")", "{", "Iterator", "<", "T", ">", "iterator", "=", "emptyModifiableIterator", "(", ")", ";", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "/*\n         * Don't store a new Iterator until we know the user can't remove() the last returned\n         * element anymore. Otherwise, when we remove from the old iterator, we may be invalidating\n         * the new one. The result is a ConcurrentModificationException or other bad behavior.\n         *\n         * (If we decide that we really, really hate allocating two Iterators per cycle instead of\n         * one, we can optimistically store the new Iterator and then be willing to throw it out if\n         * the user calls remove().)\n         */", "return", "iterator", ".", "hasNext", "(", ")", "||", "iterable", ".", "iterator", "(", ")", ".", "hasNext", "(", ")", ";", "}", "@", "Override", "public", "T", "next", "(", ")", "{", "if", "(", "!", "iterator", ".", "hasNext", "(", ")", ")", "{", "iterator", "=", "iterable", ".", "iterator", "(", ")", ";", "if", "(", "!", "iterator", ".", "hasNext", "(", ")", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "}", "return", "iterator", ".", "next", "(", ")", ";", "}", "@", "Override", "public", "void", "remove", "(", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "}", ";", "}"], "docstring": "Returns an iterator that cycles indefinitely over the elements of {@code iterable}.\n\n<p>The returned iterator supports {@code remove()} if the provided iterator does. After {@code\nremove()} is called, subsequent cycles omit the removed element, which is no longer in {@code\niterable}. The iterator's {@code hasNext()} method returns {@code true} until {@code iterable}\nis empty.\n\n<p><b>Warning:</b> Typical uses of the resulting iterator may produce an infinite loop. You\nshould use an explicit {@code break} or be certain that you will eventually remove all the\nelements.", "docstring_tokens": ["Returns", "an", "iterator", "that", "cycles", "indefinitely", "over", "the", "elements", "of", "{", "@code", "iterable", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L389-L424", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.consumingForArray", "original_string": "private static <T> Iterator<T> consumingForArray(final T... elements) {\n    return new UnmodifiableIterator<T>() {\n      int index = 0;\n\n      @Override\n      public boolean hasNext() {\n        return index < elements.length;\n      }\n\n      @Override\n      public T next() {\n        if (!hasNext()) {\n          throw new NoSuchElementException();\n        }\n        T result = elements[index];\n        elements[index] = null;\n        index++;\n        return result;\n      }\n    };\n  }", "language": "java", "code": "private static <T> Iterator<T> consumingForArray(final T... elements) {\n    return new UnmodifiableIterator<T>() {\n      int index = 0;\n\n      @Override\n      public boolean hasNext() {\n        return index < elements.length;\n      }\n\n      @Override\n      public T next() {\n        if (!hasNext()) {\n          throw new NoSuchElementException();\n        }\n        T result = elements[index];\n        elements[index] = null;\n        index++;\n        return result;\n      }\n    };\n  }", "code_tokens": ["private", "static", "<", "T", ">", "Iterator", "<", "T", ">", "consumingForArray", "(", "final", "T", "...", "elements", ")", "{", "return", "new", "UnmodifiableIterator", "<", "T", ">", "(", ")", "{", "int", "index", "=", "0", ";", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "index", "<", "elements", ".", "length", ";", "}", "@", "Override", "public", "T", "next", "(", ")", "{", "if", "(", "!", "hasNext", "(", ")", ")", "{", "throw", "new", "NoSuchElementException", "(", ")", ";", "}", "T", "result", "=", "elements", "[", "index", "]", ";", "elements", "[", "index", "]", "=", "null", ";", "index", "++", ";", "return", "result", ";", "}", "}", ";", "}"], "docstring": "Returns an Iterator that walks the specified array, nulling out elements behind it. This can\navoid memory leaks when an element is no longer necessary.\n\n<p>This is mainly just to avoid the intermediate ArrayDeque in ConsumingQueueIterator.", "docstring_tokens": ["Returns", "an", "Iterator", "that", "walks", "the", "specified", "array", "nulling", "out", "elements", "behind", "it", ".", "This", "can", "avoid", "memory", "leaks", "when", "an", "element", "is", "no", "longer", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L449-L469", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.concat", "original_string": "public static <T> Iterator<T> concat(Iterator<? extends T> a, Iterator<? extends T> b) {\n    checkNotNull(a);\n    checkNotNull(b);\n    return concat(consumingForArray(a, b));\n  }", "language": "java", "code": "public static <T> Iterator<T> concat(Iterator<? extends T> a, Iterator<? extends T> b) {\n    checkNotNull(a);\n    checkNotNull(b);\n    return concat(consumingForArray(a, b));\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterator", "<", "T", ">", "concat", "(", "Iterator", "<", "?", "extends", "T", ">", "a", ",", "Iterator", "<", "?", "extends", "T", ">", "b", ")", "{", "checkNotNull", "(", "a", ")", ";", "checkNotNull", "(", "b", ")", ";", "return", "concat", "(", "consumingForArray", "(", "a", ",", "b", ")", ")", ";", "}"], "docstring": "Combines two iterators into a single iterator. The returned iterator iterates across the\nelements in {@code a}, followed by the elements in {@code b}. The source iterators are not\npolled until necessary.\n\n<p>The returned iterator supports {@code remove()} when the corresponding input iterator\nsupports it.", "docstring_tokens": ["Combines", "two", "iterators", "into", "a", "single", "iterator", ".", "The", "returned", "iterator", "iterates", "across", "the", "elements", "in", "{", "@code", "a", "}", "followed", "by", "the", "elements", "in", "{", "@code", "b", "}", ".", "The", "source", "iterators", "are", "not", "polled", "until", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L479-L483", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.concat", "original_string": "public static <T> Iterator<T> concat(Iterator<? extends T>... inputs) {\n    return concatNoDefensiveCopy(Arrays.copyOf(inputs, inputs.length));\n  }", "language": "java", "code": "public static <T> Iterator<T> concat(Iterator<? extends T>... inputs) {\n    return concatNoDefensiveCopy(Arrays.copyOf(inputs, inputs.length));\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterator", "<", "T", ">", "concat", "(", "Iterator", "<", "?", "extends", "T", ">", "...", "inputs", ")", "{", "return", "concatNoDefensiveCopy", "(", "Arrays", ".", "copyOf", "(", "inputs", ",", "inputs", ".", "length", ")", ")", ";", "}"], "docstring": "Combines multiple iterators into a single iterator. The returned iterator iterates across the\nelements of each iterator in {@code inputs}. The input iterators are not polled until\nnecessary.\n\n<p>The returned iterator supports {@code remove()} when the corresponding input iterator\nsupports it.\n\n@throws NullPointerException if any of the provided iterators is null", "docstring_tokens": ["Combines", "multiple", "iterators", "into", "a", "single", "iterator", ".", "The", "returned", "iterator", "iterates", "across", "the", "elements", "of", "each", "iterator", "in", "{", "@code", "inputs", "}", ".", "The", "input", "iterators", "are", "not", "polled", "until", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L532-L534", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.concat", "original_string": "public static <T> Iterator<T> concat(Iterator<? extends Iterator<? extends T>> inputs) {\n    return new ConcatenatedIterator<T>(inputs);\n  }", "language": "java", "code": "public static <T> Iterator<T> concat(Iterator<? extends Iterator<? extends T>> inputs) {\n    return new ConcatenatedIterator<T>(inputs);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterator", "<", "T", ">", "concat", "(", "Iterator", "<", "?", "extends", "Iterator", "<", "?", "extends", "T", ">", ">", "inputs", ")", "{", "return", "new", "ConcatenatedIterator", "<", "T", ">", "(", "inputs", ")", ";", "}"], "docstring": "Combines multiple iterators into a single iterator. The returned iterator iterates across the\nelements of each iterator in {@code inputs}. The input iterators are not polled until\nnecessary.\n\n<p>The returned iterator supports {@code remove()} when the corresponding input iterator\nsupports it. The methods of the returned iterator may throw {@code NullPointerException} if any\nof the input iterators is null.", "docstring_tokens": ["Combines", "multiple", "iterators", "into", "a", "single", "iterator", ".", "The", "returned", "iterator", "iterates", "across", "the", "elements", "of", "each", "iterator", "in", "{", "@code", "inputs", "}", ".", "The", "input", "iterators", "are", "not", "polled", "until", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L545-L547", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.concatNoDefensiveCopy", "original_string": "static <T> Iterator<T> concatNoDefensiveCopy(Iterator<? extends T>... inputs) {\n    for (Iterator<? extends T> input : checkNotNull(inputs)) {\n      checkNotNull(input);\n    }\n    return concat(consumingForArray(inputs));\n  }", "language": "java", "code": "static <T> Iterator<T> concatNoDefensiveCopy(Iterator<? extends T>... inputs) {\n    for (Iterator<? extends T> input : checkNotNull(inputs)) {\n      checkNotNull(input);\n    }\n    return concat(consumingForArray(inputs));\n  }", "code_tokens": ["static", "<", "T", ">", "Iterator", "<", "T", ">", "concatNoDefensiveCopy", "(", "Iterator", "<", "?", "extends", "T", ">", "...", "inputs", ")", "{", "for", "(", "Iterator", "<", "?", "extends", "T", ">", "input", ":", "checkNotNull", "(", "inputs", ")", ")", "{", "checkNotNull", "(", "input", ")", ";", "}", "return", "concat", "(", "consumingForArray", "(", "inputs", ")", ")", ";", "}"], "docstring": "Concats a varargs array of iterators without making a defensive copy of the array.", "docstring_tokens": ["Concats", "a", "varargs", "array", "of", "iterators", "without", "making", "a", "defensive", "copy", "of", "the", "array", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L550-L555", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.partition", "original_string": "public static <T> UnmodifiableIterator<List<T>> partition(Iterator<T> iterator, int size) {\n    return partitionImpl(iterator, size, false);\n  }", "language": "java", "code": "public static <T> UnmodifiableIterator<List<T>> partition(Iterator<T> iterator, int size) {\n    return partitionImpl(iterator, size, false);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "List", "<", "T", ">", ">", "partition", "(", "Iterator", "<", "T", ">", "iterator", ",", "int", "size", ")", "{", "return", "partitionImpl", "(", "iterator", ",", "size", ",", "false", ")", ";", "}"], "docstring": "Divides an iterator into unmodifiable sublists of the given size (the final list may be\nsmaller). For example, partitioning an iterator containing {@code [a, b, c, d, e]} with a\npartition size of 3 yields {@code [[a, b, c], [d, e]]} -- an outer iterator containing two\ninner lists of three and two elements, all in the original order.\n\n<p>The returned lists implement {@link java.util.RandomAccess}.\n\n@param iterator the iterator to return a partitioned view of\n@param size the desired size of each partition (the last may be smaller)\n@return an iterator of immutable lists containing the elements of {@code iterator} divided into\npartitions\n@throws IllegalArgumentException if {@code size} is nonpositive", "docstring_tokens": ["Divides", "an", "iterator", "into", "unmodifiable", "sublists", "of", "the", "given", "size", "(", "the", "final", "list", "may", "be", "smaller", ")", ".", "For", "example", "partitioning", "an", "iterator", "containing", "{", "@code", "[", "a", "b", "c", "d", "e", "]", "}", "with", "a", "partition", "size", "of", "3", "yields", "{", "@code", "[[", "a", "b", "c", "]", "[", "d", "e", "]]", "}", "--", "an", "outer", "iterator", "containing", "two", "inner", "lists", "of", "three", "and", "two", "elements", "all", "in", "the", "original", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L571-L573", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.paddedPartition", "original_string": "public static <T> UnmodifiableIterator<List<T>> paddedPartition(Iterator<T> iterator, int size) {\n    return partitionImpl(iterator, size, true);\n  }", "language": "java", "code": "public static <T> UnmodifiableIterator<List<T>> paddedPartition(Iterator<T> iterator, int size) {\n    return partitionImpl(iterator, size, true);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "List", "<", "T", ">", ">", "paddedPartition", "(", "Iterator", "<", "T", ">", "iterator", ",", "int", "size", ")", "{", "return", "partitionImpl", "(", "iterator", ",", "size", ",", "true", ")", ";", "}"], "docstring": "Divides an iterator into unmodifiable sublists of the given size, padding the final iterator\nwith null values if necessary. For example, partitioning an iterator containing {@code [a, b,\nc, d, e]} with a partition size of 3 yields {@code [[a, b, c], [d, e, null]]} -- an outer\niterator containing two inner lists of three elements each, all in the original order.\n\n<p>The returned lists implement {@link java.util.RandomAccess}.\n\n@param iterator the iterator to return a partitioned view of\n@param size the desired size of each partition\n@return an iterator of immutable lists containing the elements of {@code iterator} divided into\npartitions (the final iterable may have trailing null elements)\n@throws IllegalArgumentException if {@code size} is nonpositive", "docstring_tokens": ["Divides", "an", "iterator", "into", "unmodifiable", "sublists", "of", "the", "given", "size", "padding", "the", "final", "iterator", "with", "null", "values", "if", "necessary", ".", "For", "example", "partitioning", "an", "iterator", "containing", "{", "@code", "[", "a", "b", "c", "d", "e", "]", "}", "with", "a", "partition", "size", "of", "3", "yields", "{", "@code", "[[", "a", "b", "c", "]", "[", "d", "e", "null", "]]", "}", "--", "an", "outer", "iterator", "containing", "two", "inner", "lists", "of", "three", "elements", "each", "all", "in", "the", "original", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L589-L591", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.filter", "original_string": "@SuppressWarnings(\"unchecked\") // can cast to <T> because non-Ts are removed\n  @GwtIncompatible // Class.isInstance\n  public static <T> UnmodifiableIterator<T> filter(Iterator<?> unfiltered, Class<T> desiredType) {\n    return (UnmodifiableIterator<T>) filter(unfiltered, instanceOf(desiredType));\n  }", "language": "java", "code": "@SuppressWarnings(\"unchecked\") // can cast to <T> because non-Ts are removed\n  @GwtIncompatible // Class.isInstance\n  public static <T> UnmodifiableIterator<T> filter(Iterator<?> unfiltered, Class<T> desiredType) {\n    return (UnmodifiableIterator<T>) filter(unfiltered, instanceOf(desiredType));\n  }", "code_tokens": ["@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// can cast to <T> because non-Ts are removed", "@", "GwtIncompatible", "// Class.isInstance", "public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "T", ">", "filter", "(", "Iterator", "<", "?", ">", "unfiltered", ",", "Class", "<", "T", ">", "desiredType", ")", "{", "return", "(", "UnmodifiableIterator", "<", "T", ">", ")", "filter", "(", "unfiltered", ",", "instanceOf", "(", "desiredType", ")", ")", ";", "}"], "docstring": "Returns a view of {@code unfiltered} containing all elements that are of the type {@code\ndesiredType}.", "docstring_tokens": ["Returns", "a", "view", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L650-L654", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.any", "original_string": "public static <T> boolean any(Iterator<T> iterator, Predicate<? super T> predicate) {\n    return indexOf(iterator, predicate) != -1;\n  }", "language": "java", "code": "public static <T> boolean any(Iterator<T> iterator, Predicate<? super T> predicate) {\n    return indexOf(iterator, predicate) != -1;\n  }", "code_tokens": ["public", "static", "<", "T", ">", "boolean", "any", "(", "Iterator", "<", "T", ">", "iterator", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "return", "indexOf", "(", "iterator", ",", "predicate", ")", "!=", "-", "1", ";", "}"], "docstring": "Returns {@code true} if one or more elements returned by {@code iterator} satisfy the given\npredicate.", "docstring_tokens": ["Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L660-L662", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.all", "original_string": "public static <T> boolean all(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T element = iterator.next();\n      if (!predicate.apply(element)) {\n        return false;\n      }\n    }\n    return true;\n  }", "language": "java", "code": "public static <T> boolean all(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T element = iterator.next();\n      if (!predicate.apply(element)) {\n        return false;\n      }\n    }\n    return true;\n  }", "code_tokens": ["public", "static", "<", "T", ">", "boolean", "all", "(", "Iterator", "<", "T", ">", "iterator", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "checkNotNull", "(", "predicate", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "T", "element", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "!", "predicate", ".", "apply", "(", "element", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}"], "docstring": "Returns {@code true} if every element returned by {@code iterator} satisfies the given\npredicate. If {@code iterator} is empty, {@code true} is returned.", "docstring_tokens": ["Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L668-L677", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.find", "original_string": "public static <T> T find(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return t;\n      }\n    }\n    throw new NoSuchElementException();\n  }", "language": "java", "code": "public static <T> T find(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return t;\n      }\n    }\n    throw new NoSuchElementException();\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "find", "(", "Iterator", "<", "T", ">", "iterator", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "checkNotNull", "(", "predicate", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "T", "t", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "predicate", ".", "apply", "(", "t", ")", ")", "{", "return", "t", ";", "}", "}", "throw", "new", "NoSuchElementException", "(", ")", ";", "}"], "docstring": "Returns the first element in {@code iterator} that satisfies the given predicate; use this\nmethod only when such an element is known to exist. If no such element is found, the iterator\nwill be left exhausted: its {@code hasNext()} method will return {@code false}. If it is\npossible that <i>no</i> element will match, use {@link #tryFind} or {@link #find(Iterator,\nPredicate, Object)} instead.\n\n@throws NoSuchElementException if no element in {@code iterator} matches the given predicate", "docstring_tokens": ["Returns", "the", "first", "element", "in", "{", "@code", "iterator", "}", "that", "satisfies", "the", "given", "predicate", ";", "use", "this", "method", "only", "when", "such", "an", "element", "is", "known", "to", "exist", ".", "If", "no", "such", "element", "is", "found", "the", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", ".", "If", "it", "is", "possible", "that", "<i", ">", "no<", "/", "i", ">", "element", "will", "match", "use", "{", "@link", "#tryFind", "}", "or", "{", "@link", "#find", "(", "Iterator", "Predicate", "Object", ")", "}", "instead", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L688-L698", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.find", "original_string": "@NullableDecl\n  public static <T> T find(\n      Iterator<? extends T> iterator,\n      Predicate<? super T> predicate,\n      @NullableDecl T defaultValue) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return t;\n      }\n    }\n    return defaultValue;\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T find(\n      Iterator<? extends T> iterator,\n      Predicate<? super T> predicate,\n      @NullableDecl T defaultValue) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return t;\n      }\n    }\n    return defaultValue;\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "find", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "checkNotNull", "(", "predicate", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "T", "t", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "predicate", ".", "apply", "(", "t", ")", ")", "{", "return", "t", ";", "}", "}", "return", "defaultValue", ";", "}"], "docstring": "Returns the first element in {@code iterator} that satisfies the given predicate. If no such\nelement is found, {@code defaultValue} will be returned from this method and the iterator will\nbe left exhausted: its {@code hasNext()} method will return {@code false}. Note that this can\nusually be handled more naturally using {@code tryFind(iterator, predicate).or(defaultValue)}.\n\n@since 7.0", "docstring_tokens": ["Returns", "the", "first", "element", "in", "{", "@code", "iterator", "}", "that", "satisfies", "the", "given", "predicate", ".", "If", "no", "such", "element", "is", "found", "{", "@code", "defaultValue", "}", "will", "be", "returned", "from", "this", "method", "and", "the", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", ".", "Note", "that", "this", "can", "usually", "be", "handled", "more", "naturally", "using", "{", "@code", "tryFind", "(", "iterator", "predicate", ")", ".", "or", "(", "defaultValue", ")", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L708-L722", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.tryFind", "original_string": "public static <T> Optional<T> tryFind(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return Optional.of(t);\n      }\n    }\n    return Optional.absent();\n  }", "language": "java", "code": "public static <T> Optional<T> tryFind(Iterator<T> iterator, Predicate<? super T> predicate) {\n    checkNotNull(iterator);\n    checkNotNull(predicate);\n    while (iterator.hasNext()) {\n      T t = iterator.next();\n      if (predicate.apply(t)) {\n        return Optional.of(t);\n      }\n    }\n    return Optional.absent();\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Optional", "<", "T", ">", "tryFind", "(", "Iterator", "<", "T", ">", "iterator", ",", "Predicate", "<", "?", "super", "T", ">", "predicate", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "checkNotNull", "(", "predicate", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "T", "t", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "predicate", ".", "apply", "(", "t", ")", ")", "{", "return", "Optional", ".", "of", "(", "t", ")", ";", "}", "}", "return", "Optional", ".", "absent", "(", ")", ";", "}"], "docstring": "Returns an {@link Optional} containing the first element in {@code iterator} that satisfies the\ngiven predicate, if such an element exists. If no such element is found, an empty {@link\nOptional} will be returned from this method and the iterator will be left exhausted: its {@code\nhasNext()} method will return {@code false}.\n\n<p><b>Warning:</b> avoid using a {@code predicate} that matches {@code null}. If {@code null}\nis matched in {@code iterator}, a NullPointerException will be thrown.\n\n@since 11.0", "docstring_tokens": ["Returns", "an", "{", "@link", "Optional", "}", "containing", "the", "first", "element", "in", "{", "@code", "iterator", "}", "that", "satisfies", "the", "given", "predicate", "if", "such", "an", "element", "exists", ".", "If", "no", "such", "element", "is", "found", "an", "empty", "{", "@link", "Optional", "}", "will", "be", "returned", "from", "this", "method", "and", "the", "iterator", "will", "be", "left", "exhausted", ":", "its", "{", "@code", "hasNext", "()", "}", "method", "will", "return", "{", "@code", "false", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L735-L745", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.get", "original_string": "public static <T> T get(Iterator<T> iterator, int position) {\n    checkNonnegative(position);\n    int skipped = advance(iterator, position);\n    if (!iterator.hasNext()) {\n      throw new IndexOutOfBoundsException(\n          \"position (\"\n              + position\n              + \") must be less than the number of elements that remained (\"\n              + skipped\n              + \")\");\n    }\n    return iterator.next();\n  }", "language": "java", "code": "public static <T> T get(Iterator<T> iterator, int position) {\n    checkNonnegative(position);\n    int skipped = advance(iterator, position);\n    if (!iterator.hasNext()) {\n      throw new IndexOutOfBoundsException(\n          \"position (\"\n              + position\n              + \") must be less than the number of elements that remained (\"\n              + skipped\n              + \")\");\n    }\n    return iterator.next();\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "get", "(", "Iterator", "<", "T", ">", "iterator", ",", "int", "position", ")", "{", "checkNonnegative", "(", "position", ")", ";", "int", "skipped", "=", "advance", "(", "iterator", ",", "position", ")", ";", "if", "(", "!", "iterator", ".", "hasNext", "(", ")", ")", "{", "throw", "new", "IndexOutOfBoundsException", "(", "\"position (\"", "+", "position", "+", "\") must be less than the number of elements that remained (\"", "+", "skipped", "+", "\")\"", ")", ";", "}", "return", "iterator", ".", "next", "(", ")", ";", "}"], "docstring": "Advances {@code iterator} {@code position + 1} times, returning the element at the {@code\nposition}th position.\n\n@param position position of the element to return\n@return the element at the specified position in {@code iterator}\n@throws IndexOutOfBoundsException if {@code position} is negative or greater than or equal to\nthe number of elements remaining in {@code iterator}", "docstring_tokens": ["Advances", "{", "@code", "iterator", "}", "{", "@code", "position", "+", "1", "}", "times", "returning", "the", "element", "at", "the", "{", "@code", "position", "}", "th", "position", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L800-L812", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.getNext", "original_string": "@NullableDecl\n  public static <T> T getNext(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? iterator.next() : defaultValue;\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T getNext(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? iterator.next() : defaultValue;\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "getNext", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", "?", "iterator", ".", "next", "(", ")", ":", "defaultValue", ";", "}"], "docstring": "Returns the next element in {@code iterator} or {@code defaultValue} if the iterator is empty.\nThe {@link Iterables} analog to this method is {@link Iterables#getFirst}.\n\n@param defaultValue the default value to return if the iterator is empty\n@return the next element of {@code iterator} or the default value\n@since 7.0", "docstring_tokens": ["Returns", "the", "next", "element", "in", "{", "@code", "iterator", "}", "or", "{", "@code", "defaultValue", "}", "if", "the", "iterator", "is", "empty", ".", "The", "{", "@link", "Iterables", "}", "analog", "to", "this", "method", "is", "{", "@link", "Iterables#getFirst", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L848-L851", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.getLast", "original_string": "public static <T> T getLast(Iterator<T> iterator) {\n    while (true) {\n      T current = iterator.next();\n      if (!iterator.hasNext()) {\n        return current;\n      }\n    }\n  }", "language": "java", "code": "public static <T> T getLast(Iterator<T> iterator) {\n    while (true) {\n      T current = iterator.next();\n      if (!iterator.hasNext()) {\n        return current;\n      }\n    }\n  }", "code_tokens": ["public", "static", "<", "T", ">", "T", "getLast", "(", "Iterator", "<", "T", ">", "iterator", ")", "{", "while", "(", "true", ")", "{", "T", "current", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "!", "iterator", ".", "hasNext", "(", ")", ")", "{", "return", "current", ";", "}", "}", "}"], "docstring": "Advances {@code iterator} to the end, returning the last element.\n\n@return the last element of {@code iterator}\n@throws NoSuchElementException if the iterator is empty", "docstring_tokens": ["Advances", "{", "@code", "iterator", "}", "to", "the", "end", "returning", "the", "last", "element", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L859-L866", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.getLast", "original_string": "@NullableDecl\n  public static <T> T getLast(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? getLast(iterator) : defaultValue;\n  }", "language": "java", "code": "@NullableDecl\n  public static <T> T getLast(Iterator<? extends T> iterator, @NullableDecl T defaultValue) {\n    return iterator.hasNext() ? getLast(iterator) : defaultValue;\n  }", "code_tokens": ["@", "NullableDecl", "public", "static", "<", "T", ">", "T", "getLast", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ",", "@", "NullableDecl", "T", "defaultValue", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", "?", "getLast", "(", "iterator", ")", ":", "defaultValue", ";", "}"], "docstring": "Advances {@code iterator} to the end, returning the last element or {@code defaultValue} if the\niterator is empty.\n\n@param defaultValue the default value to return if the iterator is empty\n@return the last element of {@code iterator}\n@since 3.0", "docstring_tokens": ["Advances", "{", "@code", "iterator", "}", "to", "the", "end", "returning", "the", "last", "element", "or", "{", "@code", "defaultValue", "}", "if", "the", "iterator", "is", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L876-L879", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.consumingIterator", "original_string": "public static <T> Iterator<T> consumingIterator(final Iterator<T> iterator) {\n    checkNotNull(iterator);\n    return new UnmodifiableIterator<T>() {\n      @Override\n      public boolean hasNext() {\n        return iterator.hasNext();\n      }\n\n      @Override\n      public T next() {\n        T next = iterator.next();\n        iterator.remove();\n        return next;\n      }\n\n      @Override\n      public String toString() {\n        return \"Iterators.consumingIterator(...)\";\n      }\n    };\n  }", "language": "java", "code": "public static <T> Iterator<T> consumingIterator(final Iterator<T> iterator) {\n    checkNotNull(iterator);\n    return new UnmodifiableIterator<T>() {\n      @Override\n      public boolean hasNext() {\n        return iterator.hasNext();\n      }\n\n      @Override\n      public T next() {\n        T next = iterator.next();\n        iterator.remove();\n        return next;\n      }\n\n      @Override\n      public String toString() {\n        return \"Iterators.consumingIterator(...)\";\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Iterator", "<", "T", ">", "consumingIterator", "(", "final", "Iterator", "<", "T", ">", "iterator", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "return", "new", "UnmodifiableIterator", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", ";", "}", "@", "Override", "public", "T", "next", "(", ")", "{", "T", "next", "=", "iterator", ".", "next", "(", ")", ";", "iterator", ".", "remove", "(", ")", ";", "return", "next", ";", "}", "@", "Override", "public", "String", "toString", "(", ")", "{", "return", "\"Iterators.consumingIterator(...)\"", ";", "}", "}", ";", "}"], "docstring": "Returns a view of the supplied {@code iterator} that removes each element from the supplied\n{@code iterator} as it is returned.\n\n<p>The provided iterator must support {@link Iterator#remove()} or else the returned iterator\nwill fail on the first call to {@code next}.\n\n@param iterator the iterator to remove and return elements from\n@return an iterator that removes and returns elements from the supplied iterator\n@since 2.0", "docstring_tokens": ["Returns", "a", "view", "of", "the", "supplied", "{", "@code", "iterator", "}", "that", "removes", "each", "element", "from", "the", "supplied", "{", "@code", "iterator", "}", "as", "it", "is", "returned", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L948-L968", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.pollNext", "original_string": "@NullableDecl\n  static <T> T pollNext(Iterator<T> iterator) {\n    if (iterator.hasNext()) {\n      T result = iterator.next();\n      iterator.remove();\n      return result;\n    } else {\n      return null;\n    }\n  }", "language": "java", "code": "@NullableDecl\n  static <T> T pollNext(Iterator<T> iterator) {\n    if (iterator.hasNext()) {\n      T result = iterator.next();\n      iterator.remove();\n      return result;\n    } else {\n      return null;\n    }\n  }", "code_tokens": ["@", "NullableDecl", "static", "<", "T", ">", "T", "pollNext", "(", "Iterator", "<", "T", ">", "iterator", ")", "{", "if", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "T", "result", "=", "iterator", ".", "next", "(", ")", ";", "iterator", ".", "remove", "(", ")", ";", "return", "result", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "docstring": "Deletes and returns the next value from the iterator, or returns {@code null} if there is no\nsuch value.", "docstring_tokens": ["Deletes", "and", "returns", "the", "next", "value", "from", "the", "iterator", "or", "returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L974-L983", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.clear", "original_string": "static void clear(Iterator<?> iterator) {\n    checkNotNull(iterator);\n    while (iterator.hasNext()) {\n      iterator.next();\n      iterator.remove();\n    }\n  }", "language": "java", "code": "static void clear(Iterator<?> iterator) {\n    checkNotNull(iterator);\n    while (iterator.hasNext()) {\n      iterator.next();\n      iterator.remove();\n    }\n  }", "code_tokens": ["static", "void", "clear", "(", "Iterator", "<", "?", ">", "iterator", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "iterator", ".", "next", "(", ")", ";", "iterator", ".", "remove", "(", ")", ";", "}", "}"], "docstring": "Clears the iterator using its remove method.", "docstring_tokens": ["Clears", "the", "iterator", "using", "its", "remove", "method", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L988-L994", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.forArray", "original_string": "@SafeVarargs\n  public static <T> UnmodifiableIterator<T> forArray(final T... array) {\n    return forArray(array, 0, array.length, 0);\n  }", "language": "java", "code": "@SafeVarargs\n  public static <T> UnmodifiableIterator<T> forArray(final T... array) {\n    return forArray(array, 0, array.length, 0);\n  }", "code_tokens": ["@", "SafeVarargs", "public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "T", ">", "forArray", "(", "final", "T", "...", "array", ")", "{", "return", "forArray", "(", "array", ",", "0", ",", "array", ".", "length", ",", "0", ")", ";", "}"], "docstring": "Returns an iterator containing the elements of {@code array} in order. The returned iterator is\na view of the array; subsequent changes to the array will be reflected in the iterator.\n\n<p><b>Note:</b> It is often preferable to represent your data using a collection type, for\nexample using {@link Arrays#asList(Object[])}, making this method unnecessary.\n\n<p>The {@code Iterable} equivalent of this method is either {@link Arrays#asList(Object[])},\n{@link ImmutableList#copyOf(Object[])}}, or {@link ImmutableList#of}.", "docstring_tokens": ["Returns", "an", "iterator", "containing", "the", "elements", "of", "{", "@code", "array", "}", "in", "order", ".", "The", "returned", "iterator", "is", "a", "view", "of", "the", "array", ";", "subsequent", "changes", "to", "the", "array", "will", "be", "reflected", "in", "the", "iterator", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1006-L1009", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.forArray", "original_string": "static <T> UnmodifiableListIterator<T> forArray(\n      final T[] array, final int offset, int length, int index) {\n    checkArgument(length >= 0);\n    int end = offset + length;\n\n    // Technically we should give a slightly more descriptive error on overflow\n    Preconditions.checkPositionIndexes(offset, end, array.length);\n    Preconditions.checkPositionIndex(index, length);\n    if (length == 0) {\n      return emptyListIterator();\n    }\n    return new ArrayItr<T>(array, offset, length, index);\n  }", "language": "java", "code": "static <T> UnmodifiableListIterator<T> forArray(\n      final T[] array, final int offset, int length, int index) {\n    checkArgument(length >= 0);\n    int end = offset + length;\n\n    // Technically we should give a slightly more descriptive error on overflow\n    Preconditions.checkPositionIndexes(offset, end, array.length);\n    Preconditions.checkPositionIndex(index, length);\n    if (length == 0) {\n      return emptyListIterator();\n    }\n    return new ArrayItr<T>(array, offset, length, index);\n  }", "code_tokens": ["static", "<", "T", ">", "UnmodifiableListIterator", "<", "T", ">", "forArray", "(", "final", "T", "[", "]", "array", ",", "final", "int", "offset", ",", "int", "length", ",", "int", "index", ")", "{", "checkArgument", "(", "length", ">=", "0", ")", ";", "int", "end", "=", "offset", "+", "length", ";", "// Technically we should give a slightly more descriptive error on overflow", "Preconditions", ".", "checkPositionIndexes", "(", "offset", ",", "end", ",", "array", ".", "length", ")", ";", "Preconditions", ".", "checkPositionIndex", "(", "index", ",", "length", ")", ";", "if", "(", "length", "==", "0", ")", "{", "return", "emptyListIterator", "(", ")", ";", "}", "return", "new", "ArrayItr", "<", "T", ">", "(", "array", ",", "offset", ",", "length", ",", "index", ")", ";", "}"], "docstring": "Returns a list iterator containing the elements in the specified range of {@code array} in\norder, starting at the specified index.\n\n<p>The {@code Iterable} equivalent of this method is {@code\nArrays.asList(array).subList(offset, offset + length).listIterator(index)}.", "docstring_tokens": ["Returns", "a", "list", "iterator", "containing", "the", "elements", "in", "the", "specified", "range", "of", "{", "@code", "array", "}", "in", "order", "starting", "at", "the", "specified", "index", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1018-L1030", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.forEnumeration", "original_string": "public static <T> UnmodifiableIterator<T> forEnumeration(final Enumeration<T> enumeration) {\n    checkNotNull(enumeration);\n    return new UnmodifiableIterator<T>() {\n      @Override\n      public boolean hasNext() {\n        return enumeration.hasMoreElements();\n      }\n\n      @Override\n      public T next() {\n        return enumeration.nextElement();\n      }\n    };\n  }", "language": "java", "code": "public static <T> UnmodifiableIterator<T> forEnumeration(final Enumeration<T> enumeration) {\n    checkNotNull(enumeration);\n    return new UnmodifiableIterator<T>() {\n      @Override\n      public boolean hasNext() {\n        return enumeration.hasMoreElements();\n      }\n\n      @Override\n      public T next() {\n        return enumeration.nextElement();\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "T", ">", "forEnumeration", "(", "final", "Enumeration", "<", "T", ">", "enumeration", ")", "{", "checkNotNull", "(", "enumeration", ")", ";", "return", "new", "UnmodifiableIterator", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "boolean", "hasNext", "(", ")", "{", "return", "enumeration", ".", "hasMoreElements", "(", ")", ";", "}", "@", "Override", "public", "T", "next", "(", ")", "{", "return", "enumeration", ".", "nextElement", "(", ")", ";", "}", "}", ";", "}"], "docstring": "Adapts an {@code Enumeration} to the {@code Iterator} interface.\n\n<p>This method has no equivalent in {@link Iterables} because viewing an {@code Enumeration} as\nan {@code Iterable} is impossible. However, the contents can be <i>copied</i> into a collection\nusing {@link Collections#list}.", "docstring_tokens": ["Adapts", "an", "{", "@code", "Enumeration", "}", "to", "the", "{", "@code", "Iterator", "}", "interface", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1082-L1095", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.asEnumeration", "original_string": "public static <T> Enumeration<T> asEnumeration(final Iterator<T> iterator) {\n    checkNotNull(iterator);\n    return new Enumeration<T>() {\n      @Override\n      public boolean hasMoreElements() {\n        return iterator.hasNext();\n      }\n\n      @Override\n      public T nextElement() {\n        return iterator.next();\n      }\n    };\n  }", "language": "java", "code": "public static <T> Enumeration<T> asEnumeration(final Iterator<T> iterator) {\n    checkNotNull(iterator);\n    return new Enumeration<T>() {\n      @Override\n      public boolean hasMoreElements() {\n        return iterator.hasNext();\n      }\n\n      @Override\n      public T nextElement() {\n        return iterator.next();\n      }\n    };\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Enumeration", "<", "T", ">", "asEnumeration", "(", "final", "Iterator", "<", "T", ">", "iterator", ")", "{", "checkNotNull", "(", "iterator", ")", ";", "return", "new", "Enumeration", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "boolean", "hasMoreElements", "(", ")", "{", "return", "iterator", ".", "hasNext", "(", ")", ";", "}", "@", "Override", "public", "T", "nextElement", "(", ")", "{", "return", "iterator", ".", "next", "(", ")", ";", "}", "}", ";", "}"], "docstring": "Adapts an {@code Iterator} to the {@code Enumeration} interface.\n\n<p>The {@code Iterable} equivalent of this method is either {@link Collections#enumeration} (if\nyou have a {@link Collection}), or {@code Iterators.asEnumeration(collection.iterator())}.", "docstring_tokens": ["Adapts", "an", "{", "@code", "Iterator", "}", "to", "the", "{", "@code", "Enumeration", "}", "interface", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1103-L1116", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.peekingIterator", "original_string": "public static <T> PeekingIterator<T> peekingIterator(Iterator<? extends T> iterator) {\n    if (iterator instanceof PeekingImpl) {\n      // Safe to cast <? extends T> to <T> because PeekingImpl only uses T\n      // covariantly (and cannot be subclassed to add non-covariant uses).\n      @SuppressWarnings(\"unchecked\")\n      PeekingImpl<T> peeking = (PeekingImpl<T>) iterator;\n      return peeking;\n    }\n    return new PeekingImpl<T>(iterator);\n  }", "language": "java", "code": "public static <T> PeekingIterator<T> peekingIterator(Iterator<? extends T> iterator) {\n    if (iterator instanceof PeekingImpl) {\n      // Safe to cast <? extends T> to <T> because PeekingImpl only uses T\n      // covariantly (and cannot be subclassed to add non-covariant uses).\n      @SuppressWarnings(\"unchecked\")\n      PeekingImpl<T> peeking = (PeekingImpl<T>) iterator;\n      return peeking;\n    }\n    return new PeekingImpl<T>(iterator);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "PeekingIterator", "<", "T", ">", "peekingIterator", "(", "Iterator", "<", "?", "extends", "T", ">", "iterator", ")", "{", "if", "(", "iterator", "instanceof", "PeekingImpl", ")", "{", "// Safe to cast <? extends T> to <T> because PeekingImpl only uses T", "// covariantly (and cannot be subclassed to add non-covariant uses).", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "PeekingImpl", "<", "T", ">", "peeking", "=", "(", "PeekingImpl", "<", "T", ">", ")", "iterator", ";", "return", "peeking", ";", "}", "return", "new", "PeekingImpl", "<", "T", ">", "(", "iterator", ")", ";", "}"], "docstring": "Returns a {@code PeekingIterator} backed by the given iterator.\n\n<p>Calls to the {@code peek} method with no intervening calls to {@code next} do not affect the\niteration, and hence return the same object each time. A subsequent call to {@code next} is\nguaranteed to return the same object again. For example:\n\n<pre>{@code\nPeekingIterator<String> peekingIterator =\nIterators.peekingIterator(Iterators.forArray(\"a\", \"b\"));\nString a1 = peekingIterator.peek(); // returns \"a\"\nString a2 = peekingIterator.peek(); // also returns \"a\"\nString a3 = peekingIterator.next(); // also returns \"a\"\n}</pre>\n\n<p>Any structural changes to the underlying iteration (aside from those performed by the\niterator's own {@link PeekingIterator#remove()} method) will leave the iterator in an undefined\nstate.\n\n<p>The returned iterator does not support removal after peeking, as explained by {@link\nPeekingIterator#remove()}.\n\n<p>Note: If the given iterator is already a {@code PeekingIterator}, it <i>might</i> be\nreturned to the caller, although this is neither guaranteed to occur nor required to be\nconsistent. For example, this method <i>might</i> choose to pass through recognized\nimplementations of {@code PeekingIterator} when the behavior of the implementation is known to\nmeet the contract guaranteed by this method.\n\n<p>There is no {@link Iterable} equivalent to this method, so use this method to wrap each\nindividual iterator as it is generated.\n\n@param iterator the backing iterator. The {@link PeekingIterator} assumes ownership of this\niterator, so users should cease making direct calls to it after calling this method.\n@return a peeking iterator backed by that iterator. Apart from the additional {@link\nPeekingIterator#peek()} method, this iterator behaves exactly the same as {@code iterator}.", "docstring_tokens": ["Returns", "a", "{", "@code", "PeekingIterator", "}", "backed", "by", "the", "given", "iterator", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1197-L1206", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.peekingIterator", "original_string": "@Deprecated\n  public static <T> PeekingIterator<T> peekingIterator(PeekingIterator<T> iterator) {\n    return checkNotNull(iterator);\n  }", "language": "java", "code": "@Deprecated\n  public static <T> PeekingIterator<T> peekingIterator(PeekingIterator<T> iterator) {\n    return checkNotNull(iterator);\n  }", "code_tokens": ["@", "Deprecated", "public", "static", "<", "T", ">", "PeekingIterator", "<", "T", ">", "peekingIterator", "(", "PeekingIterator", "<", "T", ">", "iterator", ")", "{", "return", "checkNotNull", "(", "iterator", ")", ";", "}"], "docstring": "Simply returns its argument.\n\n@deprecated no need to use this\n@since 10.0", "docstring_tokens": ["Simply", "returns", "its", "argument", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1214-L1217", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.mergeSorted", "original_string": "@Beta\n  public static <T> UnmodifiableIterator<T> mergeSorted(\n      Iterable<? extends Iterator<? extends T>> iterators, Comparator<? super T> comparator) {\n    checkNotNull(iterators, \"iterators\");\n    checkNotNull(comparator, \"comparator\");\n\n    return new MergingIterator<T>(iterators, comparator);\n  }", "language": "java", "code": "@Beta\n  public static <T> UnmodifiableIterator<T> mergeSorted(\n      Iterable<? extends Iterator<? extends T>> iterators, Comparator<? super T> comparator) {\n    checkNotNull(iterators, \"iterators\");\n    checkNotNull(comparator, \"comparator\");\n\n    return new MergingIterator<T>(iterators, comparator);\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "UnmodifiableIterator", "<", "T", ">", "mergeSorted", "(", "Iterable", "<", "?", "extends", "Iterator", "<", "?", "extends", "T", ">", ">", "iterators", ",", "Comparator", "<", "?", "super", "T", ">", "comparator", ")", "{", "checkNotNull", "(", "iterators", ",", "\"iterators\"", ")", ";", "checkNotNull", "(", "comparator", ",", "\"comparator\"", ")", ";", "return", "new", "MergingIterator", "<", "T", ">", "(", "iterators", ",", "comparator", ")", ";", "}"], "docstring": "Returns an iterator over the merged contents of all given {@code iterators}, traversing every\nelement of the input iterators. Equivalent entries will not be de-duplicated.\n\n<p>Callers must ensure that the source {@code iterators} are in non-descending order as this\nmethod does not sort its input.\n\n<p>For any equivalent elements across all {@code iterators}, it is undefined which element is\nreturned first.\n\n@since 11.0", "docstring_tokens": ["Returns", "an", "iterator", "over", "the", "merged", "contents", "of", "all", "given", "{", "@code", "iterators", "}", "traversing", "every", "element", "of", "the", "input", "iterators", ".", "Equivalent", "entries", "will", "not", "be", "de", "-", "duplicated", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1231-L1238", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/Iterators.java", "func_name": "Iterators.cast", "original_string": "static <T> ListIterator<T> cast(Iterator<T> iterator) {\n    return (ListIterator<T>) iterator;\n  }", "language": "java", "code": "static <T> ListIterator<T> cast(Iterator<T> iterator) {\n    return (ListIterator<T>) iterator;\n  }", "code_tokens": ["static", "<", "T", ">", "ListIterator", "<", "T", ">", "cast", "(", "Iterator", "<", "T", ">", "iterator", ")", "{", "return", "(", "ListIterator", "<", "T", ">", ")", "iterator", ";", "}"], "docstring": "Used to avoid http://bugs.sun.com/view_bug.do?bug_id=6558557", "docstring_tokens": ["Used", "to", "avoid", "http", ":", "//", "bugs", ".", "sun", ".", "com", "/", "view_bug", ".", "do?bug_id", "=", "6558557"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/Iterators.java#L1384-L1386", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/graph/ConfigurableMutableNetwork.java", "func_name": "ConfigurableMutableNetwork.addNodeInternal", "original_string": "@CanIgnoreReturnValue\n  private NetworkConnections<N, E> addNodeInternal(N node) {\n    NetworkConnections<N, E> connections = newConnections();\n    checkState(nodeConnections.put(node, connections) == null);\n    return connections;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  private NetworkConnections<N, E> addNodeInternal(N node) {\n    NetworkConnections<N, E> connections = newConnections();\n    checkState(nodeConnections.put(node, connections) == null);\n    return connections;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "private", "NetworkConnections", "<", "N", ",", "E", ">", "addNodeInternal", "(", "N", "node", ")", "{", "NetworkConnections", "<", "N", ",", "E", ">", "connections", "=", "newConnections", "(", ")", ";", "checkState", "(", "nodeConnections", ".", "put", "(", "node", ",", "connections", ")", "==", "null", ")", ";", "return", "connections", ";", "}"], "docstring": "Adds {@code node} to the graph and returns the associated {@link NetworkConnections}.\n\n@throws IllegalStateException if {@code node} is already present", "docstring_tokens": ["Adds", "{", "@code", "node", "}", "to", "the", "graph", "and", "returns", "the", "associated", "{", "@link", "NetworkConnections", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/graph/ConfigurableMutableNetwork.java#L68-L73", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/net/HostSpecifier.java", "func_name": "HostSpecifier.fromValid", "original_string": "public static HostSpecifier fromValid(String specifier) {\n    // Verify that no port was specified, and strip optional brackets from\n    // IPv6 literals.\n    final HostAndPort parsedHost = HostAndPort.fromString(specifier);\n    Preconditions.checkArgument(!parsedHost.hasPort());\n    final String host = parsedHost.getHost();\n\n    // Try to interpret the specifier as an IP address. Note we build\n    // the address rather than using the .is* methods because we want to\n    // use InetAddresses.toUriString to convert the result to a string in\n    // canonical form.\n    InetAddress addr = null;\n    try {\n      addr = InetAddresses.forString(host);\n    } catch (IllegalArgumentException e) {\n      // It is not an IPv4 or IPv6 literal\n    }\n\n    if (addr != null) {\n      return new HostSpecifier(InetAddresses.toUriString(addr));\n    }\n\n    // It is not any kind of IP address; must be a domain name or invalid.\n\n    // TODO(user): different versions of this for different factories?\n    final InternetDomainName domain = InternetDomainName.from(host);\n\n    if (domain.hasPublicSuffix()) {\n      return new HostSpecifier(domain.toString());\n    }\n\n    throw new IllegalArgumentException(\n        \"Domain name does not have a recognized public suffix: \" + host);\n  }", "language": "java", "code": "public static HostSpecifier fromValid(String specifier) {\n    // Verify that no port was specified, and strip optional brackets from\n    // IPv6 literals.\n    final HostAndPort parsedHost = HostAndPort.fromString(specifier);\n    Preconditions.checkArgument(!parsedHost.hasPort());\n    final String host = parsedHost.getHost();\n\n    // Try to interpret the specifier as an IP address. Note we build\n    // the address rather than using the .is* methods because we want to\n    // use InetAddresses.toUriString to convert the result to a string in\n    // canonical form.\n    InetAddress addr = null;\n    try {\n      addr = InetAddresses.forString(host);\n    } catch (IllegalArgumentException e) {\n      // It is not an IPv4 or IPv6 literal\n    }\n\n    if (addr != null) {\n      return new HostSpecifier(InetAddresses.toUriString(addr));\n    }\n\n    // It is not any kind of IP address; must be a domain name or invalid.\n\n    // TODO(user): different versions of this for different factories?\n    final InternetDomainName domain = InternetDomainName.from(host);\n\n    if (domain.hasPublicSuffix()) {\n      return new HostSpecifier(domain.toString());\n    }\n\n    throw new IllegalArgumentException(\n        \"Domain name does not have a recognized public suffix: \" + host);\n  }", "code_tokens": ["public", "static", "HostSpecifier", "fromValid", "(", "String", "specifier", ")", "{", "// Verify that no port was specified, and strip optional brackets from", "// IPv6 literals.", "final", "HostAndPort", "parsedHost", "=", "HostAndPort", ".", "fromString", "(", "specifier", ")", ";", "Preconditions", ".", "checkArgument", "(", "!", "parsedHost", ".", "hasPort", "(", ")", ")", ";", "final", "String", "host", "=", "parsedHost", ".", "getHost", "(", ")", ";", "// Try to interpret the specifier as an IP address. Note we build", "// the address rather than using the .is* methods because we want to", "// use InetAddresses.toUriString to convert the result to a string in", "// canonical form.", "InetAddress", "addr", "=", "null", ";", "try", "{", "addr", "=", "InetAddresses", ".", "forString", "(", "host", ")", ";", "}", "catch", "(", "IllegalArgumentException", "e", ")", "{", "// It is not an IPv4 or IPv6 literal", "}", "if", "(", "addr", "!=", "null", ")", "{", "return", "new", "HostSpecifier", "(", "InetAddresses", ".", "toUriString", "(", "addr", ")", ")", ";", "}", "// It is not any kind of IP address; must be a domain name or invalid.", "// TODO(user): different versions of this for different factories?", "final", "InternetDomainName", "domain", "=", "InternetDomainName", ".", "from", "(", "host", ")", ";", "if", "(", "domain", ".", "hasPublicSuffix", "(", ")", ")", "{", "return", "new", "HostSpecifier", "(", "domain", ".", "toString", "(", ")", ")", ";", "}", "throw", "new", "IllegalArgumentException", "(", "\"Domain name does not have a recognized public suffix: \"", "+", "host", ")", ";", "}"], "docstring": "Returns a {@code HostSpecifier} built from the provided {@code specifier}, which is already\nknown to be valid. If the {@code specifier} might be invalid, use {@link #from(String)}\ninstead.\n\n<p>The specifier must be in one of these formats:\n\n<ul>\n<li>A domain name, like {@code google.com}\n<li>A IPv4 address string, like {@code 127.0.0.1}\n<li>An IPv6 address string with or without brackets, like {@code [2001:db8::1]} or {@code\n2001:db8::1}\n</ul>\n\n@throws IllegalArgumentException if the specifier is not valid.", "docstring_tokens": ["Returns", "a", "{", "@code", "HostSpecifier", "}", "built", "from", "the", "provided", "{", "@code", "specifier", "}", "which", "is", "already", "known", "to", "be", "valid", ".", "If", "the", "{", "@code", "specifier", "}", "might", "be", "invalid", "use", "{", "@link", "#from", "(", "String", ")", "}", "instead", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/net/HostSpecifier.java#L70-L103", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/net/HostSpecifier.java", "func_name": "HostSpecifier.from", "original_string": "public static HostSpecifier from(String specifier) throws ParseException {\n    try {\n      return fromValid(specifier);\n    } catch (IllegalArgumentException e) {\n      // Since the IAE can originate at several different points inside\n      // fromValid(), we implement this method in terms of that one rather\n      // than the reverse.\n\n      ParseException parseException = new ParseException(\"Invalid host specifier: \" + specifier, 0);\n      parseException.initCause(e);\n      throw parseException;\n    }\n  }", "language": "java", "code": "public static HostSpecifier from(String specifier) throws ParseException {\n    try {\n      return fromValid(specifier);\n    } catch (IllegalArgumentException e) {\n      // Since the IAE can originate at several different points inside\n      // fromValid(), we implement this method in terms of that one rather\n      // than the reverse.\n\n      ParseException parseException = new ParseException(\"Invalid host specifier: \" + specifier, 0);\n      parseException.initCause(e);\n      throw parseException;\n    }\n  }", "code_tokens": ["public", "static", "HostSpecifier", "from", "(", "String", "specifier", ")", "throws", "ParseException", "{", "try", "{", "return", "fromValid", "(", "specifier", ")", ";", "}", "catch", "(", "IllegalArgumentException", "e", ")", "{", "// Since the IAE can originate at several different points inside", "// fromValid(), we implement this method in terms of that one rather", "// than the reverse.", "ParseException", "parseException", "=", "new", "ParseException", "(", "\"Invalid host specifier: \"", "+", "specifier", ",", "0", ")", ";", "parseException", ".", "initCause", "(", "e", ")", ";", "throw", "parseException", ";", "}", "}"], "docstring": "Attempts to return a {@code HostSpecifier} for the given string, throwing an exception if\nparsing fails. Always use this method in preference to {@link #fromValid(String)} for a\nspecifier that is not already known to be valid.\n\n@throws ParseException if the specifier is not valid.", "docstring_tokens": ["Attempts", "to", "return", "a", "{", "@code", "HostSpecifier", "}", "for", "the", "given", "string", "throwing", "an", "exception", "if", "parsing", "fails", ".", "Always", "use", "this", "method", "in", "preference", "to", "{", "@link", "#fromValid", "(", "String", ")", "}", "for", "a", "specifier", "that", "is", "not", "already", "known", "to", "be", "valid", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/net/HostSpecifier.java#L112-L124", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ByteSink.java", "func_name": "ByteSink.openBufferedStream", "original_string": "public OutputStream openBufferedStream() throws IOException {\n    OutputStream out = openStream();\n    return (out instanceof BufferedOutputStream)\n        ? (BufferedOutputStream) out\n        : new BufferedOutputStream(out);\n  }", "language": "java", "code": "public OutputStream openBufferedStream() throws IOException {\n    OutputStream out = openStream();\n    return (out instanceof BufferedOutputStream)\n        ? (BufferedOutputStream) out\n        : new BufferedOutputStream(out);\n  }", "code_tokens": ["public", "OutputStream", "openBufferedStream", "(", ")", "throws", "IOException", "{", "OutputStream", "out", "=", "openStream", "(", ")", ";", "return", "(", "out", "instanceof", "BufferedOutputStream", ")", "?", "(", "BufferedOutputStream", ")", "out", ":", "new", "BufferedOutputStream", "(", "out", ")", ";", "}"], "docstring": "Opens a new buffered {@link OutputStream} for writing to this sink. The returned stream is not\nrequired to be a {@link BufferedOutputStream} in order to allow implementations to simply\ndelegate to {@link #openStream()} when the stream returned by that method does not benefit from\nadditional buffering (for example, a {@code ByteArrayOutputStream}). This method returns a new,\nindependent stream each time it is called.\n\n<p>The caller is responsible for ensuring that the returned stream is closed.\n\n@throws IOException if an I/O error occurs while opening the stream\n@since 15.0 (in 14.0 with return type {@link BufferedOutputStream})", "docstring_tokens": ["Opens", "a", "new", "buffered", "{", "@link", "OutputStream", "}", "for", "writing", "to", "this", "sink", ".", "The", "returned", "stream", "is", "not", "required", "to", "be", "a", "{", "@link", "BufferedOutputStream", "}", "in", "order", "to", "allow", "implementations", "to", "simply", "delegate", "to", "{", "@link", "#openStream", "()", "}", "when", "the", "stream", "returned", "by", "that", "method", "does", "not", "benefit", "from", "additional", "buffering", "(", "for", "example", "a", "{", "@code", "ByteArrayOutputStream", "}", ")", ".", "This", "method", "returns", "a", "new", "independent", "stream", "each", "time", "it", "is", "called", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ByteSink.java#L84-L89", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ByteSink.java", "func_name": "ByteSink.write", "original_string": "public void write(byte[] bytes) throws IOException {\n    checkNotNull(bytes);\n\n    Closer closer = Closer.create();\n    try {\n      OutputStream out = closer.register(openStream());\n      out.write(bytes);\n      out.flush(); // https://code.google.com/p/guava-libraries/issues/detail?id=1330\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "public void write(byte[] bytes) throws IOException {\n    checkNotNull(bytes);\n\n    Closer closer = Closer.create();\n    try {\n      OutputStream out = closer.register(openStream());\n      out.write(bytes);\n      out.flush(); // https://code.google.com/p/guava-libraries/issues/detail?id=1330\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["public", "void", "write", "(", "byte", "[", "]", "bytes", ")", "throws", "IOException", "{", "checkNotNull", "(", "bytes", ")", ";", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "OutputStream", "out", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "out", ".", "write", "(", "bytes", ")", ";", "out", ".", "flush", "(", ")", ";", "// https://code.google.com/p/guava-libraries/issues/detail?id=1330", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Writes all the given bytes to this sink.\n\n@throws IOException if an I/O occurs while writing to this sink", "docstring_tokens": ["Writes", "all", "the", "given", "bytes", "to", "this", "sink", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ByteSink.java#L96-L109", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/io/ByteSink.java", "func_name": "ByteSink.writeFrom", "original_string": "@CanIgnoreReturnValue\n  public long writeFrom(InputStream input) throws IOException {\n    checkNotNull(input);\n\n    Closer closer = Closer.create();\n    try {\n      OutputStream out = closer.register(openStream());\n      long written = ByteStreams.copy(input, out);\n      out.flush(); // https://code.google.com/p/guava-libraries/issues/detail?id=1330\n      return written;\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public long writeFrom(InputStream input) throws IOException {\n    checkNotNull(input);\n\n    Closer closer = Closer.create();\n    try {\n      OutputStream out = closer.register(openStream());\n      long written = ByteStreams.copy(input, out);\n      out.flush(); // https://code.google.com/p/guava-libraries/issues/detail?id=1330\n      return written;\n    } catch (Throwable e) {\n      throw closer.rethrow(e);\n    } finally {\n      closer.close();\n    }\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "long", "writeFrom", "(", "InputStream", "input", ")", "throws", "IOException", "{", "checkNotNull", "(", "input", ")", ";", "Closer", "closer", "=", "Closer", ".", "create", "(", ")", ";", "try", "{", "OutputStream", "out", "=", "closer", ".", "register", "(", "openStream", "(", ")", ")", ";", "long", "written", "=", "ByteStreams", ".", "copy", "(", "input", ",", "out", ")", ";", "out", ".", "flush", "(", ")", ";", "// https://code.google.com/p/guava-libraries/issues/detail?id=1330", "return", "written", ";", "}", "catch", "(", "Throwable", "e", ")", "{", "throw", "closer", ".", "rethrow", "(", "e", ")", ";", "}", "finally", "{", "closer", ".", "close", "(", ")", ";", "}", "}"], "docstring": "Writes all the bytes from the given {@code InputStream} to this sink. Does not close {@code\ninput}.\n\n@return the number of bytes written\n@throws IOException if an I/O occurs while reading from {@code input} or writing to this sink", "docstring_tokens": ["Writes", "all", "the", "bytes", "from", "the", "given", "{", "@code", "InputStream", "}", "to", "this", "sink", ".", "Does", "not", "close", "{", "@code", "input", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/io/ByteSink.java#L118-L133", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/AbstractMapBasedMultiset.java", "func_name": "AbstractMapBasedMultiset.setCount", "original_string": "@CanIgnoreReturnValue\n  @Override\n  public int setCount(@Nullable E element, int count) {\n    checkNonnegative(count, \"count\");\n\n    Count existingCounter;\n    int oldCount;\n    if (count == 0) {\n      existingCounter = backingMap.remove(element);\n      oldCount = getAndSet(existingCounter, count);\n    } else {\n      existingCounter = backingMap.get(element);\n      oldCount = getAndSet(existingCounter, count);\n\n      if (existingCounter == null) {\n        backingMap.put(element, new Count(count));\n      }\n    }\n\n    size += (count - oldCount);\n    return oldCount;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  @Override\n  public int setCount(@Nullable E element, int count) {\n    checkNonnegative(count, \"count\");\n\n    Count existingCounter;\n    int oldCount;\n    if (count == 0) {\n      existingCounter = backingMap.remove(element);\n      oldCount = getAndSet(existingCounter, count);\n    } else {\n      existingCounter = backingMap.get(element);\n      oldCount = getAndSet(existingCounter, count);\n\n      if (existingCounter == null) {\n        backingMap.put(element, new Count(count));\n      }\n    }\n\n    size += (count - oldCount);\n    return oldCount;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "@", "Override", "public", "int", "setCount", "(", "@", "Nullable", "E", "element", ",", "int", "count", ")", "{", "checkNonnegative", "(", "count", ",", "\"count\"", ")", ";", "Count", "existingCounter", ";", "int", "oldCount", ";", "if", "(", "count", "==", "0", ")", "{", "existingCounter", "=", "backingMap", ".", "remove", "(", "element", ")", ";", "oldCount", "=", "getAndSet", "(", "existingCounter", ",", "count", ")", ";", "}", "else", "{", "existingCounter", "=", "backingMap", ".", "get", "(", "element", ")", ";", "oldCount", "=", "getAndSet", "(", "existingCounter", ",", "count", ")", ";", "if", "(", "existingCounter", "==", "null", ")", "{", "backingMap", ".", "put", "(", "element", ",", "new", "Count", "(", "count", ")", ")", ";", "}", "}", "size", "+=", "(", "count", "-", "oldCount", ")", ";", "return", "oldCount", ";", "}"], "docstring": "Roughly a 33% performance improvement over AbstractMultiset.setCount().", "docstring_tokens": ["Roughly", "a", "33%", "performance", "improvement", "over", "AbstractMultiset", ".", "setCount", "()", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/AbstractMapBasedMultiset.java#L299-L320", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Verify.java", "func_name": "Verify.verify", "original_string": "public static void verify(\n      boolean expression,\n      @Nullable String errorMessageTemplate,\n      @Nullable Object @Nullable ... errorMessageArgs) {\n    if (!expression) {\n      throw new VerifyException(lenientFormat(errorMessageTemplate, errorMessageArgs));\n    }\n  }", "language": "java", "code": "public static void verify(\n      boolean expression,\n      @Nullable String errorMessageTemplate,\n      @Nullable Object @Nullable ... errorMessageArgs) {\n    if (!expression) {\n      throw new VerifyException(lenientFormat(errorMessageTemplate, errorMessageArgs));\n    }\n  }", "code_tokens": ["public", "static", "void", "verify", "(", "boolean", "expression", ",", "@", "Nullable", "String", "errorMessageTemplate", ",", "@", "Nullable", "Object", "@", "Nullable", ".", ".", ".", "errorMessageArgs", ")", "{", "if", "(", "!", "expression", ")", "{", "throw", "new", "VerifyException", "(", "lenientFormat", "(", "errorMessageTemplate", ",", "errorMessageArgs", ")", ")", ";", "}", "}"], "docstring": "Ensures that {@code expression} is {@code true}, throwing a {@code VerifyException} with a\ncustom message otherwise.\n\n@param expression a boolean expression\n@param errorMessageTemplate a template for the exception message should the check fail. The\nmessage is formed by replacing each {@code %s} placeholder in the template with an\nargument. These are matched by position - the first {@code %s} gets {@code\nerrorMessageArgs[0]}, etc. Unmatched arguments will be appended to the formatted message in\nsquare braces. Unmatched placeholders will be left as-is.\n@param errorMessageArgs the arguments to be substituted into the message template. Arguments\nare converted to strings using {@link String#valueOf(Object)}.\n@throws VerifyException if {@code expression} is {@code false}\n@see Preconditions#checkState Preconditions.checkState()", "docstring_tokens": ["Ensures", "that", "{", "@code", "expression", "}", "is", "{", "@code", "true", "}", "throwing", "a", "{", "@code", "VerifyException", "}", "with", "a", "custom", "message", "otherwise", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Verify.java#L119-L126", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Verify.java", "func_name": "Verify.verify", "original_string": "public static void verify(boolean expression, @Nullable String errorMessageTemplate, char p1) {\n    if (!expression) {\n      throw new VerifyException(lenientFormat(errorMessageTemplate, p1));\n    }\n  }", "language": "java", "code": "public static void verify(boolean expression, @Nullable String errorMessageTemplate, char p1) {\n    if (!expression) {\n      throw new VerifyException(lenientFormat(errorMessageTemplate, p1));\n    }\n  }", "code_tokens": ["public", "static", "void", "verify", "(", "boolean", "expression", ",", "@", "Nullable", "String", "errorMessageTemplate", ",", "char", "p1", ")", "{", "if", "(", "!", "expression", ")", "{", "throw", "new", "VerifyException", "(", "lenientFormat", "(", "errorMessageTemplate", ",", "p1", ")", ")", ";", "}", "}"], "docstring": "Ensures that {@code expression} is {@code true}, throwing a {@code VerifyException} with a\ncustom message otherwise.\n\n<p>See {@link #verify(boolean, String, Object...)} for details.\n\n@since 23.1 (varargs overload since 17.0)", "docstring_tokens": ["Ensures", "that", "{", "@code", "expression", "}", "is", "{", "@code", "true", "}", "throwing", "a", "{", "@code", "VerifyException", "}", "with", "a", "custom", "message", "otherwise", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Verify.java#L136-L140", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Verify.java", "func_name": "Verify.verifyNotNull", "original_string": "@CanIgnoreReturnValue\n  public static <T> T verifyNotNull(\n      @Nullable T reference,\n      @Nullable String errorMessageTemplate,\n      @Nullable Object @Nullable ... errorMessageArgs) {\n    verify(reference != null, errorMessageTemplate, errorMessageArgs);\n    return reference;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public static <T> T verifyNotNull(\n      @Nullable T reference,\n      @Nullable String errorMessageTemplate,\n      @Nullable Object @Nullable ... errorMessageArgs) {\n    verify(reference != null, errorMessageTemplate, errorMessageArgs);\n    return reference;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "static", "<", "T", ">", "T", "verifyNotNull", "(", "@", "Nullable", "T", "reference", ",", "@", "Nullable", "String", "errorMessageTemplate", ",", "@", "Nullable", "Object", "@", "Nullable", ".", ".", ".", "errorMessageArgs", ")", "{", "verify", "(", "reference", "!=", "null", ",", "errorMessageTemplate", ",", "errorMessageArgs", ")", ";", "return", "reference", ";", "}"], "docstring": "Ensures that {@code reference} is non-null, throwing a {@code VerifyException} with a custom\nmessage otherwise.\n\n@param errorMessageTemplate a template for the exception message should the check fail. The\nmessage is formed by replacing each {@code %s} placeholder in the template with an\nargument. These are matched by position - the first {@code %s} gets {@code\nerrorMessageArgs[0]}, etc. Unmatched arguments will be appended to the formatted message in\nsquare braces. Unmatched placeholders will be left as-is.\n@param errorMessageArgs the arguments to be substituted into the message template. Arguments\nare converted to strings using {@link String#valueOf(Object)}.\n@return {@code reference}, guaranteed to be non-null, for convenience\n@throws VerifyException if {@code reference} is {@code null}\n@see Preconditions#checkNotNull Preconditions.checkNotNull()", "docstring_tokens": ["Ensures", "that", "{", "@code", "reference", "}", "is", "non", "-", "null", "throwing", "a", "{", "@code", "VerifyException", "}", "with", "a", "custom", "message", "otherwise", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Verify.java#L495-L502", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.newArrayDeque", "original_string": "public static <E> ArrayDeque<E> newArrayDeque(Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new ArrayDeque<E>(Collections2.cast(elements));\n    }\n    ArrayDeque<E> deque = new ArrayDeque<E>();\n    Iterables.addAll(deque, elements);\n    return deque;\n  }", "language": "java", "code": "public static <E> ArrayDeque<E> newArrayDeque(Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new ArrayDeque<E>(Collections2.cast(elements));\n    }\n    ArrayDeque<E> deque = new ArrayDeque<E>();\n    Iterables.addAll(deque, elements);\n    return deque;\n  }", "code_tokens": ["public", "static", "<", "E", ">", "ArrayDeque", "<", "E", ">", "newArrayDeque", "(", "Iterable", "<", "?", "extends", "E", ">", "elements", ")", "{", "if", "(", "elements", "instanceof", "Collection", ")", "{", "return", "new", "ArrayDeque", "<", "E", ">", "(", "Collections2", ".", "cast", "(", "elements", ")", ")", ";", "}", "ArrayDeque", "<", "E", ">", "deque", "=", "new", "ArrayDeque", "<", "E", ">", "(", ")", ";", "Iterables", ".", "addAll", "(", "deque", ",", "elements", ")", ";", "return", "deque", ";", "}"], "docstring": "Creates an {@code ArrayDeque} containing the elements of the specified iterable, in the order\nthey are returned by the iterable's iterator.\n\n@since 12.0", "docstring_tokens": ["Creates", "an", "{", "@code", "ArrayDeque", "}", "containing", "the", "elements", "of", "the", "specified", "iterable", "in", "the", "order", "they", "are", "returned", "by", "the", "iterable", "s", "iterator", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L75-L82", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.newConcurrentLinkedQueue", "original_string": "@GwtIncompatible // ConcurrentLinkedQueue\n  public static <E> ConcurrentLinkedQueue<E> newConcurrentLinkedQueue(\n      Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new ConcurrentLinkedQueue<E>(Collections2.cast(elements));\n    }\n    ConcurrentLinkedQueue<E> queue = new ConcurrentLinkedQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "language": "java", "code": "@GwtIncompatible // ConcurrentLinkedQueue\n  public static <E> ConcurrentLinkedQueue<E> newConcurrentLinkedQueue(\n      Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new ConcurrentLinkedQueue<E>(Collections2.cast(elements));\n    }\n    ConcurrentLinkedQueue<E> queue = new ConcurrentLinkedQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "code_tokens": ["@", "GwtIncompatible", "// ConcurrentLinkedQueue", "public", "static", "<", "E", ">", "ConcurrentLinkedQueue", "<", "E", ">", "newConcurrentLinkedQueue", "(", "Iterable", "<", "?", "extends", "E", ">", "elements", ")", "{", "if", "(", "elements", "instanceof", "Collection", ")", "{", "return", "new", "ConcurrentLinkedQueue", "<", "E", ">", "(", "Collections2", ".", "cast", "(", "elements", ")", ")", ";", "}", "ConcurrentLinkedQueue", "<", "E", ">", "queue", "=", "new", "ConcurrentLinkedQueue", "<", "E", ">", "(", ")", ";", "Iterables", ".", "addAll", "(", "queue", ",", "elements", ")", ";", "return", "queue", ";", "}"], "docstring": "Creates a {@code ConcurrentLinkedQueue} containing the elements of the specified iterable, in\nthe order they are returned by the iterable's iterator.", "docstring_tokens": ["Creates", "a", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L96-L105", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.newLinkedBlockingQueue", "original_string": "@GwtIncompatible // LinkedBlockingQueue\n  public static <E> LinkedBlockingQueue<E> newLinkedBlockingQueue(Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new LinkedBlockingQueue<E>(Collections2.cast(elements));\n    }\n    LinkedBlockingQueue<E> queue = new LinkedBlockingQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "language": "java", "code": "@GwtIncompatible // LinkedBlockingQueue\n  public static <E> LinkedBlockingQueue<E> newLinkedBlockingQueue(Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new LinkedBlockingQueue<E>(Collections2.cast(elements));\n    }\n    LinkedBlockingQueue<E> queue = new LinkedBlockingQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "code_tokens": ["@", "GwtIncompatible", "// LinkedBlockingQueue", "public", "static", "<", "E", ">", "LinkedBlockingQueue", "<", "E", ">", "newLinkedBlockingQueue", "(", "Iterable", "<", "?", "extends", "E", ">", "elements", ")", "{", "if", "(", "elements", "instanceof", "Collection", ")", "{", "return", "new", "LinkedBlockingQueue", "<", "E", ">", "(", "Collections2", ".", "cast", "(", "elements", ")", ")", ";", "}", "LinkedBlockingQueue", "<", "E", ">", "queue", "=", "new", "LinkedBlockingQueue", "<", "E", ">", "(", ")", ";", "Iterables", ".", "addAll", "(", "queue", ",", "elements", ")", ";", "return", "queue", ";", "}"], "docstring": "Creates a {@code LinkedBlockingQueue} with a capacity of {@link Integer#MAX_VALUE}, containing\nthe elements of the specified iterable, in the order they are returned by the iterable's\niterator.\n\n@param elements the elements that the queue should contain, in order\n@return a new {@code LinkedBlockingQueue} containing those elements", "docstring_tokens": ["Creates", "a", "{", "@code", "LinkedBlockingQueue", "}", "with", "a", "capacity", "of", "{", "@link", "Integer#MAX_VALUE", "}", "containing", "the", "elements", "of", "the", "specified", "iterable", "in", "the", "order", "they", "are", "returned", "by", "the", "iterable", "s", "iterator", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L173-L181", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.newPriorityQueue", "original_string": "public static <E extends Comparable> PriorityQueue<E> newPriorityQueue(\n      Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new PriorityQueue<E>(Collections2.cast(elements));\n    }\n    PriorityQueue<E> queue = new PriorityQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "language": "java", "code": "public static <E extends Comparable> PriorityQueue<E> newPriorityQueue(\n      Iterable<? extends E> elements) {\n    if (elements instanceof Collection) {\n      return new PriorityQueue<E>(Collections2.cast(elements));\n    }\n    PriorityQueue<E> queue = new PriorityQueue<E>();\n    Iterables.addAll(queue, elements);\n    return queue;\n  }", "code_tokens": ["public", "static", "<", "E", "extends", "Comparable", ">", "PriorityQueue", "<", "E", ">", "newPriorityQueue", "(", "Iterable", "<", "?", "extends", "E", ">", "elements", ")", "{", "if", "(", "elements", "instanceof", "Collection", ")", "{", "return", "new", "PriorityQueue", "<", "E", ">", "(", "Collections2", ".", "cast", "(", "elements", ")", ")", ";", "}", "PriorityQueue", "<", "E", ">", "queue", "=", "new", "PriorityQueue", "<", "E", ">", "(", ")", ";", "Iterables", ".", "addAll", "(", "queue", ",", "elements", ")", ";", "return", "queue", ";", "}"], "docstring": "Creates a {@code PriorityQueue} containing the given elements.\n\n<p><b>Note:</b> If the specified iterable is a {@code SortedSet} or a {@code PriorityQueue},\nthis priority queue will be ordered according to the same ordering.\n\n@since 11.0 (requires that {@code E} be {@code Comparable} since 15.0).", "docstring_tokens": ["Creates", "a", "{", "@code", "PriorityQueue", "}", "containing", "the", "given", "elements", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L237-L245", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.drainUninterruptibly", "original_string": "@Beta\n  @CanIgnoreReturnValue\n  @GwtIncompatible // BlockingQueue\n  @SuppressWarnings(\"GoodTime\") // should accept a java.time.Duration\n  public static <E> int drainUninterruptibly(\n      BlockingQueue<E> q,\n      Collection<? super E> buffer,\n      int numElements,\n      long timeout,\n      TimeUnit unit) {\n    Preconditions.checkNotNull(buffer);\n    long deadline = System.nanoTime() + unit.toNanos(timeout);\n    int added = 0;\n    boolean interrupted = false;\n    try {\n      while (added < numElements) {\n        // we could rely solely on #poll, but #drainTo might be more efficient when there are\n        // multiple elements already available (e.g. LinkedBlockingQueue#drainTo locks only once)\n        added += q.drainTo(buffer, numElements - added);\n        if (added < numElements) { // not enough elements immediately available; will have to poll\n          E e; // written exactly once, by a successful (uninterrupted) invocation of #poll\n          while (true) {\n            try {\n              e = q.poll(deadline - System.nanoTime(), TimeUnit.NANOSECONDS);\n              break;\n            } catch (InterruptedException ex) {\n              interrupted = true; // note interruption and retry\n            }\n          }\n          if (e == null) {\n            break; // we already waited enough, and there are no more elements in sight\n          }\n          buffer.add(e);\n          added++;\n        }\n      }\n    } finally {\n      if (interrupted) {\n        Thread.currentThread().interrupt();\n      }\n    }\n    return added;\n  }", "language": "java", "code": "@Beta\n  @CanIgnoreReturnValue\n  @GwtIncompatible // BlockingQueue\n  @SuppressWarnings(\"GoodTime\") // should accept a java.time.Duration\n  public static <E> int drainUninterruptibly(\n      BlockingQueue<E> q,\n      Collection<? super E> buffer,\n      int numElements,\n      long timeout,\n      TimeUnit unit) {\n    Preconditions.checkNotNull(buffer);\n    long deadline = System.nanoTime() + unit.toNanos(timeout);\n    int added = 0;\n    boolean interrupted = false;\n    try {\n      while (added < numElements) {\n        // we could rely solely on #poll, but #drainTo might be more efficient when there are\n        // multiple elements already available (e.g. LinkedBlockingQueue#drainTo locks only once)\n        added += q.drainTo(buffer, numElements - added);\n        if (added < numElements) { // not enough elements immediately available; will have to poll\n          E e; // written exactly once, by a successful (uninterrupted) invocation of #poll\n          while (true) {\n            try {\n              e = q.poll(deadline - System.nanoTime(), TimeUnit.NANOSECONDS);\n              break;\n            } catch (InterruptedException ex) {\n              interrupted = true; // note interruption and retry\n            }\n          }\n          if (e == null) {\n            break; // we already waited enough, and there are no more elements in sight\n          }\n          buffer.add(e);\n          added++;\n        }\n      }\n    } finally {\n      if (interrupted) {\n        Thread.currentThread().interrupt();\n      }\n    }\n    return added;\n  }", "code_tokens": ["@", "Beta", "@", "CanIgnoreReturnValue", "@", "GwtIncompatible", "// BlockingQueue", "@", "SuppressWarnings", "(", "\"GoodTime\"", ")", "// should accept a java.time.Duration", "public", "static", "<", "E", ">", "int", "drainUninterruptibly", "(", "BlockingQueue", "<", "E", ">", "q", ",", "Collection", "<", "?", "super", "E", ">", "buffer", ",", "int", "numElements", ",", "long", "timeout", ",", "TimeUnit", "unit", ")", "{", "Preconditions", ".", "checkNotNull", "(", "buffer", ")", ";", "long", "deadline", "=", "System", ".", "nanoTime", "(", ")", "+", "unit", ".", "toNanos", "(", "timeout", ")", ";", "int", "added", "=", "0", ";", "boolean", "interrupted", "=", "false", ";", "try", "{", "while", "(", "added", "<", "numElements", ")", "{", "// we could rely solely on #poll, but #drainTo might be more efficient when there are", "// multiple elements already available (e.g. LinkedBlockingQueue#drainTo locks only once)", "added", "+=", "q", ".", "drainTo", "(", "buffer", ",", "numElements", "-", "added", ")", ";", "if", "(", "added", "<", "numElements", ")", "{", "// not enough elements immediately available; will have to poll", "E", "e", ";", "// written exactly once, by a successful (uninterrupted) invocation of #poll", "while", "(", "true", ")", "{", "try", "{", "e", "=", "q", ".", "poll", "(", "deadline", "-", "System", ".", "nanoTime", "(", ")", ",", "TimeUnit", ".", "NANOSECONDS", ")", ";", "break", ";", "}", "catch", "(", "InterruptedException", "ex", ")", "{", "interrupted", "=", "true", ";", "// note interruption and retry", "}", "}", "if", "(", "e", "==", "null", ")", "{", "break", ";", "// we already waited enough, and there are no more elements in sight", "}", "buffer", ".", "add", "(", "e", ")", ";", "added", "++", ";", "}", "}", "}", "finally", "{", "if", "(", "interrupted", ")", "{", "Thread", ".", "currentThread", "(", ")", ".", "interrupt", "(", ")", ";", "}", "}", "return", "added", ";", "}"], "docstring": "Drains the queue as {@linkplain #drain(BlockingQueue, Collection, int, long, TimeUnit)}, but\nwith a different behavior in case it is interrupted while waiting. In that case, the operation\nwill continue as usual, and in the end the thread's interruption status will be set (no {@code\nInterruptedException} is thrown).\n\n@param q the blocking queue to be drained\n@param buffer where to add the transferred elements\n@param numElements the number of elements to be waited for\n@param timeout how long to wait before giving up, in units of {@code unit}\n@param unit a {@code TimeUnit} determining how to interpret the timeout parameter\n@return the number of elements transferred", "docstring_tokens": ["Drains", "the", "queue", "as", "{", "@linkplain", "#drain", "(", "BlockingQueue", "Collection", "int", "long", "TimeUnit", ")", "}", "but", "with", "a", "different", "behavior", "in", "case", "it", "is", "interrupted", "while", "waiting", ".", "In", "that", "case", "the", "operation", "will", "continue", "as", "usual", "and", "in", "the", "end", "the", "thread", "s", "interruption", "status", "will", "be", "set", "(", "no", "{", "@code", "InterruptedException", "}", "is", "thrown", ")", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L315-L357", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.synchronizedQueue", "original_string": "public static <E> Queue<E> synchronizedQueue(Queue<E> queue) {\n    return Synchronized.queue(queue, null);\n  }", "language": "java", "code": "public static <E> Queue<E> synchronizedQueue(Queue<E> queue) {\n    return Synchronized.queue(queue, null);\n  }", "code_tokens": ["public", "static", "<", "E", ">", "Queue", "<", "E", ">", "synchronizedQueue", "(", "Queue", "<", "E", ">", "queue", ")", "{", "return", "Synchronized", ".", "queue", "(", "queue", ",", "null", ")", ";", "}"], "docstring": "Returns a synchronized (thread-safe) queue backed by the specified queue. In order to guarantee\nserial access, it is critical that <b>all</b> access to the backing queue is accomplished\nthrough the returned queue.\n\n<p>It is imperative that the user manually synchronize on the returned queue when accessing the\nqueue's iterator:\n\n<pre>{@code\nQueue<E> queue = Queues.synchronizedQueue(MinMaxPriorityQueue.<E>create());\n...\nqueue.add(element);  // Needn't be in synchronized block\n...\nsynchronized (queue) {  // Must synchronize on queue!\nIterator<E> i = queue.iterator(); // Must be in synchronized block\nwhile (i.hasNext()) {\nfoo(i.next());\n}\n}\n}</pre>\n\n<p>Failure to follow this advice may result in non-deterministic behavior.\n\n<p>The returned queue will be serializable if the specified queue is serializable.\n\n@param queue the queue to be wrapped in a synchronized view\n@return a synchronized view of the specified queue\n@since 14.0", "docstring_tokens": ["Returns", "a", "synchronized", "(", "thread", "-", "safe", ")", "queue", "backed", "by", "the", "specified", "queue", ".", "In", "order", "to", "guarantee", "serial", "access", "it", "is", "critical", "that", "<b", ">", "all<", "/", "b", ">", "access", "to", "the", "backing", "queue", "is", "accomplished", "through", "the", "returned", "queue", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L388-L390", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Queues.java", "func_name": "Queues.synchronizedDeque", "original_string": "public static <E> Deque<E> synchronizedDeque(Deque<E> deque) {\n    return Synchronized.deque(deque, null);\n  }", "language": "java", "code": "public static <E> Deque<E> synchronizedDeque(Deque<E> deque) {\n    return Synchronized.deque(deque, null);\n  }", "code_tokens": ["public", "static", "<", "E", ">", "Deque", "<", "E", ">", "synchronizedDeque", "(", "Deque", "<", "E", ">", "deque", ")", "{", "return", "Synchronized", ".", "deque", "(", "deque", ",", "null", ")", ";", "}"], "docstring": "Returns a synchronized (thread-safe) deque backed by the specified deque. In order to guarantee\nserial access, it is critical that <b>all</b> access to the backing deque is accomplished\nthrough the returned deque.\n\n<p>It is imperative that the user manually synchronize on the returned deque when accessing any\nof the deque's iterators:\n\n<pre>{@code\nDeque<E> deque = Queues.synchronizedDeque(Queues.<E>newArrayDeque());\n...\ndeque.add(element);  // Needn't be in synchronized block\n...\nsynchronized (deque) {  // Must synchronize on deque!\nIterator<E> i = deque.iterator(); // Must be in synchronized block\nwhile (i.hasNext()) {\nfoo(i.next());\n}\n}\n}</pre>\n\n<p>Failure to follow this advice may result in non-deterministic behavior.\n\n<p>The returned deque will be serializable if the specified deque is serializable.\n\n@param deque the deque to be wrapped in a synchronized view\n@return a synchronized view of the specified deque\n@since 15.0", "docstring_tokens": ["Returns", "a", "synchronized", "(", "thread", "-", "safe", ")", "deque", "backed", "by", "the", "specified", "deque", ".", "In", "order", "to", "guarantee", "serial", "access", "it", "is", "critical", "that", "<b", ">", "all<", "/", "b", ">", "access", "to", "the", "backing", "deque", "is", "accomplished", "through", "the", "returned", "deque", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Queues.java#L421-L423", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/StandardTable.java", "func_name": "StandardTable.removeMapping", "original_string": "private boolean removeMapping(Object rowKey, Object columnKey, Object value) {\n    if (containsMapping(rowKey, columnKey, value)) {\n      remove(rowKey, columnKey);\n      return true;\n    }\n    return false;\n  }", "language": "java", "code": "private boolean removeMapping(Object rowKey, Object columnKey, Object value) {\n    if (containsMapping(rowKey, columnKey, value)) {\n      remove(rowKey, columnKey);\n      return true;\n    }\n    return false;\n  }", "code_tokens": ["private", "boolean", "removeMapping", "(", "Object", "rowKey", ",", "Object", "columnKey", ",", "Object", "value", ")", "{", "if", "(", "containsMapping", "(", "rowKey", ",", "columnKey", ",", "value", ")", ")", "{", "remove", "(", "rowKey", ",", "columnKey", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}"], "docstring": "Remove a row key / column key / value mapping, if present.", "docstring_tokens": ["Remove", "a", "row", "key", "/", "column", "key", "/", "value", "mapping", "if", "present", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/StandardTable.java#L188-L194", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/StandardTable.java", "func_name": "StandardTable.columnKeySet", "original_string": "@Override\n  public Set<C> columnKeySet() {\n    Set<C> result = columnKeySet;\n    return (result == null) ? columnKeySet = new ColumnKeySet() : result;\n  }", "language": "java", "code": "@Override\n  public Set<C> columnKeySet() {\n    Set<C> result = columnKeySet;\n    return (result == null) ? columnKeySet = new ColumnKeySet() : result;\n  }", "code_tokens": ["@", "Override", "public", "Set", "<", "C", ">", "columnKeySet", "(", ")", "{", "Set", "<", "C", ">", "result", "=", "columnKeySet", ";", "return", "(", "result", "==", "null", ")", "?", "columnKeySet", "=", "new", "ColumnKeySet", "(", ")", ":", "result", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>The returned set has an iterator that does not support {@code remove()}.\n\n<p>The set's iterator traverses the columns of the first row, the columns of the second row,\netc., skipping any columns that have appeared previously.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/StandardTable.java#L607-L611", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/cache/CacheBuilderSpec.java", "func_name": "CacheBuilderSpec.parse", "original_string": "public static CacheBuilderSpec parse(String cacheBuilderSpecification) {\n    CacheBuilderSpec spec = new CacheBuilderSpec(cacheBuilderSpecification);\n    if (!cacheBuilderSpecification.isEmpty()) {\n      for (String keyValuePair : KEYS_SPLITTER.split(cacheBuilderSpecification)) {\n        List<String> keyAndValue = ImmutableList.copyOf(KEY_VALUE_SPLITTER.split(keyValuePair));\n        checkArgument(!keyAndValue.isEmpty(), \"blank key-value pair\");\n        checkArgument(\n            keyAndValue.size() <= 2,\n            \"key-value pair %s with more than one equals sign\",\n            keyValuePair);\n\n        // Find the ValueParser for the current key.\n        String key = keyAndValue.get(0);\n        ValueParser valueParser = VALUE_PARSERS.get(key);\n        checkArgument(valueParser != null, \"unknown key %s\", key);\n\n        String value = keyAndValue.size() == 1 ? null : keyAndValue.get(1);\n        valueParser.parse(spec, key, value);\n      }\n    }\n\n    return spec;\n  }", "language": "java", "code": "public static CacheBuilderSpec parse(String cacheBuilderSpecification) {\n    CacheBuilderSpec spec = new CacheBuilderSpec(cacheBuilderSpecification);\n    if (!cacheBuilderSpecification.isEmpty()) {\n      for (String keyValuePair : KEYS_SPLITTER.split(cacheBuilderSpecification)) {\n        List<String> keyAndValue = ImmutableList.copyOf(KEY_VALUE_SPLITTER.split(keyValuePair));\n        checkArgument(!keyAndValue.isEmpty(), \"blank key-value pair\");\n        checkArgument(\n            keyAndValue.size() <= 2,\n            \"key-value pair %s with more than one equals sign\",\n            keyValuePair);\n\n        // Find the ValueParser for the current key.\n        String key = keyAndValue.get(0);\n        ValueParser valueParser = VALUE_PARSERS.get(key);\n        checkArgument(valueParser != null, \"unknown key %s\", key);\n\n        String value = keyAndValue.size() == 1 ? null : keyAndValue.get(1);\n        valueParser.parse(spec, key, value);\n      }\n    }\n\n    return spec;\n  }", "code_tokens": ["public", "static", "CacheBuilderSpec", "parse", "(", "String", "cacheBuilderSpecification", ")", "{", "CacheBuilderSpec", "spec", "=", "new", "CacheBuilderSpec", "(", "cacheBuilderSpecification", ")", ";", "if", "(", "!", "cacheBuilderSpecification", ".", "isEmpty", "(", ")", ")", "{", "for", "(", "String", "keyValuePair", ":", "KEYS_SPLITTER", ".", "split", "(", "cacheBuilderSpecification", ")", ")", "{", "List", "<", "String", ">", "keyAndValue", "=", "ImmutableList", ".", "copyOf", "(", "KEY_VALUE_SPLITTER", ".", "split", "(", "keyValuePair", ")", ")", ";", "checkArgument", "(", "!", "keyAndValue", ".", "isEmpty", "(", ")", ",", "\"blank key-value pair\"", ")", ";", "checkArgument", "(", "keyAndValue", ".", "size", "(", ")", "<=", "2", ",", "\"key-value pair %s with more than one equals sign\"", ",", "keyValuePair", ")", ";", "// Find the ValueParser for the current key.", "String", "key", "=", "keyAndValue", ".", "get", "(", "0", ")", ";", "ValueParser", "valueParser", "=", "VALUE_PARSERS", ".", "get", "(", "key", ")", ";", "checkArgument", "(", "valueParser", "!=", "null", ",", "\"unknown key %s\"", ",", "key", ")", ";", "String", "value", "=", "keyAndValue", ".", "size", "(", ")", "==", "1", "?", "null", ":", "keyAndValue", ".", "get", "(", "1", ")", ";", "valueParser", ".", "parse", "(", "spec", ",", "key", ",", "value", ")", ";", "}", "}", "return", "spec", ";", "}"], "docstring": "Creates a CacheBuilderSpec from a string.\n\n@param cacheBuilderSpecification the string form", "docstring_tokens": ["Creates", "a", "CacheBuilderSpec", "from", "a", "string", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/cache/CacheBuilderSpec.java#L136-L158", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/cache/CacheBuilderSpec.java", "func_name": "CacheBuilderSpec.toCacheBuilder", "original_string": "CacheBuilder<Object, Object> toCacheBuilder() {\n    CacheBuilder<Object, Object> builder = CacheBuilder.newBuilder();\n    if (initialCapacity != null) {\n      builder.initialCapacity(initialCapacity);\n    }\n    if (maximumSize != null) {\n      builder.maximumSize(maximumSize);\n    }\n    if (maximumWeight != null) {\n      builder.maximumWeight(maximumWeight);\n    }\n    if (concurrencyLevel != null) {\n      builder.concurrencyLevel(concurrencyLevel);\n    }\n    if (keyStrength != null) {\n      switch (keyStrength) {\n        case WEAK:\n          builder.weakKeys();\n          break;\n        default:\n          throw new AssertionError();\n      }\n    }\n    if (valueStrength != null) {\n      switch (valueStrength) {\n        case SOFT:\n          builder.softValues();\n          break;\n        case WEAK:\n          builder.weakValues();\n          break;\n        default:\n          throw new AssertionError();\n      }\n    }\n    if (recordStats != null && recordStats) {\n      builder.recordStats();\n    }\n    if (writeExpirationTimeUnit != null) {\n      builder.expireAfterWrite(writeExpirationDuration, writeExpirationTimeUnit);\n    }\n    if (accessExpirationTimeUnit != null) {\n      builder.expireAfterAccess(accessExpirationDuration, accessExpirationTimeUnit);\n    }\n    if (refreshTimeUnit != null) {\n      builder.refreshAfterWrite(refreshDuration, refreshTimeUnit);\n    }\n\n    return builder;\n  }", "language": "java", "code": "CacheBuilder<Object, Object> toCacheBuilder() {\n    CacheBuilder<Object, Object> builder = CacheBuilder.newBuilder();\n    if (initialCapacity != null) {\n      builder.initialCapacity(initialCapacity);\n    }\n    if (maximumSize != null) {\n      builder.maximumSize(maximumSize);\n    }\n    if (maximumWeight != null) {\n      builder.maximumWeight(maximumWeight);\n    }\n    if (concurrencyLevel != null) {\n      builder.concurrencyLevel(concurrencyLevel);\n    }\n    if (keyStrength != null) {\n      switch (keyStrength) {\n        case WEAK:\n          builder.weakKeys();\n          break;\n        default:\n          throw new AssertionError();\n      }\n    }\n    if (valueStrength != null) {\n      switch (valueStrength) {\n        case SOFT:\n          builder.softValues();\n          break;\n        case WEAK:\n          builder.weakValues();\n          break;\n        default:\n          throw new AssertionError();\n      }\n    }\n    if (recordStats != null && recordStats) {\n      builder.recordStats();\n    }\n    if (writeExpirationTimeUnit != null) {\n      builder.expireAfterWrite(writeExpirationDuration, writeExpirationTimeUnit);\n    }\n    if (accessExpirationTimeUnit != null) {\n      builder.expireAfterAccess(accessExpirationDuration, accessExpirationTimeUnit);\n    }\n    if (refreshTimeUnit != null) {\n      builder.refreshAfterWrite(refreshDuration, refreshTimeUnit);\n    }\n\n    return builder;\n  }", "code_tokens": ["CacheBuilder", "<", "Object", ",", "Object", ">", "toCacheBuilder", "(", ")", "{", "CacheBuilder", "<", "Object", ",", "Object", ">", "builder", "=", "CacheBuilder", ".", "newBuilder", "(", ")", ";", "if", "(", "initialCapacity", "!=", "null", ")", "{", "builder", ".", "initialCapacity", "(", "initialCapacity", ")", ";", "}", "if", "(", "maximumSize", "!=", "null", ")", "{", "builder", ".", "maximumSize", "(", "maximumSize", ")", ";", "}", "if", "(", "maximumWeight", "!=", "null", ")", "{", "builder", ".", "maximumWeight", "(", "maximumWeight", ")", ";", "}", "if", "(", "concurrencyLevel", "!=", "null", ")", "{", "builder", ".", "concurrencyLevel", "(", "concurrencyLevel", ")", ";", "}", "if", "(", "keyStrength", "!=", "null", ")", "{", "switch", "(", "keyStrength", ")", "{", "case", "WEAK", ":", "builder", ".", "weakKeys", "(", ")", ";", "break", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "}", "if", "(", "valueStrength", "!=", "null", ")", "{", "switch", "(", "valueStrength", ")", "{", "case", "SOFT", ":", "builder", ".", "softValues", "(", ")", ";", "break", ";", "case", "WEAK", ":", "builder", ".", "weakValues", "(", ")", ";", "break", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "}", "if", "(", "recordStats", "!=", "null", "&&", "recordStats", ")", "{", "builder", ".", "recordStats", "(", ")", ";", "}", "if", "(", "writeExpirationTimeUnit", "!=", "null", ")", "{", "builder", ".", "expireAfterWrite", "(", "writeExpirationDuration", ",", "writeExpirationTimeUnit", ")", ";", "}", "if", "(", "accessExpirationTimeUnit", "!=", "null", ")", "{", "builder", ".", "expireAfterAccess", "(", "accessExpirationDuration", ",", "accessExpirationTimeUnit", ")", ";", "}", "if", "(", "refreshTimeUnit", "!=", "null", ")", "{", "builder", ".", "refreshAfterWrite", "(", "refreshDuration", ",", "refreshTimeUnit", ")", ";", "}", "return", "builder", ";", "}"], "docstring": "Returns a CacheBuilder configured according to this instance's specification.", "docstring_tokens": ["Returns", "a", "CacheBuilder", "configured", "according", "to", "this", "instance", "s", "specification", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/cache/CacheBuilderSpec.java#L167-L216", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/cache/CacheBuilderSpec.java", "func_name": "CacheBuilderSpec.durationInNanos", "original_string": "@NullableDecl\n  private static Long durationInNanos(long duration, @NullableDecl TimeUnit unit) {\n    return (unit == null) ? null : unit.toNanos(duration);\n  }", "language": "java", "code": "@NullableDecl\n  private static Long durationInNanos(long duration, @NullableDecl TimeUnit unit) {\n    return (unit == null) ? null : unit.toNanos(duration);\n  }", "code_tokens": ["@", "NullableDecl", "private", "static", "Long", "durationInNanos", "(", "long", "duration", ",", "@", "NullableDecl", "TimeUnit", "unit", ")", "{", "return", "(", "unit", "==", "null", ")", "?", "null", ":", "unit", ".", "toNanos", "(", "duration", ")", ";", "}"], "docstring": "Converts an expiration duration/unit pair into a single Long for hashing and equality. Uses\nnanos to match CacheBuilder implementation.", "docstring_tokens": ["Converts", "an", "expiration", "duration", "/", "unit", "pair", "into", "a", "single", "Long", "for", "hashing", "and", "equality", ".", "Uses", "nanos", "to", "match", "CacheBuilder", "implementation", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/cache/CacheBuilderSpec.java#L282-L285", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/EnumBiMap.java", "func_name": "EnumBiMap.create", "original_string": "public static <K extends Enum<K>, V extends Enum<V>> EnumBiMap<K, V> create(\n      Class<K> keyType, Class<V> valueType) {\n    return new EnumBiMap<>(keyType, valueType);\n  }", "language": "java", "code": "public static <K extends Enum<K>, V extends Enum<V>> EnumBiMap<K, V> create(\n      Class<K> keyType, Class<V> valueType) {\n    return new EnumBiMap<>(keyType, valueType);\n  }", "code_tokens": ["public", "static", "<", "K", "extends", "Enum", "<", "K", ">", ",", "V", "extends", "Enum", "<", "V", ">", ">", "EnumBiMap", "<", "K", ",", "V", ">", "create", "(", "Class", "<", "K", ">", "keyType", ",", "Class", "<", "V", ">", "valueType", ")", "{", "return", "new", "EnumBiMap", "<>", "(", "keyType", ",", "valueType", ")", ";", "}"], "docstring": "Returns a new, empty {@code EnumBiMap} using the specified key and value types.\n\n@param keyType the key type\n@param valueType the value type", "docstring_tokens": ["Returns", "a", "new", "empty", "{", "@code", "EnumBiMap", "}", "using", "the", "specified", "key", "and", "value", "types", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/EnumBiMap.java#L51-L54", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Comparators.java", "func_name": "Comparators.isInOrder", "original_string": "@Beta\n  public static <T> boolean isInOrder(Iterable<? extends T> iterable, Comparator<T> comparator) {\n    checkNotNull(comparator);\n    Iterator<? extends T> it = iterable.iterator();\n    if (it.hasNext()) {\n      T prev = it.next();\n      while (it.hasNext()) {\n        T next = it.next();\n        if (comparator.compare(prev, next) > 0) {\n          return false;\n        }\n        prev = next;\n      }\n    }\n    return true;\n  }", "language": "java", "code": "@Beta\n  public static <T> boolean isInOrder(Iterable<? extends T> iterable, Comparator<T> comparator) {\n    checkNotNull(comparator);\n    Iterator<? extends T> it = iterable.iterator();\n    if (it.hasNext()) {\n      T prev = it.next();\n      while (it.hasNext()) {\n        T next = it.next();\n        if (comparator.compare(prev, next) > 0) {\n          return false;\n        }\n        prev = next;\n      }\n    }\n    return true;\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "boolean", "isInOrder", "(", "Iterable", "<", "?", "extends", "T", ">", "iterable", ",", "Comparator", "<", "T", ">", "comparator", ")", "{", "checkNotNull", "(", "comparator", ")", ";", "Iterator", "<", "?", "extends", "T", ">", "it", "=", "iterable", ".", "iterator", "(", ")", ";", "if", "(", "it", ".", "hasNext", "(", ")", ")", "{", "T", "prev", "=", "it", ".", "next", "(", ")", ";", "while", "(", "it", ".", "hasNext", "(", ")", ")", "{", "T", "next", "=", "it", ".", "next", "(", ")", ";", "if", "(", "comparator", ".", "compare", "(", "prev", ",", "next", ")", ">", "0", ")", "{", "return", "false", ";", "}", "prev", "=", "next", ";", "}", "}", "return", "true", ";", "}"], "docstring": "Returns {@code true} if each element in {@code iterable} after the first is greater than or\nequal to the element that preceded it, according to the specified comparator. Note that this is\nalways true when the iterable has fewer than two elements.", "docstring_tokens": ["Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Comparators.java#L73-L88", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Comparators.java", "func_name": "Comparators.least", "original_string": "public static <T> Collector<T, ?, List<T>> least(int k, Comparator<? super T> comparator) {\n    checkNonnegative(k, \"k\");\n    checkNotNull(comparator);\n    return Collector.of(\n        () -> TopKSelector.<T>least(k, comparator),\n        TopKSelector::offer,\n        TopKSelector::combine,\n        TopKSelector::topK,\n        Collector.Characteristics.UNORDERED);\n  }", "language": "java", "code": "public static <T> Collector<T, ?, List<T>> least(int k, Comparator<? super T> comparator) {\n    checkNonnegative(k, \"k\");\n    checkNotNull(comparator);\n    return Collector.of(\n        () -> TopKSelector.<T>least(k, comparator),\n        TopKSelector::offer,\n        TopKSelector::combine,\n        TopKSelector::topK,\n        Collector.Characteristics.UNORDERED);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Collector", "<", "T", ",", "?", ",", "List", "<", "T", ">", ">", "least", "(", "int", "k", ",", "Comparator", "<", "?", "super", "T", ">", "comparator", ")", "{", "checkNonnegative", "(", "k", ",", "\"k\"", ")", ";", "checkNotNull", "(", "comparator", ")", ";", "return", "Collector", ".", "of", "(", "(", ")", "->", "TopKSelector", ".", "<", "T", ">", "least", "(", "k", ",", "comparator", ")", ",", "TopKSelector", "::", "offer", ",", "TopKSelector", "::", "combine", ",", "TopKSelector", "::", "topK", ",", "Collector", ".", "Characteristics", ".", "UNORDERED", ")", ";", "}"], "docstring": "Returns a {@code Collector} that returns the {@code k} smallest (relative to the specified\n{@code Comparator}) input elements, in ascending order, as an unmodifiable {@code List}. Ties\nare broken arbitrarily.\n\n<p>For example:\n\n<pre>{@code\nStream.of(\"foo\", \"quux\", \"banana\", \"elephant\")\n.collect(least(2, comparingInt(String::length)))\n// returns {\"foo\", \"quux\"}\n}</pre>\n\n<p>This {@code Collector} uses O(k) memory and takes expected time O(n) (worst-case O(n log\nk)), as opposed to e.g. {@code Stream.sorted(comparator).limit(k)}, which currently takes O(n\nlog n) time and O(n) space.\n\n@throws IllegalArgumentException if {@code k < 0}\n@since 22.0", "docstring_tokens": ["Returns", "a", "{", "@code", "Collector", "}", "that", "returns", "the", "{", "@code", "k", "}", "smallest", "(", "relative", "to", "the", "specified", "{", "@code", "Comparator", "}", ")", "input", "elements", "in", "ascending", "order", "as", "an", "unmodifiable", "{", "@code", "List", "}", ".", "Ties", "are", "broken", "arbitrarily", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Comparators.java#L133-L142", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Comparators.java", "func_name": "Comparators.emptiesFirst", "original_string": "@Beta\n  public static <T> Comparator<Optional<T>> emptiesFirst(Comparator<? super T> valueComparator) {\n    checkNotNull(valueComparator);\n    return Comparator.comparing(o -> o.orElse(null), Comparator.nullsFirst(valueComparator));\n  }", "language": "java", "code": "@Beta\n  public static <T> Comparator<Optional<T>> emptiesFirst(Comparator<? super T> valueComparator) {\n    checkNotNull(valueComparator);\n    return Comparator.comparing(o -> o.orElse(null), Comparator.nullsFirst(valueComparator));\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "Comparator", "<", "Optional", "<", "T", ">", ">", "emptiesFirst", "(", "Comparator", "<", "?", "super", "T", ">", "valueComparator", ")", "{", "checkNotNull", "(", "valueComparator", ")", ";", "return", "Comparator", ".", "comparing", "(", "o", "->", "o", ".", "orElse", "(", "null", ")", ",", "Comparator", ".", "nullsFirst", "(", "valueComparator", ")", ")", ";", "}"], "docstring": "Returns a comparator of {@link Optional} values which treats {@link Optional#empty} as less\nthan all other values, and orders the rest using {@code valueComparator} on the contained\nvalue.\n\n@since 22.0", "docstring_tokens": ["Returns", "a", "comparator", "of", "{", "@link", "Optional", "}", "values", "which", "treats", "{", "@link", "Optional#empty", "}", "as", "less", "than", "all", "other", "values", "and", "orders", "the", "rest", "using", "{", "@code", "valueComparator", "}", "on", "the", "contained", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Comparators.java#L175-L179", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Comparators.java", "func_name": "Comparators.emptiesLast", "original_string": "@Beta\n  public static <T> Comparator<Optional<T>> emptiesLast(Comparator<? super T> valueComparator) {\n    checkNotNull(valueComparator);\n    return Comparator.comparing(o -> o.orElse(null), Comparator.nullsLast(valueComparator));\n  }", "language": "java", "code": "@Beta\n  public static <T> Comparator<Optional<T>> emptiesLast(Comparator<? super T> valueComparator) {\n    checkNotNull(valueComparator);\n    return Comparator.comparing(o -> o.orElse(null), Comparator.nullsLast(valueComparator));\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "Comparator", "<", "Optional", "<", "T", ">", ">", "emptiesLast", "(", "Comparator", "<", "?", "super", "T", ">", "valueComparator", ")", "{", "checkNotNull", "(", "valueComparator", ")", ";", "return", "Comparator", ".", "comparing", "(", "o", "->", "o", ".", "orElse", "(", "null", ")", ",", "Comparator", ".", "nullsLast", "(", "valueComparator", ")", ")", ";", "}"], "docstring": "Returns a comparator of {@link Optional} values which treats {@link Optional#empty} as greater\nthan all other values, and orders the rest using {@code valueComparator} on the contained\nvalue.\n\n@since 22.0", "docstring_tokens": ["Returns", "a", "comparator", "of", "{", "@link", "Optional", "}", "values", "which", "treats", "{", "@link", "Optional#empty", "}", "as", "greater", "than", "all", "other", "values", "and", "orders", "the", "rest", "using", "{", "@code", "valueComparator", "}", "on", "the", "contained", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Comparators.java#L188-L192", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.lines", "original_string": "@Beta\n  @MustBeClosed\n  public Stream<String> lines() throws IOException {\n    BufferedReader reader = openBufferedStream();\n    return reader\n        .lines()\n        .onClose(\n            () -> {\n              try {\n                reader.close();\n              } catch (IOException e) {\n                throw new UncheckedIOException(e);\n              }\n            });\n  }", "language": "java", "code": "@Beta\n  @MustBeClosed\n  public Stream<String> lines() throws IOException {\n    BufferedReader reader = openBufferedStream();\n    return reader\n        .lines()\n        .onClose(\n            () -> {\n              try {\n                reader.close();\n              } catch (IOException e) {\n                throw new UncheckedIOException(e);\n              }\n            });\n  }", "code_tokens": ["@", "Beta", "@", "MustBeClosed", "public", "Stream", "<", "String", ">", "lines", "(", ")", "throws", "IOException", "{", "BufferedReader", "reader", "=", "openBufferedStream", "(", ")", ";", "return", "reader", ".", "lines", "(", ")", ".", "onClose", "(", "(", ")", "->", "{", "try", "{", "reader", ".", "close", "(", ")", ";", "}", "catch", "(", "IOException", "e", ")", "{", "throw", "new", "UncheckedIOException", "(", "e", ")", ";", "}", "}", ")", ";", "}"], "docstring": "Opens a new {@link Stream} for reading text one line at a time from this source. This method\nreturns a new, independent stream each time it is called.\n\n<p>The returned stream is lazy and only reads from the source in the terminal operation. If an\nI/O error occurs while the stream is reading from the source or when the stream is closed, an\n{@link UncheckedIOException} is thrown.\n\n<p>Like {@link BufferedReader#readLine()}, this method considers a line to be a sequence of\ntext that is terminated by (but does not include) one of {@code \\r\\n}, {@code \\r} or {@code\n\\n}. If the source's content does not end in a line termination sequence, it is treated as if\nit does.\n\n<p>The caller is responsible for ensuring that the returned stream is closed. For example:\n\n<pre>{@code\ntry (Stream<String> lines = source.lines()) {\nlines.map(...)\n.filter(...)\n.forEach(...);\n}\n}</pre>\n\n@throws IOException if an I/O error occurs while opening the stream\n@since 22.0", "docstring_tokens": ["Opens", "a", "new", "{", "@link", "Stream", "}", "for", "reading", "text", "one", "line", "at", "a", "time", "from", "this", "source", ".", "This", "method", "returns", "a", "new", "independent", "stream", "each", "time", "it", "is", "called", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/io/CharSource.java#L144-L158", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/io/CharSource.java", "func_name": "CharSource.forEachLine", "original_string": "@Beta\n  public void forEachLine(Consumer<? super String> action) throws IOException {\n    try (Stream<String> lines = lines()) {\n      // The lines should be ordered regardless in most cases, but use forEachOrdered to be sure\n      lines.forEachOrdered(action);\n    } catch (UncheckedIOException e) {\n      throw e.getCause();\n    }\n  }", "language": "java", "code": "@Beta\n  public void forEachLine(Consumer<? super String> action) throws IOException {\n    try (Stream<String> lines = lines()) {\n      // The lines should be ordered regardless in most cases, but use forEachOrdered to be sure\n      lines.forEachOrdered(action);\n    } catch (UncheckedIOException e) {\n      throw e.getCause();\n    }\n  }", "code_tokens": ["@", "Beta", "public", "void", "forEachLine", "(", "Consumer", "<", "?", "super", "String", ">", "action", ")", "throws", "IOException", "{", "try", "(", "Stream", "<", "String", ">", "lines", "=", "lines", "(", ")", ")", "{", "// The lines should be ordered regardless in most cases, but use forEachOrdered to be sure", "lines", ".", "forEachOrdered", "(", "action", ")", ";", "}", "catch", "(", "UncheckedIOException", "e", ")", "{", "throw", "e", ".", "getCause", "(", ")", ";", "}", "}"], "docstring": "Reads all lines of text from this source, running the given {@code action} for each line as it\nis read.\n\n<p>Like {@link BufferedReader#readLine()}, this method considers a line to be a sequence of\ntext that is terminated by (but does not include) one of {@code \\r\\n}, {@code \\r} or {@code\n\\n}. If the source's content does not end in a line termination sequence, it is treated as if\nit does.\n\n@throws IOException if an I/O error occurs while reading from this source or if {@code action}\nthrows an {@code UncheckedIOException}\n@since 22.0", "docstring_tokens": ["Reads", "all", "lines", "of", "text", "from", "this", "source", "running", "the", "given", "{", "@code", "action", "}", "for", "each", "line", "as", "it", "is", "read", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/io/CharSource.java#L381-L389", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Optional.java", "func_name": "Optional.fromNullable", "original_string": "public static <T> Optional<T> fromNullable(@Nullable T nullableReference) {\n    return (nullableReference == null) ? Optional.<T>absent() : new Present<T>(nullableReference);\n  }", "language": "java", "code": "public static <T> Optional<T> fromNullable(@Nullable T nullableReference) {\n    return (nullableReference == null) ? Optional.<T>absent() : new Present<T>(nullableReference);\n  }", "code_tokens": ["public", "static", "<", "T", ">", "Optional", "<", "T", ">", "fromNullable", "(", "@", "Nullable", "T", "nullableReference", ")", "{", "return", "(", "nullableReference", "==", "null", ")", "?", "Optional", ".", "<", "T", ">", "absent", "(", ")", ":", "new", "Present", "<", "T", ">", "(", "nullableReference", ")", ";", "}"], "docstring": "If {@code nullableReference} is non-null, returns an {@code Optional} instance containing that\nreference; otherwise returns {@link Optional#absent}.\n\n<p><b>Comparison to {@code java.util.Optional}:</b> this method is equivalent to Java 8's\n{@code Optional.ofNullable}.", "docstring_tokens": ["If", "{", "@code", "nullableReference", "}", "is", "non", "-", "null", "returns", "an", "{", "@code", "Optional", "}", "instance", "containing", "that", "reference", ";", "otherwise", "returns", "{", "@link", "Optional#absent", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Optional.java#L113-L115", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Optional.java", "func_name": "Optional.fromJavaUtil", "original_string": "public static <T> @Nullable Optional<T> fromJavaUtil(\n      java.util.@Nullable Optional<T> javaUtilOptional) {\n    return (javaUtilOptional == null) ? null : fromNullable(javaUtilOptional.orElse(null));\n  }", "language": "java", "code": "public static <T> @Nullable Optional<T> fromJavaUtil(\n      java.util.@Nullable Optional<T> javaUtilOptional) {\n    return (javaUtilOptional == null) ? null : fromNullable(javaUtilOptional.orElse(null));\n  }", "code_tokens": ["public", "static", "<", "T", ">", "@", "Nullable", "Optional", "<", "T", ">", "fromJavaUtil", "(", "java", ".", "util", ".", "@", "Nullable", "Optional", "<", "T", ">", "javaUtilOptional", ")", "{", "return", "(", "javaUtilOptional", "==", "null", ")", "?", "null", ":", "fromNullable", "(", "javaUtilOptional", ".", "orElse", "(", "null", ")", ")", ";", "}"], "docstring": "Returns the equivalent {@code com.google.common.base.Optional} value to the given {@code\njava.util.Optional}, or {@code null} if the argument is null.\n\n@since 21.0", "docstring_tokens": ["Returns", "the", "equivalent", "{", "@code", "com", ".", "google", ".", "common", ".", "base", ".", "Optional", "}", "value", "to", "the", "given", "{", "@code", "java", ".", "util", ".", "Optional", "}", "or", "{", "@code", "null", "}", "if", "the", "argument", "is", "null", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Optional.java#L123-L126", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Optional.java", "func_name": "Optional.toJavaUtil", "original_string": "public static <T> java.util.@Nullable Optional<T> toJavaUtil(\n      @Nullable Optional<T> googleOptional) {\n    return googleOptional == null ? null : googleOptional.toJavaUtil();\n  }", "language": "java", "code": "public static <T> java.util.@Nullable Optional<T> toJavaUtil(\n      @Nullable Optional<T> googleOptional) {\n    return googleOptional == null ? null : googleOptional.toJavaUtil();\n  }", "code_tokens": ["public", "static", "<", "T", ">", "java", ".", "util", ".", "@", "Nullable", "Optional", "<", "T", ">", "toJavaUtil", "(", "@", "Nullable", "Optional", "<", "T", ">", "googleOptional", ")", "{", "return", "googleOptional", "==", "null", "?", "null", ":", "googleOptional", ".", "toJavaUtil", "(", ")", ";", "}"], "docstring": "Returns the equivalent {@code java.util.Optional} value to the given {@code\ncom.google.common.base.Optional}, or {@code null} if the argument is null.\n\n<p>If {@code googleOptional} is known to be non-null, use {@code googleOptional.toJavaUtil()}\ninstead.\n\n<p>Unfortunately, the method reference {@code Optional::toJavaUtil} will not work, because it\ncould refer to either the static or instance version of this method. Write out the lambda\nexpression {@code o -> Optional.toJavaUtil(o)} instead.\n\n@since 21.0", "docstring_tokens": ["Returns", "the", "equivalent", "{", "@code", "java", ".", "util", ".", "Optional", "}", "value", "to", "the", "given", "{", "@code", "com", ".", "google", ".", "common", ".", "base", ".", "Optional", "}", "or", "{", "@code", "null", "}", "if", "the", "argument", "is", "null", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Optional.java#L141-L144", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Optional.java", "func_name": "Optional.toJavaUtil", "original_string": "public java.util.Optional<T> toJavaUtil() {\n    return java.util.Optional.ofNullable(orNull());\n  }", "language": "java", "code": "public java.util.Optional<T> toJavaUtil() {\n    return java.util.Optional.ofNullable(orNull());\n  }", "code_tokens": ["public", "java", ".", "util", ".", "Optional", "<", "T", ">", "toJavaUtil", "(", ")", "{", "return", "java", ".", "util", ".", "Optional", ".", "ofNullable", "(", "orNull", "(", ")", ")", ";", "}"], "docstring": "Returns the equivalent {@code java.util.Optional} value to this optional.\n\n<p>Unfortunately, the method reference {@code Optional::toJavaUtil} will not work, because it\ncould refer to either the static or instance version of this method. Write out the lambda\nexpression {@code o -> o.toJavaUtil()} instead.\n\n@since 21.0", "docstring_tokens": ["Returns", "the", "equivalent", "{", "@code", "java", ".", "util", ".", "Optional", "}", "value", "to", "this", "optional", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Optional.java#L155-L157", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Optional.java", "func_name": "Optional.presentInstances", "original_string": "@Beta\n  public static <T> Iterable<T> presentInstances(\n      final Iterable<? extends Optional<? extends T>> optionals) {\n    checkNotNull(optionals);\n    return new Iterable<T>() {\n      @Override\n      public Iterator<T> iterator() {\n        return new AbstractIterator<T>() {\n          private final Iterator<? extends Optional<? extends T>> iterator =\n              checkNotNull(optionals.iterator());\n\n          @Override\n          protected T computeNext() {\n            while (iterator.hasNext()) {\n              Optional<? extends T> optional = iterator.next();\n              if (optional.isPresent()) {\n                return optional.get();\n              }\n            }\n            return endOfData();\n          }\n        };\n      }\n    };\n  }", "language": "java", "code": "@Beta\n  public static <T> Iterable<T> presentInstances(\n      final Iterable<? extends Optional<? extends T>> optionals) {\n    checkNotNull(optionals);\n    return new Iterable<T>() {\n      @Override\n      public Iterator<T> iterator() {\n        return new AbstractIterator<T>() {\n          private final Iterator<? extends Optional<? extends T>> iterator =\n              checkNotNull(optionals.iterator());\n\n          @Override\n          protected T computeNext() {\n            while (iterator.hasNext()) {\n              Optional<? extends T> optional = iterator.next();\n              if (optional.isPresent()) {\n                return optional.get();\n              }\n            }\n            return endOfData();\n          }\n        };\n      }\n    };\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "T", ">", "Iterable", "<", "T", ">", "presentInstances", "(", "final", "Iterable", "<", "?", "extends", "Optional", "<", "?", "extends", "T", ">", ">", "optionals", ")", "{", "checkNotNull", "(", "optionals", ")", ";", "return", "new", "Iterable", "<", "T", ">", "(", ")", "{", "@", "Override", "public", "Iterator", "<", "T", ">", "iterator", "(", ")", "{", "return", "new", "AbstractIterator", "<", "T", ">", "(", ")", "{", "private", "final", "Iterator", "<", "?", "extends", "Optional", "<", "?", "extends", "T", ">", ">", "iterator", "=", "checkNotNull", "(", "optionals", ".", "iterator", "(", ")", ")", ";", "@", "Override", "protected", "T", "computeNext", "(", ")", "{", "while", "(", "iterator", ".", "hasNext", "(", ")", ")", "{", "Optional", "<", "?", "extends", "T", ">", "optional", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "optional", ".", "isPresent", "(", ")", ")", "{", "return", "optional", ".", "get", "(", ")", ";", "}", "}", "return", "endOfData", "(", ")", ";", "}", "}", ";", "}", "}", ";", "}"], "docstring": "Returns the value of each present instance from the supplied {@code optionals}, in order,\nskipping over occurrences of {@link Optional#absent}. Iterators are unmodifiable and are\nevaluated lazily.\n\n<p><b>Comparison to {@code java.util.Optional}:</b> this method has no equivalent in Java 8's\n{@code Optional} class; use {@code\noptionals.stream().filter(Optional::isPresent).map(Optional::get)} instead.\n\n@since 11.0 (generics widened in 13.0)", "docstring_tokens": ["Returns", "the", "value", "of", "each", "present", "instance", "from", "the", "supplied", "{", "@code", "optionals", "}", "in", "order", "skipping", "over", "occurrences", "of", "{", "@link", "Optional#absent", "}", ".", "Iterators", "are", "unmodifiable", "and", "are", "evaluated", "lazily", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Optional.java#L326-L350", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ImmutableSetMultimap.java", "func_name": "ImmutableSetMultimap.of", "original_string": "@SuppressWarnings(\"unchecked\")\n  public static <K, V> ImmutableSetMultimap<K, V> of() {\n    return (ImmutableSetMultimap<K, V>) EmptyImmutableSetMultimap.INSTANCE;\n  }", "language": "java", "code": "@SuppressWarnings(\"unchecked\")\n  public static <K, V> ImmutableSetMultimap<K, V> of() {\n    return (ImmutableSetMultimap<K, V>) EmptyImmutableSetMultimap.INSTANCE;\n  }", "code_tokens": ["@", "SuppressWarnings", "(", "\"unchecked\"", ")", "public", "static", "<", "K", ",", "V", ">", "ImmutableSetMultimap", "<", "K", ",", "V", ">", "of", "(", ")", "{", "return", "(", "ImmutableSetMultimap", "<", "K", ",", "V", ">", ")", "EmptyImmutableSetMultimap", ".", "INSTANCE", ";", "}"], "docstring": "Casting is safe because the multimap will never hold any elements.", "docstring_tokens": ["Casting", "is", "safe", "because", "the", "multimap", "will", "never", "hold", "any", "elements", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ImmutableSetMultimap.java#L57-L60", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ImmutableSetMultimap.java", "func_name": "ImmutableSetMultimap.copyOf", "original_string": "public static <K, V> ImmutableSetMultimap<K, V> copyOf(\n      Multimap<? extends K, ? extends V> multimap) {\n    return copyOf(multimap, null);\n  }", "language": "java", "code": "public static <K, V> ImmutableSetMultimap<K, V> copyOf(\n      Multimap<? extends K, ? extends V> multimap) {\n    return copyOf(multimap, null);\n  }", "code_tokens": ["public", "static", "<", "K", ",", "V", ">", "ImmutableSetMultimap", "<", "K", ",", "V", ">", "copyOf", "(", "Multimap", "<", "?", "extends", "K", ",", "?", "extends", "V", ">", "multimap", ")", "{", "return", "copyOf", "(", "multimap", ",", "null", ")", ";", "}"], "docstring": "Returns an immutable set multimap containing the same mappings as {@code multimap}. The\ngenerated multimap's key and value orderings correspond to the iteration ordering of the {@code\nmultimap.asMap()} view. Repeated occurrences of an entry in the multimap after the first are\nignored.\n\n<p>Despite the method name, this method attempts to avoid actually copying the data when it is\nsafe to do so. The exact circumstances under which a copy will or will not be performed are\nundocumented and subject to change.\n\n@throws NullPointerException if any key or value in {@code multimap} is null", "docstring_tokens": ["Returns", "an", "immutable", "set", "multimap", "containing", "the", "same", "mappings", "as", "{", "@code", "multimap", "}", ".", "The", "generated", "multimap", "s", "key", "and", "value", "orderings", "correspond", "to", "the", "iteration", "ordering", "of", "the", "{", "@code", "multimap", ".", "asMap", "()", "}", "view", ".", "Repeated", "occurrences", "of", "an", "entry", "in", "the", "multimap", "after", "the", "first", "are", "ignored", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ImmutableSetMultimap.java#L270-L273", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ImmutableSetMultimap.java", "func_name": "ImmutableSetMultimap.inverse", "original_string": "@Override\n  public ImmutableSetMultimap<V, K> inverse() {\n    ImmutableSetMultimap<V, K> result = inverse;\n    return (result == null) ? (inverse = invert()) : result;\n  }", "language": "java", "code": "@Override\n  public ImmutableSetMultimap<V, K> inverse() {\n    ImmutableSetMultimap<V, K> result = inverse;\n    return (result == null) ? (inverse = invert()) : result;\n  }", "code_tokens": ["@", "Override", "public", "ImmutableSetMultimap", "<", "V", ",", "K", ">", "inverse", "(", ")", "{", "ImmutableSetMultimap", "<", "V", ",", "K", ">", "result", "=", "inverse", ";", "return", "(", "result", "==", "null", ")", "?", "(", "inverse", "=", "invert", "(", ")", ")", ":", "result", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>Because an inverse of a set multimap cannot contain multiple pairs with the same key and\nvalue, this method returns an {@code ImmutableSetMultimap} rather than the {@code\nImmutableMultimap} specified in the {@code ImmutableMultimap} class.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ImmutableSetMultimap.java#L370-L374", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.appendTo", "original_string": "@CanIgnoreReturnValue\n  public <A extends Appendable> A appendTo(A appendable, Iterator<?> parts) throws IOException {\n    checkNotNull(appendable);\n    if (parts.hasNext()) {\n      appendable.append(toString(parts.next()));\n      while (parts.hasNext()) {\n        appendable.append(separator);\n        appendable.append(toString(parts.next()));\n      }\n    }\n    return appendable;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public <A extends Appendable> A appendTo(A appendable, Iterator<?> parts) throws IOException {\n    checkNotNull(appendable);\n    if (parts.hasNext()) {\n      appendable.append(toString(parts.next()));\n      while (parts.hasNext()) {\n        appendable.append(separator);\n        appendable.append(toString(parts.next()));\n      }\n    }\n    return appendable;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "<", "A", "extends", "Appendable", ">", "A", "appendTo", "(", "A", "appendable", ",", "Iterator", "<", "?", ">", "parts", ")", "throws", "IOException", "{", "checkNotNull", "(", "appendable", ")", ";", "if", "(", "parts", ".", "hasNext", "(", ")", ")", "{", "appendable", ".", "append", "(", "toString", "(", "parts", ".", "next", "(", ")", ")", ")", ";", "while", "(", "parts", ".", "hasNext", "(", ")", ")", "{", "appendable", ".", "append", "(", "separator", ")", ";", "appendable", ".", "append", "(", "toString", "(", "parts", ".", "next", "(", ")", ")", ")", ";", "}", "}", "return", "appendable", ";", "}"], "docstring": "Appends the string representation of each of {@code parts}, using the previously configured\nseparator between each, to {@code appendable}.\n\n@since 11.0", "docstring_tokens": ["Appends", "the", "string", "representation", "of", "each", "of", "{", "@code", "parts", "}", "using", "the", "previously", "configured", "separator", "between", "each", "to", "{", "@code", "appendable", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L102-L113", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.appendTo", "original_string": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(StringBuilder builder, Iterable<?> parts) {\n    return appendTo(builder, parts.iterator());\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(StringBuilder builder, Iterable<?> parts) {\n    return appendTo(builder, parts.iterator());\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "final", "StringBuilder", "appendTo", "(", "StringBuilder", "builder", ",", "Iterable", "<", "?", ">", "parts", ")", "{", "return", "appendTo", "(", "builder", ",", "parts", ".", "iterator", "(", ")", ")", ";", "}"], "docstring": "Appends the string representation of each of {@code parts}, using the previously configured\nseparator between each, to {@code builder}. Identical to {@link #appendTo(Appendable,\nIterable)}, except that it does not throw {@link IOException}.", "docstring_tokens": ["Appends", "the", "string", "representation", "of", "each", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L137-L140", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.appendTo", "original_string": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(StringBuilder builder, Object[] parts) {\n    return appendTo(builder, Arrays.asList(parts));\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(StringBuilder builder, Object[] parts) {\n    return appendTo(builder, Arrays.asList(parts));\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "final", "StringBuilder", "appendTo", "(", "StringBuilder", "builder", ",", "Object", "[", "]", "parts", ")", "{", "return", "appendTo", "(", "builder", ",", "Arrays", ".", "asList", "(", "parts", ")", ")", ";", "}"], "docstring": "Appends the string representation of each of {@code parts}, using the previously configured\nseparator between each, to {@code builder}. Identical to {@link #appendTo(Appendable,\nIterable)}, except that it does not throw {@link IOException}.", "docstring_tokens": ["Appends", "the", "string", "representation", "of", "each", "of", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L164-L167", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.appendTo", "original_string": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(\n      StringBuilder builder, @Nullable Object first, @Nullable Object second, Object... rest) {\n    return appendTo(builder, iterable(first, second, rest));\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public final StringBuilder appendTo(\n      StringBuilder builder, @Nullable Object first, @Nullable Object second, Object... rest) {\n    return appendTo(builder, iterable(first, second, rest));\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "final", "StringBuilder", "appendTo", "(", "StringBuilder", "builder", ",", "@", "Nullable", "Object", "first", ",", "@", "Nullable", "Object", "second", ",", "Object", "...", "rest", ")", "{", "return", "appendTo", "(", "builder", ",", "iterable", "(", "first", ",", "second", ",", "rest", ")", ")", ";", "}"], "docstring": "Appends to {@code builder} the string representation of each of the remaining arguments.\nIdentical to {@link #appendTo(Appendable, Object, Object, Object...)}, except that it does not\nthrow {@link IOException}.", "docstring_tokens": ["Appends", "to", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L174-L178", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.join", "original_string": "public final String join(@Nullable Object first, @Nullable Object second, Object... rest) {\n    return join(iterable(first, second, rest));\n  }", "language": "java", "code": "public final String join(@Nullable Object first, @Nullable Object second, Object... rest) {\n    return join(iterable(first, second, rest));\n  }", "code_tokens": ["public", "final", "String", "join", "(", "@", "Nullable", "Object", "first", ",", "@", "Nullable", "Object", "second", ",", "Object", "...", "rest", ")", "{", "return", "join", "(", "iterable", "(", "first", ",", "second", ",", "rest", ")", ")", ";", "}"], "docstring": "Returns a string containing the string representation of each argument, using the previously\nconfigured separator between each.", "docstring_tokens": ["Returns", "a", "string", "containing", "the", "string", "representation", "of", "each", "argument", "using", "the", "previously", "configured", "separator", "between", "each", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L210-L212", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Joiner.java", "func_name": "Joiner.skipNulls", "original_string": "public Joiner skipNulls() {\n    return new Joiner(this) {\n      @Override\n      public <A extends Appendable> A appendTo(A appendable, Iterator<?> parts) throws IOException {\n        checkNotNull(appendable, \"appendable\");\n        checkNotNull(parts, \"parts\");\n        while (parts.hasNext()) {\n          Object part = parts.next();\n          if (part != null) {\n            appendable.append(Joiner.this.toString(part));\n            break;\n          }\n        }\n        while (parts.hasNext()) {\n          Object part = parts.next();\n          if (part != null) {\n            appendable.append(separator);\n            appendable.append(Joiner.this.toString(part));\n          }\n        }\n        return appendable;\n      }\n\n      @Override\n      public Joiner useForNull(String nullText) {\n        throw new UnsupportedOperationException(\"already specified skipNulls\");\n      }\n\n      @Override\n      public MapJoiner withKeyValueSeparator(String kvs) {\n        throw new UnsupportedOperationException(\"can't use .skipNulls() with maps\");\n      }\n    };\n  }", "language": "java", "code": "public Joiner skipNulls() {\n    return new Joiner(this) {\n      @Override\n      public <A extends Appendable> A appendTo(A appendable, Iterator<?> parts) throws IOException {\n        checkNotNull(appendable, \"appendable\");\n        checkNotNull(parts, \"parts\");\n        while (parts.hasNext()) {\n          Object part = parts.next();\n          if (part != null) {\n            appendable.append(Joiner.this.toString(part));\n            break;\n          }\n        }\n        while (parts.hasNext()) {\n          Object part = parts.next();\n          if (part != null) {\n            appendable.append(separator);\n            appendable.append(Joiner.this.toString(part));\n          }\n        }\n        return appendable;\n      }\n\n      @Override\n      public Joiner useForNull(String nullText) {\n        throw new UnsupportedOperationException(\"already specified skipNulls\");\n      }\n\n      @Override\n      public MapJoiner withKeyValueSeparator(String kvs) {\n        throw new UnsupportedOperationException(\"can't use .skipNulls() with maps\");\n      }\n    };\n  }", "code_tokens": ["public", "Joiner", "skipNulls", "(", ")", "{", "return", "new", "Joiner", "(", "this", ")", "{", "@", "Override", "public", "<", "A", "extends", "Appendable", ">", "A", "appendTo", "(", "A", "appendable", ",", "Iterator", "<", "?", ">", "parts", ")", "throws", "IOException", "{", "checkNotNull", "(", "appendable", ",", "\"appendable\"", ")", ";", "checkNotNull", "(", "parts", ",", "\"parts\"", ")", ";", "while", "(", "parts", ".", "hasNext", "(", ")", ")", "{", "Object", "part", "=", "parts", ".", "next", "(", ")", ";", "if", "(", "part", "!=", "null", ")", "{", "appendable", ".", "append", "(", "Joiner", ".", "this", ".", "toString", "(", "part", ")", ")", ";", "break", ";", "}", "}", "while", "(", "parts", ".", "hasNext", "(", ")", ")", "{", "Object", "part", "=", "parts", ".", "next", "(", ")", ";", "if", "(", "part", "!=", "null", ")", "{", "appendable", ".", "append", "(", "separator", ")", ";", "appendable", ".", "append", "(", "Joiner", ".", "this", ".", "toString", "(", "part", ")", ")", ";", "}", "}", "return", "appendable", ";", "}", "@", "Override", "public", "Joiner", "useForNull", "(", "String", "nullText", ")", "{", "throw", "new", "UnsupportedOperationException", "(", "\"already specified skipNulls\"", ")", ";", "}", "@", "Override", "public", "MapJoiner", "withKeyValueSeparator", "(", "String", "kvs", ")", "{", "throw", "new", "UnsupportedOperationException", "(", "\"can't use .skipNulls() with maps\"", ")", ";", "}", "}", ";", "}"], "docstring": "Returns a joiner with the same behavior as this joiner, except automatically skipping over any\nprovided null elements.", "docstring_tokens": ["Returns", "a", "joiner", "with", "the", "same", "behavior", "as", "this", "joiner", "except", "automatically", "skipping", "over", "any", "provided", "null", "elements", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Joiner.java#L242-L275", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.of", "original_string": "public static ImmutableIntArray of(int e0, int e1, int e2, int e3) {\n    return new ImmutableIntArray(new int[] {e0, e1, e2, e3});\n  }", "language": "java", "code": "public static ImmutableIntArray of(int e0, int e1, int e2, int e3) {\n    return new ImmutableIntArray(new int[] {e0, e1, e2, e3});\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "of", "(", "int", "e0", ",", "int", "e1", ",", "int", "e2", ",", "int", "e3", ")", "{", "return", "new", "ImmutableIntArray", "(", "new", "int", "[", "]", "{", "e0", ",", "e1", ",", "e2", ",", "e3", "}", ")", ";", "}"], "docstring": "Returns an immutable array containing the given values, in order.", "docstring_tokens": ["Returns", "an", "immutable", "array", "containing", "the", "given", "values", "in", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L115-L117", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.of", "original_string": "public static ImmutableIntArray of(int first, int... rest) {\n    checkArgument(\n        rest.length <= Integer.MAX_VALUE - 1, \"the total number of elements must fit in an int\");\n    int[] array = new int[rest.length + 1];\n    array[0] = first;\n    System.arraycopy(rest, 0, array, 1, rest.length);\n    return new ImmutableIntArray(array);\n  }", "language": "java", "code": "public static ImmutableIntArray of(int first, int... rest) {\n    checkArgument(\n        rest.length <= Integer.MAX_VALUE - 1, \"the total number of elements must fit in an int\");\n    int[] array = new int[rest.length + 1];\n    array[0] = first;\n    System.arraycopy(rest, 0, array, 1, rest.length);\n    return new ImmutableIntArray(array);\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "of", "(", "int", "first", ",", "int", "...", "rest", ")", "{", "checkArgument", "(", "rest", ".", "length", "<=", "Integer", ".", "MAX_VALUE", "-", "1", ",", "\"the total number of elements must fit in an int\"", ")", ";", "int", "[", "]", "array", "=", "new", "int", "[", "rest", ".", "length", "+", "1", "]", ";", "array", "[", "0", "]", "=", "first", ";", "System", ".", "arraycopy", "(", "rest", ",", "0", ",", "array", ",", "1", ",", "rest", ".", "length", ")", ";", "return", "new", "ImmutableIntArray", "(", "array", ")", ";", "}"], "docstring": "okay since we have to copy the just-created array anyway.", "docstring_tokens": ["okay", "since", "we", "have", "to", "copy", "the", "just", "-", "created", "array", "anyway", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L138-L145", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.copyOf", "original_string": "public static ImmutableIntArray copyOf(int[] values) {\n    return values.length == 0 ? EMPTY : new ImmutableIntArray(Arrays.copyOf(values, values.length));\n  }", "language": "java", "code": "public static ImmutableIntArray copyOf(int[] values) {\n    return values.length == 0 ? EMPTY : new ImmutableIntArray(Arrays.copyOf(values, values.length));\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "copyOf", "(", "int", "[", "]", "values", ")", "{", "return", "values", ".", "length", "==", "0", "?", "EMPTY", ":", "new", "ImmutableIntArray", "(", "Arrays", ".", "copyOf", "(", "values", ",", "values", ".", "length", ")", ")", ";", "}"], "docstring": "Returns an immutable array containing the given values, in order.", "docstring_tokens": ["Returns", "an", "immutable", "array", "containing", "the", "given", "values", "in", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L148-L150", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.copyOf", "original_string": "public static ImmutableIntArray copyOf(Collection<Integer> values) {\n    return values.isEmpty() ? EMPTY : new ImmutableIntArray(Ints.toArray(values));\n  }", "language": "java", "code": "public static ImmutableIntArray copyOf(Collection<Integer> values) {\n    return values.isEmpty() ? EMPTY : new ImmutableIntArray(Ints.toArray(values));\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "copyOf", "(", "Collection", "<", "Integer", ">", "values", ")", "{", "return", "values", ".", "isEmpty", "(", ")", "?", "EMPTY", ":", "new", "ImmutableIntArray", "(", "Ints", ".", "toArray", "(", "values", ")", ")", ";", "}"], "docstring": "Returns an immutable array containing the given values, in order.", "docstring_tokens": ["Returns", "an", "immutable", "array", "containing", "the", "given", "values", "in", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L153-L155", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.copyOf", "original_string": "public static ImmutableIntArray copyOf(Iterable<Integer> values) {\n    if (values instanceof Collection) {\n      return copyOf((Collection<Integer>) values);\n    }\n    return builder().addAll(values).build();\n  }", "language": "java", "code": "public static ImmutableIntArray copyOf(Iterable<Integer> values) {\n    if (values instanceof Collection) {\n      return copyOf((Collection<Integer>) values);\n    }\n    return builder().addAll(values).build();\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "copyOf", "(", "Iterable", "<", "Integer", ">", "values", ")", "{", "if", "(", "values", "instanceof", "Collection", ")", "{", "return", "copyOf", "(", "(", "Collection", "<", "Integer", ">", ")", "values", ")", ";", "}", "return", "builder", "(", ")", ".", "addAll", "(", "values", ")", ".", "build", "(", ")", ";", "}"], "docstring": "Returns an immutable array containing the given values, in order.\n\n<p><b>Performance note:</b> this method delegates to {@link #copyOf(Collection)} if {@code\nvalues} is a {@link Collection}. Otherwise it creates a {@link #builder} and uses {@link\nBuilder#addAll(Iterable)}, with all the performance implications associated with that.", "docstring_tokens": ["Returns", "an", "immutable", "array", "containing", "the", "given", "values", "in", "order", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L164-L169", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.copyOf", "original_string": "public static ImmutableIntArray copyOf(IntStream stream) {\n    // Note this uses very different growth behavior from copyOf(Iterable) and the builder.\n    int[] array = stream.toArray();\n    return (array.length == 0) ? EMPTY : new ImmutableIntArray(array);\n  }", "language": "java", "code": "public static ImmutableIntArray copyOf(IntStream stream) {\n    // Note this uses very different growth behavior from copyOf(Iterable) and the builder.\n    int[] array = stream.toArray();\n    return (array.length == 0) ? EMPTY : new ImmutableIntArray(array);\n  }", "code_tokens": ["public", "static", "ImmutableIntArray", "copyOf", "(", "IntStream", "stream", ")", "{", "// Note this uses very different growth behavior from copyOf(Iterable) and the builder.", "int", "[", "]", "array", "=", "stream", ".", "toArray", "(", ")", ";", "return", "(", "array", ".", "length", "==", "0", ")", "?", "EMPTY", ":", "new", "ImmutableIntArray", "(", "array", ")", ";", "}"], "docstring": "Returns an immutable array containing all the values from {@code stream}, in order.", "docstring_tokens": ["Returns", "an", "immutable", "array", "containing", "all", "the", "values", "from", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L172-L176", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.indexOf", "original_string": "public int indexOf(int target) {\n    for (int i = start; i < end; i++) {\n      if (array[i] == target) {\n        return i - start;\n      }\n    }\n    return -1;\n  }", "language": "java", "code": "public int indexOf(int target) {\n    for (int i = start; i < end; i++) {\n      if (array[i] == target) {\n        return i - start;\n      }\n    }\n    return -1;\n  }", "code_tokens": ["public", "int", "indexOf", "(", "int", "target", ")", "{", "for", "(", "int", "i", "=", "start", ";", "i", "<", "end", ";", "i", "++", ")", "{", "if", "(", "array", "[", "i", "]", "==", "target", ")", "{", "return", "i", "-", "start", ";", "}", "}", "return", "-", "1", ";", "}"], "docstring": "Returns the smallest index for which {@link #get} returns {@code target}, or {@code -1} if no\nsuch index exists. Equivalent to {@code asList().indexOf(target)}.", "docstring_tokens": ["Returns", "the", "smallest", "index", "for", "which", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L381-L388", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/ImmutableIntArray.java", "func_name": "ImmutableIntArray.subArray", "original_string": "public ImmutableIntArray subArray(int startIndex, int endIndex) {\n    Preconditions.checkPositionIndexes(startIndex, endIndex, length());\n    return startIndex == endIndex\n        ? EMPTY\n        : new ImmutableIntArray(array, start + startIndex, start + endIndex);\n  }", "language": "java", "code": "public ImmutableIntArray subArray(int startIndex, int endIndex) {\n    Preconditions.checkPositionIndexes(startIndex, endIndex, length());\n    return startIndex == endIndex\n        ? EMPTY\n        : new ImmutableIntArray(array, start + startIndex, start + endIndex);\n  }", "code_tokens": ["public", "ImmutableIntArray", "subArray", "(", "int", "startIndex", ",", "int", "endIndex", ")", "{", "Preconditions", ".", "checkPositionIndexes", "(", "startIndex", ",", "endIndex", ",", "length", "(", ")", ")", ";", "return", "startIndex", "==", "endIndex", "?", "EMPTY", ":", "new", "ImmutableIntArray", "(", "array", ",", "start", "+", "startIndex", ",", "start", "+", "endIndex", ")", ";", "}"], "docstring": "Returns a new immutable array containing the values in the specified range.\n\n<p><b>Performance note:</b> The returned array has the same full memory footprint as this one\ndoes (no actual copying is performed). To reduce memory usage, use {@code subArray(start,\nend).trimmed()}.", "docstring_tokens": ["Returns", "a", "new", "immutable", "array", "containing", "the", "values", "in", "the", "specified", "range", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/ImmutableIntArray.java#L436-L441", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.roundToInt", "original_string": "@GwtIncompatible // #roundIntermediate\n  public static int roundToInt(double x, RoundingMode mode) {\n    double z = roundIntermediate(x, mode);\n    checkInRangeForRoundingInputs(\n        z > MIN_INT_AS_DOUBLE - 1.0 & z < MAX_INT_AS_DOUBLE + 1.0, x, mode);\n    return (int) z;\n  }", "language": "java", "code": "@GwtIncompatible // #roundIntermediate\n  public static int roundToInt(double x, RoundingMode mode) {\n    double z = roundIntermediate(x, mode);\n    checkInRangeForRoundingInputs(\n        z > MIN_INT_AS_DOUBLE - 1.0 & z < MAX_INT_AS_DOUBLE + 1.0, x, mode);\n    return (int) z;\n  }", "code_tokens": ["@", "GwtIncompatible", "// #roundIntermediate", "public", "static", "int", "roundToInt", "(", "double", "x", ",", "RoundingMode", "mode", ")", "{", "double", "z", "=", "roundIntermediate", "(", "x", ",", "mode", ")", ";", "checkInRangeForRoundingInputs", "(", "z", ">", "MIN_INT_AS_DOUBLE", "-", "1.0", "&", "z", "<", "MAX_INT_AS_DOUBLE", "+", "1.0", ",", "x", ",", "mode", ")", ";", "return", "(", "int", ")", "z", ";", "}"], "docstring": "Returns the {@code int} value that is equal to {@code x} rounded with the specified rounding\nmode, if possible.\n\n@throws ArithmeticException if\n<ul>\n<li>{@code x} is infinite or NaN\n<li>{@code x}, after being rounded to a mathematical integer using the specified rounding\nmode, is either less than {@code Integer.MIN_VALUE} or greater than {@code\nInteger.MAX_VALUE}\n<li>{@code x} is not a mathematical integer and {@code mode} is {@link\nRoundingMode#UNNECESSARY}\n</ul>", "docstring_tokens": ["Returns", "the", "{", "@code", "int", "}", "value", "that", "is", "equal", "to", "{", "@code", "x", "}", "rounded", "with", "the", "specified", "rounding", "mode", "if", "possible", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L130-L136", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.roundToLong", "original_string": "@GwtIncompatible // #roundIntermediate\n  public static long roundToLong(double x, RoundingMode mode) {\n    double z = roundIntermediate(x, mode);\n    checkInRangeForRoundingInputs(\n        MIN_LONG_AS_DOUBLE - z < 1.0 & z < MAX_LONG_AS_DOUBLE_PLUS_ONE, x, mode);\n    return (long) z;\n  }", "language": "java", "code": "@GwtIncompatible // #roundIntermediate\n  public static long roundToLong(double x, RoundingMode mode) {\n    double z = roundIntermediate(x, mode);\n    checkInRangeForRoundingInputs(\n        MIN_LONG_AS_DOUBLE - z < 1.0 & z < MAX_LONG_AS_DOUBLE_PLUS_ONE, x, mode);\n    return (long) z;\n  }", "code_tokens": ["@", "GwtIncompatible", "// #roundIntermediate", "public", "static", "long", "roundToLong", "(", "double", "x", ",", "RoundingMode", "mode", ")", "{", "double", "z", "=", "roundIntermediate", "(", "x", ",", "mode", ")", ";", "checkInRangeForRoundingInputs", "(", "MIN_LONG_AS_DOUBLE", "-", "z", "<", "1.0", "&", "z", "<", "MAX_LONG_AS_DOUBLE_PLUS_ONE", ",", "x", ",", "mode", ")", ";", "return", "(", "long", ")", "z", ";", "}"], "docstring": "Returns the {@code long} value that is equal to {@code x} rounded with the specified rounding\nmode, if possible.\n\n@throws ArithmeticException if\n<ul>\n<li>{@code x} is infinite or NaN\n<li>{@code x}, after being rounded to a mathematical integer using the specified rounding\nmode, is either less than {@code Long.MIN_VALUE} or greater than {@code\nLong.MAX_VALUE}\n<li>{@code x} is not a mathematical integer and {@code mode} is {@link\nRoundingMode#UNNECESSARY}\n</ul>", "docstring_tokens": ["Returns", "the", "{", "@code", "long", "}", "value", "that", "is", "equal", "to", "{", "@code", "x", "}", "rounded", "with", "the", "specified", "rounding", "mode", "if", "possible", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L155-L161", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.roundToBigInteger", "original_string": "@GwtIncompatible\n  public static BigInteger roundToBigInteger(double x, RoundingMode mode) {\n    x = roundIntermediate(x, mode);\n    if (MIN_LONG_AS_DOUBLE - x < 1.0 & x < MAX_LONG_AS_DOUBLE_PLUS_ONE) {\n      return BigInteger.valueOf((long) x);\n    }\n    int exponent = getExponent(x);\n    long significand = getSignificand(x);\n    BigInteger result = BigInteger.valueOf(significand).shiftLeft(exponent - SIGNIFICAND_BITS);\n    return (x < 0) ? result.negate() : result;\n  }", "language": "java", "code": "@GwtIncompatible\n  public static BigInteger roundToBigInteger(double x, RoundingMode mode) {\n    x = roundIntermediate(x, mode);\n    if (MIN_LONG_AS_DOUBLE - x < 1.0 & x < MAX_LONG_AS_DOUBLE_PLUS_ONE) {\n      return BigInteger.valueOf((long) x);\n    }\n    int exponent = getExponent(x);\n    long significand = getSignificand(x);\n    BigInteger result = BigInteger.valueOf(significand).shiftLeft(exponent - SIGNIFICAND_BITS);\n    return (x < 0) ? result.negate() : result;\n  }", "code_tokens": ["@", "GwtIncompatible", "public", "static", "BigInteger", "roundToBigInteger", "(", "double", "x", ",", "RoundingMode", "mode", ")", "{", "x", "=", "roundIntermediate", "(", "x", ",", "mode", ")", ";", "if", "(", "MIN_LONG_AS_DOUBLE", "-", "x", "<", "1.0", "&", "x", "<", "MAX_LONG_AS_DOUBLE_PLUS_ONE", ")", "{", "return", "BigInteger", ".", "valueOf", "(", "(", "long", ")", "x", ")", ";", "}", "int", "exponent", "=", "getExponent", "(", "x", ")", ";", "long", "significand", "=", "getSignificand", "(", "x", ")", ";", "BigInteger", "result", "=", "BigInteger", ".", "valueOf", "(", "significand", ")", ".", "shiftLeft", "(", "exponent", "-", "SIGNIFICAND_BITS", ")", ";", "return", "(", "x", "<", "0", ")", "?", "result", ".", "negate", "(", ")", ":", "result", ";", "}"], "docstring": "#roundIntermediate, java.lang.Math.getExponent, com.google.common.math.DoubleUtils", "docstring_tokens": ["#roundIntermediate", "java", ".", "lang", ".", "Math", ".", "getExponent", "com", ".", "google", ".", "common", ".", "math", ".", "DoubleUtils"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L182-L192", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.isPowerOfTwo", "original_string": "@GwtIncompatible // com.google.common.math.DoubleUtils\n  public static boolean isPowerOfTwo(double x) {\n    if (x > 0.0 && isFinite(x)) {\n      long significand = getSignificand(x);\n      return (significand & (significand - 1)) == 0;\n    }\n    return false;\n  }", "language": "java", "code": "@GwtIncompatible // com.google.common.math.DoubleUtils\n  public static boolean isPowerOfTwo(double x) {\n    if (x > 0.0 && isFinite(x)) {\n      long significand = getSignificand(x);\n      return (significand & (significand - 1)) == 0;\n    }\n    return false;\n  }", "code_tokens": ["@", "GwtIncompatible", "// com.google.common.math.DoubleUtils", "public", "static", "boolean", "isPowerOfTwo", "(", "double", "x", ")", "{", "if", "(", "x", ">", "0.0", "&&", "isFinite", "(", "x", ")", ")", "{", "long", "significand", "=", "getSignificand", "(", "x", ")", ";", "return", "(", "significand", "&", "(", "significand", "-", "1", ")", ")", "==", "0", ";", "}", "return", "false", ";", "}"], "docstring": "Returns {@code true} if {@code x} is exactly equal to {@code 2^k} for some finite integer\n{@code k}.", "docstring_tokens": ["Returns", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L198-L205", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.fuzzyEquals", "original_string": "public static boolean fuzzyEquals(double a, double b, double tolerance) {\n    MathPreconditions.checkNonNegative(\"tolerance\", tolerance);\n    return Math.copySign(a - b, 1.0) <= tolerance\n        // copySign(x, 1.0) is a branch-free version of abs(x), but with different NaN semantics\n        || (a == b) // needed to ensure that infinities equal themselves\n        || (Double.isNaN(a) && Double.isNaN(b));\n  }", "language": "java", "code": "public static boolean fuzzyEquals(double a, double b, double tolerance) {\n    MathPreconditions.checkNonNegative(\"tolerance\", tolerance);\n    return Math.copySign(a - b, 1.0) <= tolerance\n        // copySign(x, 1.0) is a branch-free version of abs(x), but with different NaN semantics\n        || (a == b) // needed to ensure that infinities equal themselves\n        || (Double.isNaN(a) && Double.isNaN(b));\n  }", "code_tokens": ["public", "static", "boolean", "fuzzyEquals", "(", "double", "a", ",", "double", "b", ",", "double", "tolerance", ")", "{", "MathPreconditions", ".", "checkNonNegative", "(", "\"tolerance\"", ",", "tolerance", ")", ";", "return", "Math", ".", "copySign", "(", "a", "-", "b", ",", "1.0", ")", "<=", "tolerance", "// copySign(x, 1.0) is a branch-free version of abs(x), but with different NaN semantics", "||", "(", "a", "==", "b", ")", "// needed to ensure that infinities equal themselves", "||", "(", "Double", ".", "isNaN", "(", "a", ")", "&&", "Double", ".", "isNaN", "(", "b", ")", ")", ";", "}"], "docstring": "Returns {@code true} if {@code a} and {@code b} are within {@code tolerance} of each other.\n\n<p>Technically speaking, this is equivalent to {@code Math.abs(a - b) <= tolerance ||\nDouble.valueOf(a).equals(Double.valueOf(b))}.\n\n<p>Notable special cases include:\n\n<ul>\n<li>All NaNs are fuzzily equal.\n<li>If {@code a == b}, then {@code a} and {@code b} are always fuzzily equal.\n<li>Positive and negative zero are always fuzzily equal.\n<li>If {@code tolerance} is zero, and neither {@code a} nor {@code b} is NaN, then {@code a}\nand {@code b} are fuzzily equal if and only if {@code a == b}.\n<li>With {@link Double#POSITIVE_INFINITY} tolerance, all non-NaN values are fuzzily equal.\n<li>With finite tolerance, {@code Double.POSITIVE_INFINITY} and {@code\nDouble.NEGATIVE_INFINITY} are fuzzily equal only to themselves.\n</ul>\n\n<p>This is reflexive and symmetric, but <em>not</em> transitive, so it is <em>not</em> an\nequivalence relation and <em>not</em> suitable for use in {@link Object#equals}\nimplementations.\n\n@throws IllegalArgumentException if {@code tolerance} is {@code < 0} or NaN\n@since 13.0", "docstring_tokens": ["Returns", "{", "@code", "true", "}", "if", "{", "@code", "a", "}", "and", "{", "@code", "b", "}", "are", "within", "{", "@code", "tolerance", "}", "of", "each", "other", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L359-L365", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.fuzzyCompare", "original_string": "public static int fuzzyCompare(double a, double b, double tolerance) {\n    if (fuzzyEquals(a, b, tolerance)) {\n      return 0;\n    } else if (a < b) {\n      return -1;\n    } else if (a > b) {\n      return 1;\n    } else {\n      return Booleans.compare(Double.isNaN(a), Double.isNaN(b));\n    }\n  }", "language": "java", "code": "public static int fuzzyCompare(double a, double b, double tolerance) {\n    if (fuzzyEquals(a, b, tolerance)) {\n      return 0;\n    } else if (a < b) {\n      return -1;\n    } else if (a > b) {\n      return 1;\n    } else {\n      return Booleans.compare(Double.isNaN(a), Double.isNaN(b));\n    }\n  }", "code_tokens": ["public", "static", "int", "fuzzyCompare", "(", "double", "a", ",", "double", "b", ",", "double", "tolerance", ")", "{", "if", "(", "fuzzyEquals", "(", "a", ",", "b", ",", "tolerance", ")", ")", "{", "return", "0", ";", "}", "else", "if", "(", "a", "<", "b", ")", "{", "return", "-", "1", ";", "}", "else", "if", "(", "a", ">", "b", ")", "{", "return", "1", ";", "}", "else", "{", "return", "Booleans", ".", "compare", "(", "Double", ".", "isNaN", "(", "a", ")", ",", "Double", ".", "isNaN", "(", "b", ")", ")", ";", "}", "}"], "docstring": "Compares {@code a} and {@code b} \"fuzzily,\" with a tolerance for nearly-equal values.\n\n<p>This method is equivalent to {@code fuzzyEquals(a, b, tolerance) ? 0 : Double.compare(a,\nb)}. In particular, like {@link Double#compare(double, double)}, it treats all NaN values as\nequal and greater than all other values (including {@link Double#POSITIVE_INFINITY}).\n\n<p>This is <em>not</em> a total ordering and is <em>not</em> suitable for use in {@link\nComparable#compareTo} implementations. In particular, it is not transitive.\n\n@throws IllegalArgumentException if {@code tolerance} is {@code < 0} or NaN\n@since 13.0", "docstring_tokens": ["Compares", "{", "@code", "a", "}", "and", "{", "@code", "b", "}", "fuzzily", "with", "a", "tolerance", "for", "nearly", "-", "equal", "values", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L380-L390", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.mean", "original_string": "@Deprecated\n  // com.google.common.math.DoubleUtils\n  @GwtIncompatible\n  public static double mean(double... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    long count = 1;\n    double mean = checkFinite(values[0]);\n    for (int index = 1; index < values.length; ++index) {\n      checkFinite(values[index]);\n      count++;\n      // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n      mean += (values[index] - mean) / count;\n    }\n    return mean;\n  }", "language": "java", "code": "@Deprecated\n  // com.google.common.math.DoubleUtils\n  @GwtIncompatible\n  public static double mean(double... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    long count = 1;\n    double mean = checkFinite(values[0]);\n    for (int index = 1; index < values.length; ++index) {\n      checkFinite(values[index]);\n      count++;\n      // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n      mean += (values[index] - mean) / count;\n    }\n    return mean;\n  }", "code_tokens": ["@", "Deprecated", "// com.google.common.math.DoubleUtils", "@", "GwtIncompatible", "public", "static", "double", "mean", "(", "double", "...", "values", ")", "{", "checkArgument", "(", "values", ".", "length", ">", "0", ",", "\"Cannot take mean of 0 values\"", ")", ";", "long", "count", "=", "1", ";", "double", "mean", "=", "checkFinite", "(", "values", "[", "0", "]", ")", ";", "for", "(", "int", "index", "=", "1", ";", "index", "<", "values", ".", "length", ";", "++", "index", ")", "{", "checkFinite", "(", "values", "[", "index", "]", ")", ";", "count", "++", ";", "// Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)", "mean", "+=", "(", "values", "[", "index", "]", "-", "mean", ")", "/", "count", ";", "}", "return", "mean", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Arithmetic_mean\">arithmetic mean</a> of\n{@code values}.\n\n<p>If these values are a sample drawn from a population, this is also an unbiased estimator of\nthe arithmetic mean of the population.\n\n@param values a nonempty series of values\n@throws IllegalArgumentException if {@code values} is empty or contains any non-finite value\n@deprecated Use {@link Stats#meanOf} instead, noting the less strict handling of non-finite\nvalues.", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Arithmetic_mean", ">", "arithmetic", "mean<", "/", "a", ">", "of", "{", "@code", "values", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L404-L418", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.mean", "original_string": "@Deprecated\n  public static double mean(int... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    // The upper bound on the the length of an array and the bounds on the int values mean that, in\n    // this case only, we can compute the sum as a long without risking overflow or loss of\n    // precision. So we do that, as it's slightly quicker than the Knuth algorithm.\n    long sum = 0;\n    for (int index = 0; index < values.length; ++index) {\n      sum += values[index];\n    }\n    return (double) sum / values.length;\n  }", "language": "java", "code": "@Deprecated\n  public static double mean(int... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    // The upper bound on the the length of an array and the bounds on the int values mean that, in\n    // this case only, we can compute the sum as a long without risking overflow or loss of\n    // precision. So we do that, as it's slightly quicker than the Knuth algorithm.\n    long sum = 0;\n    for (int index = 0; index < values.length; ++index) {\n      sum += values[index];\n    }\n    return (double) sum / values.length;\n  }", "code_tokens": ["@", "Deprecated", "public", "static", "double", "mean", "(", "int", "...", "values", ")", "{", "checkArgument", "(", "values", ".", "length", ">", "0", ",", "\"Cannot take mean of 0 values\"", ")", ";", "// The upper bound on the the length of an array and the bounds on the int values mean that, in", "// this case only, we can compute the sum as a long without risking overflow or loss of", "// precision. So we do that, as it's slightly quicker than the Knuth algorithm.", "long", "sum", "=", "0", ";", "for", "(", "int", "index", "=", "0", ";", "index", "<", "values", ".", "length", ";", "++", "index", ")", "{", "sum", "+=", "values", "[", "index", "]", ";", "}", "return", "(", "double", ")", "sum", "/", "values", ".", "length", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Arithmetic_mean\">arithmetic mean</a> of\n{@code values}.\n\n<p>If these values are a sample drawn from a population, this is also an unbiased estimator of\nthe arithmetic mean of the population.\n\n@param values a nonempty series of values\n@throws IllegalArgumentException if {@code values} is empty\n@deprecated Use {@link Stats#meanOf} instead, noting the less strict handling of non-finite\nvalues.", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Arithmetic_mean", ">", "arithmetic", "mean<", "/", "a", ">", "of", "{", "@code", "values", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L432-L443", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/DoubleMath.java", "func_name": "DoubleMath.mean", "original_string": "@Deprecated\n  public static double mean(long... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    long count = 1;\n    double mean = values[0];\n    for (int index = 1; index < values.length; ++index) {\n      count++;\n      // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n      mean += (values[index] - mean) / count;\n    }\n    return mean;\n  }", "language": "java", "code": "@Deprecated\n  public static double mean(long... values) {\n    checkArgument(values.length > 0, \"Cannot take mean of 0 values\");\n    long count = 1;\n    double mean = values[0];\n    for (int index = 1; index < values.length; ++index) {\n      count++;\n      // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n      mean += (values[index] - mean) / count;\n    }\n    return mean;\n  }", "code_tokens": ["@", "Deprecated", "public", "static", "double", "mean", "(", "long", "...", "values", ")", "{", "checkArgument", "(", "values", ".", "length", ">", "0", ",", "\"Cannot take mean of 0 values\"", ")", ";", "long", "count", "=", "1", ";", "double", "mean", "=", "values", "[", "0", "]", ";", "for", "(", "int", "index", "=", "1", ";", "index", "<", "values", ".", "length", ";", "++", "index", ")", "{", "count", "++", ";", "// Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)", "mean", "+=", "(", "values", "[", "index", "]", "-", "mean", ")", "/", "count", ";", "}", "return", "mean", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Arithmetic_mean\">arithmetic mean</a> of\n{@code values}.\n\n<p>If these values are a sample drawn from a population, this is also an unbiased estimator of\nthe arithmetic mean of the population.\n\n@param values a nonempty series of values, which will be converted to {@code double} values\n(this may cause loss of precision for longs of magnitude over 2^53 (slightly over 9e15))\n@throws IllegalArgumentException if {@code values} is empty\n@deprecated Use {@link Stats#meanOf} instead, noting the less strict handling of non-finite\nvalues.", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Arithmetic_mean", ">", "arithmetic", "mean<", "/", "a", ">", "of", "{", "@code", "values", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/DoubleMath.java#L458-L469", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/LinkedListMultimap.java", "func_name": "LinkedListMultimap.removeNode", "original_string": "private void removeNode(Node<K, V> node) {\n    if (node.previous != null) {\n      node.previous.next = node.next;\n    } else { // node was head\n      head = node.next;\n    }\n    if (node.next != null) {\n      node.next.previous = node.previous;\n    } else { // node was tail\n      tail = node.previous;\n    }\n    if (node.previousSibling == null && node.nextSibling == null) {\n      KeyList<K, V> keyList = keyToKeyList.remove(node.key);\n      keyList.count = 0;\n      modCount++;\n    } else {\n      KeyList<K, V> keyList = keyToKeyList.get(node.key);\n      keyList.count--;\n\n      if (node.previousSibling == null) {\n        keyList.head = node.nextSibling;\n      } else {\n        node.previousSibling.nextSibling = node.nextSibling;\n      }\n\n      if (node.nextSibling == null) {\n        keyList.tail = node.previousSibling;\n      } else {\n        node.nextSibling.previousSibling = node.previousSibling;\n      }\n    }\n    size--;\n  }", "language": "java", "code": "private void removeNode(Node<K, V> node) {\n    if (node.previous != null) {\n      node.previous.next = node.next;\n    } else { // node was head\n      head = node.next;\n    }\n    if (node.next != null) {\n      node.next.previous = node.previous;\n    } else { // node was tail\n      tail = node.previous;\n    }\n    if (node.previousSibling == null && node.nextSibling == null) {\n      KeyList<K, V> keyList = keyToKeyList.remove(node.key);\n      keyList.count = 0;\n      modCount++;\n    } else {\n      KeyList<K, V> keyList = keyToKeyList.get(node.key);\n      keyList.count--;\n\n      if (node.previousSibling == null) {\n        keyList.head = node.nextSibling;\n      } else {\n        node.previousSibling.nextSibling = node.nextSibling;\n      }\n\n      if (node.nextSibling == null) {\n        keyList.tail = node.previousSibling;\n      } else {\n        node.nextSibling.previousSibling = node.previousSibling;\n      }\n    }\n    size--;\n  }", "code_tokens": ["private", "void", "removeNode", "(", "Node", "<", "K", ",", "V", ">", "node", ")", "{", "if", "(", "node", ".", "previous", "!=", "null", ")", "{", "node", ".", "previous", ".", "next", "=", "node", ".", "next", ";", "}", "else", "{", "// node was head", "head", "=", "node", ".", "next", ";", "}", "if", "(", "node", ".", "next", "!=", "null", ")", "{", "node", ".", "next", ".", "previous", "=", "node", ".", "previous", ";", "}", "else", "{", "// node was tail", "tail", "=", "node", ".", "previous", ";", "}", "if", "(", "node", ".", "previousSibling", "==", "null", "&&", "node", ".", "nextSibling", "==", "null", ")", "{", "KeyList", "<", "K", ",", "V", ">", "keyList", "=", "keyToKeyList", ".", "remove", "(", "node", ".", "key", ")", ";", "keyList", ".", "count", "=", "0", ";", "modCount", "++", ";", "}", "else", "{", "KeyList", "<", "K", ",", "V", ">", "keyList", "=", "keyToKeyList", ".", "get", "(", "node", ".", "key", ")", ";", "keyList", ".", "count", "--", ";", "if", "(", "node", ".", "previousSibling", "==", "null", ")", "{", "keyList", ".", "head", "=", "node", ".", "nextSibling", ";", "}", "else", "{", "node", ".", "previousSibling", ".", "nextSibling", "=", "node", ".", "nextSibling", ";", "}", "if", "(", "node", ".", "nextSibling", "==", "null", ")", "{", "keyList", ".", "tail", "=", "node", ".", "previousSibling", ";", "}", "else", "{", "node", ".", "nextSibling", ".", "previousSibling", "=", "node", ".", "previousSibling", ";", "}", "}", "size", "--", ";", "}"], "docstring": "Removes the specified node from the linked list. This method is only intended to be used from\nthe {@code Iterator} classes. See also {@link LinkedListMultimap#removeAllNodes(Object)}.", "docstring_tokens": ["Removes", "the", "specified", "node", "from", "the", "linked", "list", ".", "This", "method", "is", "only", "intended", "to", "be", "used", "from", "the", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/LinkedListMultimap.java#L261-L293", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/LinkedListMultimap.java", "func_name": "LinkedListMultimap.replaceValues", "original_string": "@CanIgnoreReturnValue\n  @Override\n  public List<V> replaceValues(@Nullable K key, Iterable<? extends V> values) {\n    List<V> oldValues = getCopy(key);\n    ListIterator<V> keyValues = new ValueForKeyIterator(key);\n    Iterator<? extends V> newValues = values.iterator();\n\n    // Replace existing values, if any.\n    while (keyValues.hasNext() && newValues.hasNext()) {\n      keyValues.next();\n      keyValues.set(newValues.next());\n    }\n\n    // Remove remaining old values, if any.\n    while (keyValues.hasNext()) {\n      keyValues.next();\n      keyValues.remove();\n    }\n\n    // Add remaining new values, if any.\n    while (newValues.hasNext()) {\n      keyValues.add(newValues.next());\n    }\n\n    return oldValues;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  @Override\n  public List<V> replaceValues(@Nullable K key, Iterable<? extends V> values) {\n    List<V> oldValues = getCopy(key);\n    ListIterator<V> keyValues = new ValueForKeyIterator(key);\n    Iterator<? extends V> newValues = values.iterator();\n\n    // Replace existing values, if any.\n    while (keyValues.hasNext() && newValues.hasNext()) {\n      keyValues.next();\n      keyValues.set(newValues.next());\n    }\n\n    // Remove remaining old values, if any.\n    while (keyValues.hasNext()) {\n      keyValues.next();\n      keyValues.remove();\n    }\n\n    // Add remaining new values, if any.\n    while (newValues.hasNext()) {\n      keyValues.add(newValues.next());\n    }\n\n    return oldValues;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "@", "Override", "public", "List", "<", "V", ">", "replaceValues", "(", "@", "Nullable", "K", "key", ",", "Iterable", "<", "?", "extends", "V", ">", "values", ")", "{", "List", "<", "V", ">", "oldValues", "=", "getCopy", "(", "key", ")", ";", "ListIterator", "<", "V", ">", "keyValues", "=", "new", "ValueForKeyIterator", "(", "key", ")", ";", "Iterator", "<", "?", "extends", "V", ">", "newValues", "=", "values", ".", "iterator", "(", ")", ";", "// Replace existing values, if any.", "while", "(", "keyValues", ".", "hasNext", "(", ")", "&&", "newValues", ".", "hasNext", "(", ")", ")", "{", "keyValues", ".", "next", "(", ")", ";", "keyValues", ".", "set", "(", "newValues", ".", "next", "(", ")", ")", ";", "}", "// Remove remaining old values, if any.", "while", "(", "keyValues", ".", "hasNext", "(", ")", ")", "{", "keyValues", ".", "next", "(", ")", ";", "keyValues", ".", "remove", "(", ")", ";", "}", "// Add remaining new values, if any.", "while", "(", "newValues", ".", "hasNext", "(", ")", ")", "{", "keyValues", ".", "add", "(", "newValues", ".", "next", "(", ")", ")", ";", "}", "return", "oldValues", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>If any entries for the specified {@code key} already exist in the multimap, their values are\nchanged in-place without affecting the iteration order.\n\n<p>The returned list is immutable and implements {@link java.util.RandomAccess}.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/LinkedListMultimap.java#L614-L639", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/LinkedListMultimap.java", "func_name": "LinkedListMultimap.get", "original_string": "@Override\n  public List<V> get(final @Nullable K key) {\n    return new AbstractSequentialList<V>() {\n      @Override\n      public int size() {\n        KeyList<K, V> keyList = keyToKeyList.get(key);\n        return (keyList == null) ? 0 : keyList.count;\n      }\n\n      @Override\n      public ListIterator<V> listIterator(int index) {\n        return new ValueForKeyIterator(key, index);\n      }\n    };\n  }", "language": "java", "code": "@Override\n  public List<V> get(final @Nullable K key) {\n    return new AbstractSequentialList<V>() {\n      @Override\n      public int size() {\n        KeyList<K, V> keyList = keyToKeyList.get(key);\n        return (keyList == null) ? 0 : keyList.count;\n      }\n\n      @Override\n      public ListIterator<V> listIterator(int index) {\n        return new ValueForKeyIterator(key, index);\n      }\n    };\n  }", "code_tokens": ["@", "Override", "public", "List", "<", "V", ">", "get", "(", "final", "@", "Nullable", "K", "key", ")", "{", "return", "new", "AbstractSequentialList", "<", "V", ">", "(", ")", "{", "@", "Override", "public", "int", "size", "(", ")", "{", "KeyList", "<", "K", ",", "V", ">", "keyList", "=", "keyToKeyList", ".", "get", "(", "key", ")", ";", "return", "(", "keyList", "==", "null", ")", "?", "0", ":", "keyList", ".", "count", ";", "}", "@", "Override", "public", "ListIterator", "<", "V", ">", "listIterator", "(", "int", "index", ")", "{", "return", "new", "ValueForKeyIterator", "(", "key", ",", "index", ")", ";", "}", "}", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>If the multimap is modified while an iteration over the list is in progress (except through\nthe iterator's own {@code add}, {@code set} or {@code remove} operations) the results of the\niteration are undefined.\n\n<p>The returned list is not serializable and does not have random access.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/LinkedListMultimap.java#L678-L692", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/LinkedListMultimap.java", "func_name": "LinkedListMultimap.entries", "original_string": "@Override\n  public List<Entry<K, V>> entries() {\n    return (List<Entry<K, V>>) super.entries();\n  }", "language": "java", "code": "@Override\n  public List<Entry<K, V>> entries() {\n    return (List<Entry<K, V>>) super.entries();\n  }", "code_tokens": ["@", "Override", "public", "List", "<", "Entry", "<", "K", ",", "V", ">", ">", "entries", "(", ")", "{", "return", "(", "List", "<", "Entry", "<", "K", ",", "V", ">", ">", ")", "super", ".", "entries", "(", ")", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>The iterator generated by the returned collection traverses the entries in the order they\nwere added to the multimap. Because the entries may have duplicates and follow the insertion\nordering, this method returns a {@link List}, instead of the {@link Collection} specified in\nthe {@link ListMultimap} interface.\n\n<p>An entry's {@link Entry#getKey} method always returns the same key, regardless of what\nhappens subsequently. As long as the corresponding key-value mapping is not removed from the\nmultimap, {@link Entry#getValue} returns the value from the multimap, which may change over\ntime, and {@link Entry#setValue} modifies that value. Removing the mapping from the multimap\ndoes not alter the value returned by {@code getValue()}, though a subsequent {@code setValue()}\ncall won't update the multimap but will lead to a revised value being returned by {@code\ngetValue()}.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/LinkedListMultimap.java#L783-L786", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/hash/HashingInputStream.java", "func_name": "HashingInputStream.read", "original_string": "@Override\n  @CanIgnoreReturnValue\n  public int read() throws IOException {\n    int b = in.read();\n    if (b != -1) {\n      hasher.putByte((byte) b);\n    }\n    return b;\n  }", "language": "java", "code": "@Override\n  @CanIgnoreReturnValue\n  public int read() throws IOException {\n    int b = in.read();\n    if (b != -1) {\n      hasher.putByte((byte) b);\n    }\n    return b;\n  }", "code_tokens": ["@", "Override", "@", "CanIgnoreReturnValue", "public", "int", "read", "(", ")", "throws", "IOException", "{", "int", "b", "=", "in", ".", "read", "(", ")", ";", "if", "(", "b", "!=", "-", "1", ")", "{", "hasher", ".", "putByte", "(", "(", "byte", ")", "b", ")", ";", "}", "return", "b", ";", "}"], "docstring": "Reads the next byte of data from the underlying input stream and updates the hasher with the\nbyte read.", "docstring_tokens": ["Reads", "the", "next", "byte", "of", "data", "from", "the", "underlying", "input", "stream", "and", "updates", "the", "hasher", "with", "the", "byte", "read", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/hash/HashingInputStream.java#L50-L58", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/hash/HashingInputStream.java", "func_name": "HashingInputStream.read", "original_string": "@Override\n  @CanIgnoreReturnValue\n  public int read(byte[] bytes, int off, int len) throws IOException {\n    int numOfBytesRead = in.read(bytes, off, len);\n    if (numOfBytesRead != -1) {\n      hasher.putBytes(bytes, off, numOfBytesRead);\n    }\n    return numOfBytesRead;\n  }", "language": "java", "code": "@Override\n  @CanIgnoreReturnValue\n  public int read(byte[] bytes, int off, int len) throws IOException {\n    int numOfBytesRead = in.read(bytes, off, len);\n    if (numOfBytesRead != -1) {\n      hasher.putBytes(bytes, off, numOfBytesRead);\n    }\n    return numOfBytesRead;\n  }", "code_tokens": ["@", "Override", "@", "CanIgnoreReturnValue", "public", "int", "read", "(", "byte", "[", "]", "bytes", ",", "int", "off", ",", "int", "len", ")", "throws", "IOException", "{", "int", "numOfBytesRead", "=", "in", ".", "read", "(", "bytes", ",", "off", ",", "len", ")", ";", "if", "(", "numOfBytesRead", "!=", "-", "1", ")", "{", "hasher", ".", "putBytes", "(", "bytes", ",", "off", ",", "numOfBytesRead", ")", ";", "}", "return", "numOfBytesRead", ";", "}"], "docstring": "Reads the specified bytes of data from the underlying input stream and updates the hasher with\nthe bytes read.", "docstring_tokens": ["Reads", "the", "specified", "bytes", "of", "data", "from", "the", "underlying", "input", "stream", "and", "updates", "the", "hasher", "with", "the", "bytes", "read", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/hash/HashingInputStream.java#L64-L72", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.writeMap", "original_string": "static <K, V> void writeMap(Map<K, V> map, ObjectOutputStream stream) throws IOException {\n    stream.writeInt(map.size());\n    for (Map.Entry<K, V> entry : map.entrySet()) {\n      stream.writeObject(entry.getKey());\n      stream.writeObject(entry.getValue());\n    }\n  }", "language": "java", "code": "static <K, V> void writeMap(Map<K, V> map, ObjectOutputStream stream) throws IOException {\n    stream.writeInt(map.size());\n    for (Map.Entry<K, V> entry : map.entrySet()) {\n      stream.writeObject(entry.getKey());\n      stream.writeObject(entry.getValue());\n    }\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "writeMap", "(", "Map", "<", "K", ",", "V", ">", "map", ",", "ObjectOutputStream", "stream", ")", "throws", "IOException", "{", "stream", ".", "writeInt", "(", "map", ".", "size", "(", ")", ")", ";", "for", "(", "Map", ".", "Entry", "<", "K", ",", "V", ">", "entry", ":", "map", ".", "entrySet", "(", ")", ")", "{", "stream", ".", "writeObject", "(", "entry", ".", "getKey", "(", ")", ")", ";", "stream", ".", "writeObject", "(", "entry", ".", "getValue", "(", ")", ")", ";", "}", "}"], "docstring": "Stores the contents of a map in an output stream, as part of serialization. It does not support\nconcurrent maps whose content may change while the method is running.\n\n<p>The serialized output consists of the number of entries, first key, first value, second key,\nsecond value, and so on.", "docstring_tokens": ["Stores", "the", "contents", "of", "a", "map", "in", "an", "output", "stream", "as", "part", "of", "serialization", ".", "It", "does", "not", "support", "concurrent", "maps", "whose", "content", "may", "change", "while", "the", "method", "is", "running", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L57-L63", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMap", "original_string": "static <K, V> void populateMap(Map<K, V> map, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int size = stream.readInt();\n    populateMap(map, stream, size);\n  }", "language": "java", "code": "static <K, V> void populateMap(Map<K, V> map, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int size = stream.readInt();\n    populateMap(map, stream, size);\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "populateMap", "(", "Map", "<", "K", ",", "V", ">", "map", ",", "ObjectInputStream", "stream", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "int", "size", "=", "stream", ".", "readInt", "(", ")", ";", "populateMap", "(", "map", ",", "stream", ",", "size", ")", ";", "}"], "docstring": "Populates a map by reading an input stream, as part of deserialization. See {@link #writeMap}\nfor the data format.", "docstring_tokens": ["Populates", "a", "map", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L69-L73", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMap", "original_string": "static <K, V> void populateMap(Map<K, V> map, ObjectInputStream stream, int size)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < size; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMap\n      K key = (K) stream.readObject();\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMap\n      V value = (V) stream.readObject();\n      map.put(key, value);\n    }\n  }", "language": "java", "code": "static <K, V> void populateMap(Map<K, V> map, ObjectInputStream stream, int size)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < size; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMap\n      K key = (K) stream.readObject();\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMap\n      V value = (V) stream.readObject();\n      map.put(key, value);\n    }\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "populateMap", "(", "Map", "<", "K", ",", "V", ">", "map", ",", "ObjectInputStream", "stream", ",", "int", "size", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "size", ";", "i", "++", ")", "{", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// reading data stored by writeMap", "K", "key", "=", "(", "K", ")", "stream", ".", "readObject", "(", ")", ";", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// reading data stored by writeMap", "V", "value", "=", "(", "V", ")", "stream", ".", "readObject", "(", ")", ";", "map", ".", "put", "(", "key", ",", "value", ")", ";", "}", "}"], "docstring": "Populates a map by reading an input stream, as part of deserialization. See {@link #writeMap}\nfor the data format. The size is determined by a prior call to {@link #readCount}.", "docstring_tokens": ["Populates", "a", "map", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L79-L88", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.writeMultiset", "original_string": "static <E> void writeMultiset(Multiset<E> multiset, ObjectOutputStream stream)\n      throws IOException {\n    int entryCount = multiset.entrySet().size();\n    stream.writeInt(entryCount);\n    for (Multiset.Entry<E> entry : multiset.entrySet()) {\n      stream.writeObject(entry.getElement());\n      stream.writeInt(entry.getCount());\n    }\n  }", "language": "java", "code": "static <E> void writeMultiset(Multiset<E> multiset, ObjectOutputStream stream)\n      throws IOException {\n    int entryCount = multiset.entrySet().size();\n    stream.writeInt(entryCount);\n    for (Multiset.Entry<E> entry : multiset.entrySet()) {\n      stream.writeObject(entry.getElement());\n      stream.writeInt(entry.getCount());\n    }\n  }", "code_tokens": ["static", "<", "E", ">", "void", "writeMultiset", "(", "Multiset", "<", "E", ">", "multiset", ",", "ObjectOutputStream", "stream", ")", "throws", "IOException", "{", "int", "entryCount", "=", "multiset", ".", "entrySet", "(", ")", ".", "size", "(", ")", ";", "stream", ".", "writeInt", "(", "entryCount", ")", ";", "for", "(", "Multiset", ".", "Entry", "<", "E", ">", "entry", ":", "multiset", ".", "entrySet", "(", ")", ")", "{", "stream", ".", "writeObject", "(", "entry", ".", "getElement", "(", ")", ")", ";", "stream", ".", "writeInt", "(", "entry", ".", "getCount", "(", ")", ")", ";", "}", "}"], "docstring": "Stores the contents of a multiset in an output stream, as part of serialization. It does not\nsupport concurrent multisets whose content may change while the method is running.\n\n<p>The serialized output consists of the number of distinct elements, the first element, its\ncount, the second element, its count, and so on.", "docstring_tokens": ["Stores", "the", "contents", "of", "a", "multiset", "in", "an", "output", "stream", "as", "part", "of", "serialization", ".", "It", "does", "not", "support", "concurrent", "multisets", "whose", "content", "may", "change", "while", "the", "method", "is", "running", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L97-L105", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMultiset", "original_string": "static <E> void populateMultiset(Multiset<E> multiset, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int distinctElements = stream.readInt();\n    populateMultiset(multiset, stream, distinctElements);\n  }", "language": "java", "code": "static <E> void populateMultiset(Multiset<E> multiset, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int distinctElements = stream.readInt();\n    populateMultiset(multiset, stream, distinctElements);\n  }", "code_tokens": ["static", "<", "E", ">", "void", "populateMultiset", "(", "Multiset", "<", "E", ">", "multiset", ",", "ObjectInputStream", "stream", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "int", "distinctElements", "=", "stream", ".", "readInt", "(", ")", ";", "populateMultiset", "(", "multiset", ",", "stream", ",", "distinctElements", ")", ";", "}"], "docstring": "Populates a multiset by reading an input stream, as part of deserialization. See {@link\n#writeMultiset} for the data format.", "docstring_tokens": ["Populates", "a", "multiset", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L111-L115", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMultiset", "original_string": "static <E> void populateMultiset(\n      Multiset<E> multiset, ObjectInputStream stream, int distinctElements)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < distinctElements; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMultiset\n      E element = (E) stream.readObject();\n      int count = stream.readInt();\n      multiset.add(element, count);\n    }\n  }", "language": "java", "code": "static <E> void populateMultiset(\n      Multiset<E> multiset, ObjectInputStream stream, int distinctElements)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < distinctElements; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMultiset\n      E element = (E) stream.readObject();\n      int count = stream.readInt();\n      multiset.add(element, count);\n    }\n  }", "code_tokens": ["static", "<", "E", ">", "void", "populateMultiset", "(", "Multiset", "<", "E", ">", "multiset", ",", "ObjectInputStream", "stream", ",", "int", "distinctElements", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "distinctElements", ";", "i", "++", ")", "{", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// reading data stored by writeMultiset", "E", "element", "=", "(", "E", ")", "stream", ".", "readObject", "(", ")", ";", "int", "count", "=", "stream", ".", "readInt", "(", ")", ";", "multiset", ".", "add", "(", "element", ",", "count", ")", ";", "}", "}"], "docstring": "Populates a multiset by reading an input stream, as part of deserialization. See {@link\n#writeMultiset} for the data format. The number of distinct elements is determined by a prior\ncall to {@link #readCount}.", "docstring_tokens": ["Populates", "a", "multiset", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L122-L131", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.writeMultimap", "original_string": "static <K, V> void writeMultimap(Multimap<K, V> multimap, ObjectOutputStream stream)\n      throws IOException {\n    stream.writeInt(multimap.asMap().size());\n    for (Map.Entry<K, Collection<V>> entry : multimap.asMap().entrySet()) {\n      stream.writeObject(entry.getKey());\n      stream.writeInt(entry.getValue().size());\n      for (V value : entry.getValue()) {\n        stream.writeObject(value);\n      }\n    }\n  }", "language": "java", "code": "static <K, V> void writeMultimap(Multimap<K, V> multimap, ObjectOutputStream stream)\n      throws IOException {\n    stream.writeInt(multimap.asMap().size());\n    for (Map.Entry<K, Collection<V>> entry : multimap.asMap().entrySet()) {\n      stream.writeObject(entry.getKey());\n      stream.writeInt(entry.getValue().size());\n      for (V value : entry.getValue()) {\n        stream.writeObject(value);\n      }\n    }\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "writeMultimap", "(", "Multimap", "<", "K", ",", "V", ">", "multimap", ",", "ObjectOutputStream", "stream", ")", "throws", "IOException", "{", "stream", ".", "writeInt", "(", "multimap", ".", "asMap", "(", ")", ".", "size", "(", ")", ")", ";", "for", "(", "Map", ".", "Entry", "<", "K", ",", "Collection", "<", "V", ">", ">", "entry", ":", "multimap", ".", "asMap", "(", ")", ".", "entrySet", "(", ")", ")", "{", "stream", ".", "writeObject", "(", "entry", ".", "getKey", "(", ")", ")", ";", "stream", ".", "writeInt", "(", "entry", ".", "getValue", "(", ")", ".", "size", "(", ")", ")", ";", "for", "(", "V", "value", ":", "entry", ".", "getValue", "(", ")", ")", "{", "stream", ".", "writeObject", "(", "value", ")", ";", "}", "}", "}"], "docstring": "Stores the contents of a multimap in an output stream, as part of serialization. It does not\nsupport concurrent multimaps whose content may change while the method is running. The {@link\nMultimap#asMap} view determines the ordering in which data is written to the stream.\n\n<p>The serialized output consists of the number of distinct keys, and then for each distinct\nkey: the key, the number of values for that key, and the key's values.", "docstring_tokens": ["Stores", "the", "contents", "of", "a", "multimap", "in", "an", "output", "stream", "as", "part", "of", "serialization", ".", "It", "does", "not", "support", "concurrent", "multimaps", "whose", "content", "may", "change", "while", "the", "method", "is", "running", ".", "The", "{", "@link", "Multimap#asMap", "}", "view", "determines", "the", "ordering", "in", "which", "data", "is", "written", "to", "the", "stream", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L141-L151", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMultimap", "original_string": "static <K, V> void populateMultimap(Multimap<K, V> multimap, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int distinctKeys = stream.readInt();\n    populateMultimap(multimap, stream, distinctKeys);\n  }", "language": "java", "code": "static <K, V> void populateMultimap(Multimap<K, V> multimap, ObjectInputStream stream)\n      throws IOException, ClassNotFoundException {\n    int distinctKeys = stream.readInt();\n    populateMultimap(multimap, stream, distinctKeys);\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "populateMultimap", "(", "Multimap", "<", "K", ",", "V", ">", "multimap", ",", "ObjectInputStream", "stream", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "int", "distinctKeys", "=", "stream", ".", "readInt", "(", ")", ";", "populateMultimap", "(", "multimap", ",", "stream", ",", "distinctKeys", ")", ";", "}"], "docstring": "Populates a multimap by reading an input stream, as part of deserialization. See {@link\n#writeMultimap} for the data format.", "docstring_tokens": ["Populates", "a", "multimap", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L157-L161", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.populateMultimap", "original_string": "static <K, V> void populateMultimap(\n      Multimap<K, V> multimap, ObjectInputStream stream, int distinctKeys)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < distinctKeys; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMultimap\n      K key = (K) stream.readObject();\n      Collection<V> values = multimap.get(key);\n      int valueCount = stream.readInt();\n      for (int j = 0; j < valueCount; j++) {\n        @SuppressWarnings(\"unchecked\") // reading data stored by writeMultimap\n        V value = (V) stream.readObject();\n        values.add(value);\n      }\n    }\n  }", "language": "java", "code": "static <K, V> void populateMultimap(\n      Multimap<K, V> multimap, ObjectInputStream stream, int distinctKeys)\n      throws IOException, ClassNotFoundException {\n    for (int i = 0; i < distinctKeys; i++) {\n      @SuppressWarnings(\"unchecked\") // reading data stored by writeMultimap\n      K key = (K) stream.readObject();\n      Collection<V> values = multimap.get(key);\n      int valueCount = stream.readInt();\n      for (int j = 0; j < valueCount; j++) {\n        @SuppressWarnings(\"unchecked\") // reading data stored by writeMultimap\n        V value = (V) stream.readObject();\n        values.add(value);\n      }\n    }\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "void", "populateMultimap", "(", "Multimap", "<", "K", ",", "V", ">", "multimap", ",", "ObjectInputStream", "stream", ",", "int", "distinctKeys", ")", "throws", "IOException", ",", "ClassNotFoundException", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "distinctKeys", ";", "i", "++", ")", "{", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// reading data stored by writeMultimap", "K", "key", "=", "(", "K", ")", "stream", ".", "readObject", "(", ")", ";", "Collection", "<", "V", ">", "values", "=", "multimap", ".", "get", "(", "key", ")", ";", "int", "valueCount", "=", "stream", ".", "readInt", "(", ")", ";", "for", "(", "int", "j", "=", "0", ";", "j", "<", "valueCount", ";", "j", "++", ")", "{", "@", "SuppressWarnings", "(", "\"unchecked\"", ")", "// reading data stored by writeMultimap", "V", "value", "=", "(", "V", ")", "stream", ".", "readObject", "(", ")", ";", "values", ".", "add", "(", "value", ")", ";", "}", "}", "}"], "docstring": "Populates a multimap by reading an input stream, as part of deserialization. See {@link\n#writeMultimap} for the data format. The number of distinct keys is determined by a prior call\nto {@link #readCount}.", "docstring_tokens": ["Populates", "a", "multimap", "by", "reading", "an", "input", "stream", "as", "part", "of", "deserialization", ".", "See", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L168-L182", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/Serialization.java", "func_name": "Serialization.getFieldSetter", "original_string": "static <T> FieldSetter<T> getFieldSetter(final Class<T> clazz, String fieldName) {\n    try {\n      Field field = clazz.getDeclaredField(fieldName);\n      return new FieldSetter<T>(field);\n    } catch (NoSuchFieldException e) {\n      throw new AssertionError(e); // programmer error\n    }\n  }", "language": "java", "code": "static <T> FieldSetter<T> getFieldSetter(final Class<T> clazz, String fieldName) {\n    try {\n      Field field = clazz.getDeclaredField(fieldName);\n      return new FieldSetter<T>(field);\n    } catch (NoSuchFieldException e) {\n      throw new AssertionError(e); // programmer error\n    }\n  }", "code_tokens": ["static", "<", "T", ">", "FieldSetter", "<", "T", ">", "getFieldSetter", "(", "final", "Class", "<", "T", ">", "clazz", ",", "String", "fieldName", ")", "{", "try", "{", "Field", "field", "=", "clazz", ".", "getDeclaredField", "(", "fieldName", ")", ";", "return", "new", "FieldSetter", "<", "T", ">", "(", "field", ")", ";", "}", "catch", "(", "NoSuchFieldException", "e", ")", "{", "throw", "new", "AssertionError", "(", "e", ")", ";", "// programmer error", "}", "}"], "docstring": "Secret sauce for setting final fields; don't make it public.", "docstring_tokens": ["Secret", "sauce", "for", "setting", "final", "fields", ";", "don", "t", "make", "it", "public", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/Serialization.java#L185-L192", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/graph/MapRetrievalCache.java", "func_name": "MapRetrievalCache.getIfCached", "original_string": "@Override\n  protected V getIfCached(@Nullable Object key) {\n    V value = super.getIfCached(key);\n    if (value != null) {\n      return value;\n    }\n\n    // Store a local reference to the cache entry. If the backing map is immutable, this,\n    // in combination with immutable cache entries, will ensure a thread-safe cache.\n    CacheEntry<K, V> entry;\n\n    // Check cache. We use == on purpose because it's cheaper and a cache miss is ok.\n    entry = cacheEntry1;\n    if (entry != null && entry.key == key) {\n      return entry.value;\n    }\n    entry = cacheEntry2;\n    if (entry != null && entry.key == key) {\n      // Promote second cache entry to first so the access pattern\n      // [K1, K2, K1, K3, K1, K4...] still hits the cache half the time.\n      addToCache(entry);\n      return entry.value;\n    }\n    return null;\n  }", "language": "java", "code": "@Override\n  protected V getIfCached(@Nullable Object key) {\n    V value = super.getIfCached(key);\n    if (value != null) {\n      return value;\n    }\n\n    // Store a local reference to the cache entry. If the backing map is immutable, this,\n    // in combination with immutable cache entries, will ensure a thread-safe cache.\n    CacheEntry<K, V> entry;\n\n    // Check cache. We use == on purpose because it's cheaper and a cache miss is ok.\n    entry = cacheEntry1;\n    if (entry != null && entry.key == key) {\n      return entry.value;\n    }\n    entry = cacheEntry2;\n    if (entry != null && entry.key == key) {\n      // Promote second cache entry to first so the access pattern\n      // [K1, K2, K1, K3, K1, K4...] still hits the cache half the time.\n      addToCache(entry);\n      return entry.value;\n    }\n    return null;\n  }", "code_tokens": ["@", "Override", "protected", "V", "getIfCached", "(", "@", "Nullable", "Object", "key", ")", "{", "V", "value", "=", "super", ".", "getIfCached", "(", "key", ")", ";", "if", "(", "value", "!=", "null", ")", "{", "return", "value", ";", "}", "// Store a local reference to the cache entry. If the backing map is immutable, this,", "// in combination with immutable cache entries, will ensure a thread-safe cache.", "CacheEntry", "<", "K", ",", "V", ">", "entry", ";", "// Check cache. We use == on purpose because it's cheaper and a cache miss is ok.", "entry", "=", "cacheEntry1", ";", "if", "(", "entry", "!=", "null", "&&", "entry", ".", "key", "==", "key", ")", "{", "return", "entry", ".", "value", ";", "}", "entry", "=", "cacheEntry2", ";", "if", "(", "entry", "!=", "null", "&&", "entry", ".", "key", "==", "key", ")", "{", "// Promote second cache entry to first so the access pattern", "// [K1, K2, K1, K3, K1, K4...] still hits the cache half the time.", "addToCache", "(", "entry", ")", ";", "return", "entry", ".", "value", ";", "}", "return", "null", ";", "}"], "docstring": "Internal methods ('protected' is still package-visible, but treat as only subclass-visible)", "docstring_tokens": ["Internal", "methods", "(", "protected", "is", "still", "package", "-", "visible", "but", "treat", "as", "only", "subclass", "-", "visible", ")"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/graph/MapRetrievalCache.java#L53-L77", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/hash/AbstractStreamingHasher.java", "func_name": "AbstractStreamingHasher.processRemaining", "original_string": "protected void processRemaining(ByteBuffer bb) {\n    bb.position(bb.limit()); // move at the end\n    bb.limit(chunkSize + 7); // get ready to pad with longs\n    while (bb.position() < chunkSize) {\n      bb.putLong(0);\n    }\n    bb.limit(chunkSize);\n    bb.flip();\n    process(bb);\n  }", "language": "java", "code": "protected void processRemaining(ByteBuffer bb) {\n    bb.position(bb.limit()); // move at the end\n    bb.limit(chunkSize + 7); // get ready to pad with longs\n    while (bb.position() < chunkSize) {\n      bb.putLong(0);\n    }\n    bb.limit(chunkSize);\n    bb.flip();\n    process(bb);\n  }", "code_tokens": ["protected", "void", "processRemaining", "(", "ByteBuffer", "bb", ")", "{", "bb", ".", "position", "(", "bb", ".", "limit", "(", ")", ")", ";", "// move at the end", "bb", ".", "limit", "(", "chunkSize", "+", "7", ")", ";", "// get ready to pad with longs", "while", "(", "bb", ".", "position", "(", ")", "<", "chunkSize", ")", "{", "bb", ".", "putLong", "(", "0", ")", ";", "}", "bb", ".", "limit", "(", "chunkSize", ")", ";", "bb", ".", "flip", "(", ")", ";", "process", "(", "bb", ")", ";", "}"], "docstring": "This is invoked for the last bytes of the input, which are not enough to fill a whole chunk.\nThe passed {@code ByteBuffer} is guaranteed to be non-empty.\n\n<p>This implementation simply pads with zeros and delegates to {@link #process(ByteBuffer)}.", "docstring_tokens": ["This", "is", "invoked", "for", "the", "last", "bytes", "of", "the", "input", "which", "are", "not", "enough", "to", "fill", "a", "whole", "chunk", ".", "The", "passed", "{", "@code", "ByteBuffer", "}", "is", "guaranteed", "to", "be", "non", "-", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/hash/AbstractStreamingHasher.java#L82-L91", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/primitives/UnsignedLong.java", "func_name": "UnsignedLong.dividedBy", "original_string": "public UnsignedLong dividedBy(UnsignedLong val) {\n    return fromLongBits(UnsignedLongs.divide(value, checkNotNull(val).value));\n  }", "language": "java", "code": "public UnsignedLong dividedBy(UnsignedLong val) {\n    return fromLongBits(UnsignedLongs.divide(value, checkNotNull(val).value));\n  }", "code_tokens": ["public", "UnsignedLong", "dividedBy", "(", "UnsignedLong", "val", ")", "{", "return", "fromLongBits", "(", "UnsignedLongs", ".", "divide", "(", "value", ",", "checkNotNull", "(", "val", ")", ".", "value", ")", ")", ";", "}"], "docstring": "Returns the result of dividing this by {@code val}.\n\n@since 14.0", "docstring_tokens": ["Returns", "the", "result", "of", "dividing", "this", "by", "{", "@code", "val", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/primitives/UnsignedLong.java#L161-L163", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/primitives/UnsignedLong.java", "func_name": "UnsignedLong.mod", "original_string": "public UnsignedLong mod(UnsignedLong val) {\n    return fromLongBits(UnsignedLongs.remainder(value, checkNotNull(val).value));\n  }", "language": "java", "code": "public UnsignedLong mod(UnsignedLong val) {\n    return fromLongBits(UnsignedLongs.remainder(value, checkNotNull(val).value));\n  }", "code_tokens": ["public", "UnsignedLong", "mod", "(", "UnsignedLong", "val", ")", "{", "return", "fromLongBits", "(", "UnsignedLongs", ".", "remainder", "(", "value", ",", "checkNotNull", "(", "val", ")", ".", "value", ")", ")", ";", "}"], "docstring": "Returns this modulo {@code val}.\n\n@since 14.0", "docstring_tokens": ["Returns", "this", "modulo", "{", "@code", "val", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/primitives/UnsignedLong.java#L170-L172", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/primitives/UnsignedLong.java", "func_name": "UnsignedLong.floatValue", "original_string": "@Override\n  public float floatValue() {\n    @SuppressWarnings(\"cast\")\n    float fValue = (float) (value & UNSIGNED_MASK);\n    if (value < 0) {\n      fValue += 0x1.0p63f;\n    }\n    return fValue;\n  }", "language": "java", "code": "@Override\n  public float floatValue() {\n    @SuppressWarnings(\"cast\")\n    float fValue = (float) (value & UNSIGNED_MASK);\n    if (value < 0) {\n      fValue += 0x1.0p63f;\n    }\n    return fValue;\n  }", "code_tokens": ["@", "Override", "public", "float", "floatValue", "(", ")", "{", "@", "SuppressWarnings", "(", "\"cast\"", ")", "float", "fValue", "=", "(", "float", ")", "(", "value", "&", "UNSIGNED_MASK", ")", ";", "if", "(", "value", "<", "0", ")", "{", "fValue", "+=", "0x1", ".", "0", "p63f", ";", "}", "return", "fValue", ";", "}"], "docstring": "Returns the value of this {@code UnsignedLong} as a {@code float}, analogous to a widening\nprimitive conversion from {@code long} to {@code float}, and correctly rounded.", "docstring_tokens": ["Returns", "the", "value", "of", "this", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/primitives/UnsignedLong.java#L196-L204", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/primitives/UnsignedLong.java", "func_name": "UnsignedLong.doubleValue", "original_string": "@Override\n  public double doubleValue() {\n    @SuppressWarnings(\"cast\")\n    double dValue = (double) (value & UNSIGNED_MASK);\n    if (value < 0) {\n      dValue += 0x1.0p63;\n    }\n    return dValue;\n  }", "language": "java", "code": "@Override\n  public double doubleValue() {\n    @SuppressWarnings(\"cast\")\n    double dValue = (double) (value & UNSIGNED_MASK);\n    if (value < 0) {\n      dValue += 0x1.0p63;\n    }\n    return dValue;\n  }", "code_tokens": ["@", "Override", "public", "double", "doubleValue", "(", ")", "{", "@", "SuppressWarnings", "(", "\"cast\"", ")", "double", "dValue", "=", "(", "double", ")", "(", "value", "&", "UNSIGNED_MASK", ")", ";", "if", "(", "value", "<", "0", ")", "{", "dValue", "+=", "0x1", ".", "0", "p63", ";", "}", "return", "dValue", ";", "}"], "docstring": "Returns the value of this {@code UnsignedLong} as a {@code double}, analogous to a widening\nprimitive conversion from {@code long} to {@code double}, and correctly rounded.", "docstring_tokens": ["Returns", "the", "value", "of", "this", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/primitives/UnsignedLong.java#L210-L218", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/primitives/UnsignedLong.java", "func_name": "UnsignedLong.bigIntegerValue", "original_string": "public BigInteger bigIntegerValue() {\n    BigInteger bigInt = BigInteger.valueOf(value & UNSIGNED_MASK);\n    if (value < 0) {\n      bigInt = bigInt.setBit(Long.SIZE - 1);\n    }\n    return bigInt;\n  }", "language": "java", "code": "public BigInteger bigIntegerValue() {\n    BigInteger bigInt = BigInteger.valueOf(value & UNSIGNED_MASK);\n    if (value < 0) {\n      bigInt = bigInt.setBit(Long.SIZE - 1);\n    }\n    return bigInt;\n  }", "code_tokens": ["public", "BigInteger", "bigIntegerValue", "(", ")", "{", "BigInteger", "bigInt", "=", "BigInteger", ".", "valueOf", "(", "value", "&", "UNSIGNED_MASK", ")", ";", "if", "(", "value", "<", "0", ")", "{", "bigInt", "=", "bigInt", ".", "setBit", "(", "Long", ".", "SIZE", "-", "1", ")", ";", "}", "return", "bigInt", ";", "}"], "docstring": "Returns the value of this {@code UnsignedLong} as a {@link BigInteger}.", "docstring_tokens": ["Returns", "the", "value", "of", "this", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/primitives/UnsignedLong.java#L221-L227", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.throwIfInstanceOf", "original_string": "@GwtIncompatible // Class.cast, Class.isInstance\n  public static <X extends Throwable> void throwIfInstanceOf(\n      Throwable throwable, Class<X> declaredType) throws X {\n    checkNotNull(throwable);\n    if (declaredType.isInstance(throwable)) {\n      throw declaredType.cast(throwable);\n    }\n  }", "language": "java", "code": "@GwtIncompatible // Class.cast, Class.isInstance\n  public static <X extends Throwable> void throwIfInstanceOf(\n      Throwable throwable, Class<X> declaredType) throws X {\n    checkNotNull(throwable);\n    if (declaredType.isInstance(throwable)) {\n      throw declaredType.cast(throwable);\n    }\n  }", "code_tokens": ["@", "GwtIncompatible", "// Class.cast, Class.isInstance", "public", "static", "<", "X", "extends", "Throwable", ">", "void", "throwIfInstanceOf", "(", "Throwable", "throwable", ",", "Class", "<", "X", ">", "declaredType", ")", "throws", "X", "{", "checkNotNull", "(", "throwable", ")", ";", "if", "(", "declaredType", ".", "isInstance", "(", "throwable", ")", ")", "{", "throw", "declaredType", ".", "cast", "(", "throwable", ")", ";", "}", "}"], "docstring": "Throws {@code throwable} if it is an instance of {@code declaredType}. Example usage:\n\n<pre>\nfor (Foo foo : foos) {\ntry {\nfoo.bar();\n} catch (BarException | RuntimeException | Error t) {\nfailure = t;\n}\n}\nif (failure != null) {\nthrowIfInstanceOf(failure, BarException.class);\nthrowIfUnchecked(failure);\nthrow new AssertionError(failure);\n}\n</pre>\n\n@since 20.0", "docstring_tokens": ["Throws", "{", "@code", "throwable", "}", "if", "it", "is", "an", "instance", "of", "{", "@code", "declaredType", "}", ".", "Example", "usage", ":"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L71-L78", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.propagateIfInstanceOf", "original_string": "@Deprecated\n  @GwtIncompatible // throwIfInstanceOf\n  public static <X extends Throwable> void propagateIfInstanceOf(\n      @Nullable Throwable throwable, Class<X> declaredType) throws X {\n    if (throwable != null) {\n      throwIfInstanceOf(throwable, declaredType);\n    }\n  }", "language": "java", "code": "@Deprecated\n  @GwtIncompatible // throwIfInstanceOf\n  public static <X extends Throwable> void propagateIfInstanceOf(\n      @Nullable Throwable throwable, Class<X> declaredType) throws X {\n    if (throwable != null) {\n      throwIfInstanceOf(throwable, declaredType);\n    }\n  }", "code_tokens": ["@", "Deprecated", "@", "GwtIncompatible", "// throwIfInstanceOf", "public", "static", "<", "X", "extends", "Throwable", ">", "void", "propagateIfInstanceOf", "(", "@", "Nullable", "Throwable", "throwable", ",", "Class", "<", "X", ">", "declaredType", ")", "throws", "X", "{", "if", "(", "throwable", "!=", "null", ")", "{", "throwIfInstanceOf", "(", "throwable", ",", "declaredType", ")", ";", "}", "}"], "docstring": "Propagates {@code throwable} exactly as-is, if and only if it is an instance of {@code\ndeclaredType}. Example usage:\n\n<pre>\ntry {\nsomeMethodThatCouldThrowAnything();\n} catch (IKnowWhatToDoWithThisException e) {\nhandle(e);\n} catch (Throwable t) {\nThrowables.propagateIfInstanceOf(t, IOException.class);\nThrowables.propagateIfInstanceOf(t, SQLException.class);\nthrow Throwables.propagate(t);\n}\n</pre>\n\n@deprecated Use {@link #throwIfInstanceOf}, which has the same behavior but rejects {@code\nnull}.", "docstring_tokens": ["Propagates", "{", "@code", "throwable", "}", "exactly", "as", "-", "is", "if", "and", "only", "if", "it", "is", "an", "instance", "of", "{", "@code", "declaredType", "}", ".", "Example", "usage", ":"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L99-L106", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.throwIfUnchecked", "original_string": "public static void throwIfUnchecked(Throwable throwable) {\n    checkNotNull(throwable);\n    if (throwable instanceof RuntimeException) {\n      throw (RuntimeException) throwable;\n    }\n    if (throwable instanceof Error) {\n      throw (Error) throwable;\n    }\n  }", "language": "java", "code": "public static void throwIfUnchecked(Throwable throwable) {\n    checkNotNull(throwable);\n    if (throwable instanceof RuntimeException) {\n      throw (RuntimeException) throwable;\n    }\n    if (throwable instanceof Error) {\n      throw (Error) throwable;\n    }\n  }", "code_tokens": ["public", "static", "void", "throwIfUnchecked", "(", "Throwable", "throwable", ")", "{", "checkNotNull", "(", "throwable", ")", ";", "if", "(", "throwable", "instanceof", "RuntimeException", ")", "{", "throw", "(", "RuntimeException", ")", "throwable", ";", "}", "if", "(", "throwable", "instanceof", "Error", ")", "{", "throw", "(", "Error", ")", "throwable", ";", "}", "}"], "docstring": "Throws {@code throwable} if it is a {@link RuntimeException} or {@link Error}. Example usage:\n\n<pre>\nfor (Foo foo : foos) {\ntry {\nfoo.bar();\n} catch (RuntimeException | Error t) {\nfailure = t;\n}\n}\nif (failure != null) {\nthrowIfUnchecked(failure);\nthrow new AssertionError(failure);\n}\n</pre>\n\n@since 20.0", "docstring_tokens": ["Throws", "{", "@code", "throwable", "}", "if", "it", "is", "a", "{", "@link", "RuntimeException", "}", "or", "{", "@link", "Error", "}", ".", "Example", "usage", ":"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L127-L135", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.propagateIfPossible", "original_string": "@Deprecated\n  @GwtIncompatible\n  public static void propagateIfPossible(@Nullable Throwable throwable) {\n    if (throwable != null) {\n      throwIfUnchecked(throwable);\n    }\n  }", "language": "java", "code": "@Deprecated\n  @GwtIncompatible\n  public static void propagateIfPossible(@Nullable Throwable throwable) {\n    if (throwable != null) {\n      throwIfUnchecked(throwable);\n    }\n  }", "code_tokens": ["@", "Deprecated", "@", "GwtIncompatible", "public", "static", "void", "propagateIfPossible", "(", "@", "Nullable", "Throwable", "throwable", ")", "{", "if", "(", "throwable", "!=", "null", ")", "{", "throwIfUnchecked", "(", "throwable", ")", ";", "}", "}"], "docstring": "Propagates {@code throwable} exactly as-is, if and only if it is an instance of {@link\nRuntimeException} or {@link Error}. Example usage:\n\n<pre>\ntry {\nsomeMethodThatCouldThrowAnything();\n} catch (IKnowWhatToDoWithThisException e) {\nhandle(e);\n} catch (Throwable t) {\nThrowables.propagateIfPossible(t);\nthrow new RuntimeException(\"unexpected\", t);\n}\n</pre>\n\n@deprecated Use {@link #throwIfUnchecked}, which has the same behavior but rejects {@code\nnull}.", "docstring_tokens": ["Propagates", "{", "@code", "throwable", "}", "exactly", "as", "-", "is", "if", "and", "only", "if", "it", "is", "an", "instance", "of", "{", "@link", "RuntimeException", "}", "or", "{", "@link", "Error", "}", ".", "Example", "usage", ":"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L155-L161", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.propagateIfPossible", "original_string": "@GwtIncompatible // propagateIfInstanceOf\n  public static <X1 extends Throwable, X2 extends Throwable> void propagateIfPossible(\n      @Nullable Throwable throwable, Class<X1> declaredType1, Class<X2> declaredType2)\n      throws X1, X2 {\n    checkNotNull(declaredType2);\n    propagateIfInstanceOf(throwable, declaredType1);\n    propagateIfPossible(throwable, declaredType2);\n  }", "language": "java", "code": "@GwtIncompatible // propagateIfInstanceOf\n  public static <X1 extends Throwable, X2 extends Throwable> void propagateIfPossible(\n      @Nullable Throwable throwable, Class<X1> declaredType1, Class<X2> declaredType2)\n      throws X1, X2 {\n    checkNotNull(declaredType2);\n    propagateIfInstanceOf(throwable, declaredType1);\n    propagateIfPossible(throwable, declaredType2);\n  }", "code_tokens": ["@", "GwtIncompatible", "// propagateIfInstanceOf", "public", "static", "<", "X1", "extends", "Throwable", ",", "X2", "extends", "Throwable", ">", "void", "propagateIfPossible", "(", "@", "Nullable", "Throwable", "throwable", ",", "Class", "<", "X1", ">", "declaredType1", ",", "Class", "<", "X2", ">", "declaredType2", ")", "throws", "X1", ",", "X2", "{", "checkNotNull", "(", "declaredType2", ")", ";", "propagateIfInstanceOf", "(", "throwable", ",", "declaredType1", ")", ";", "propagateIfPossible", "(", "throwable", ",", "declaredType2", ")", ";", "}"], "docstring": "Propagates {@code throwable} exactly as-is, if and only if it is an instance of {@link\nRuntimeException}, {@link Error}, {@code declaredType1}, or {@code declaredType2}. In the\nunlikely case that you have three or more declared checked exception types, you can handle them\nall by invoking these methods repeatedly. See usage example in {@link\n#propagateIfPossible(Throwable, Class)}.\n\n@param throwable the Throwable to possibly propagate\n@param declaredType1 any checked exception type declared by the calling method\n@param declaredType2 any other checked exception type declared by the calling method", "docstring_tokens": ["Propagates", "{", "@code", "throwable", "}", "exactly", "as", "-", "is", "if", "and", "only", "if", "it", "is", "an", "instance", "of", "{", "@link", "RuntimeException", "}", "{", "@link", "Error", "}", "{", "@code", "declaredType1", "}", "or", "{", "@code", "declaredType2", "}", ".", "In", "the", "unlikely", "case", "that", "you", "have", "three", "or", "more", "declared", "checked", "exception", "types", "you", "can", "handle", "them", "all", "by", "invoking", "these", "methods", "repeatedly", ".", "See", "usage", "example", "in", "{", "@link", "#propagateIfPossible", "(", "Throwable", "Class", ")", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L199-L206", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.propagate", "original_string": "@CanIgnoreReturnValue\n  @GwtIncompatible\n  @Deprecated\n  public static RuntimeException propagate(Throwable throwable) {\n    throwIfUnchecked(throwable);\n    throw new RuntimeException(throwable);\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  @GwtIncompatible\n  @Deprecated\n  public static RuntimeException propagate(Throwable throwable) {\n    throwIfUnchecked(throwable);\n    throw new RuntimeException(throwable);\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "@", "GwtIncompatible", "@", "Deprecated", "public", "static", "RuntimeException", "propagate", "(", "Throwable", "throwable", ")", "{", "throwIfUnchecked", "(", "throwable", ")", ";", "throw", "new", "RuntimeException", "(", "throwable", ")", ";", "}"], "docstring": "Propagates {@code throwable} as-is if it is an instance of {@link RuntimeException} or {@link\nError}, or else as a last resort, wraps it in a {@code RuntimeException} and then propagates.\n\n<p>This method always throws an exception. The {@code RuntimeException} return type allows\nclient code to signal to the compiler that statements after the call are unreachable. Example\nusage:\n\n<pre>\nT doSomething() {\ntry {\nreturn someMethodThatCouldThrowAnything();\n} catch (IKnowWhatToDoWithThisException e) {\nreturn handle(e);\n} catch (Throwable t) {\nthrow Throwables.propagate(t);\n}\n}\n</pre>\n\n@param throwable the Throwable to propagate\n@return nothing will ever be returned; this return type is only for your convenience, as\nillustrated in the example above\n@deprecated Use {@code throw e} or {@code throw new RuntimeException(e)} directly, or use a\ncombination of {@link #throwIfUnchecked} and {@code throw new RuntimeException(e)}. For\nbackground on the deprecation, read <a href=\"https://goo.gl/Ivn2kc\">Why we deprecated\n{@code Throwables.propagate}</a>.", "docstring_tokens": ["Propagates", "{", "@code", "throwable", "}", "as", "-", "is", "if", "it", "is", "an", "instance", "of", "{", "@link", "RuntimeException", "}", "or", "{", "@link", "Error", "}", "or", "else", "as", "a", "last", "resort", "wraps", "it", "in", "a", "{", "@code", "RuntimeException", "}", "and", "then", "propagates", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L236-L242", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.getRootCause", "original_string": "public static Throwable getRootCause(Throwable throwable) {\n    // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n    // the slower pointer, then there's a loop.\n    Throwable slowPointer = throwable;\n    boolean advanceSlowPointer = false;\n\n    Throwable cause;\n    while ((cause = throwable.getCause()) != null) {\n      throwable = cause;\n\n      if (throwable == slowPointer) {\n        throw new IllegalArgumentException(\"Loop in causal chain detected.\", throwable);\n      }\n      if (advanceSlowPointer) {\n        slowPointer = slowPointer.getCause();\n      }\n      advanceSlowPointer = !advanceSlowPointer; // only advance every other iteration\n    }\n    return throwable;\n  }", "language": "java", "code": "public static Throwable getRootCause(Throwable throwable) {\n    // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n    // the slower pointer, then there's a loop.\n    Throwable slowPointer = throwable;\n    boolean advanceSlowPointer = false;\n\n    Throwable cause;\n    while ((cause = throwable.getCause()) != null) {\n      throwable = cause;\n\n      if (throwable == slowPointer) {\n        throw new IllegalArgumentException(\"Loop in causal chain detected.\", throwable);\n      }\n      if (advanceSlowPointer) {\n        slowPointer = slowPointer.getCause();\n      }\n      advanceSlowPointer = !advanceSlowPointer; // only advance every other iteration\n    }\n    return throwable;\n  }", "code_tokens": ["public", "static", "Throwable", "getRootCause", "(", "Throwable", "throwable", ")", "{", "// Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches", "// the slower pointer, then there's a loop.", "Throwable", "slowPointer", "=", "throwable", ";", "boolean", "advanceSlowPointer", "=", "false", ";", "Throwable", "cause", ";", "while", "(", "(", "cause", "=", "throwable", ".", "getCause", "(", ")", ")", "!=", "null", ")", "{", "throwable", "=", "cause", ";", "if", "(", "throwable", "==", "slowPointer", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"Loop in causal chain detected.\"", ",", "throwable", ")", ";", "}", "if", "(", "advanceSlowPointer", ")", "{", "slowPointer", "=", "slowPointer", ".", "getCause", "(", ")", ";", "}", "advanceSlowPointer", "=", "!", "advanceSlowPointer", ";", "// only advance every other iteration", "}", "return", "throwable", ";", "}"], "docstring": "Returns the innermost cause of {@code throwable}. The first throwable in a chain provides\ncontext from when the error or exception was initially detected. Example usage:\n\n<pre>\nassertEquals(\"Unable to assign a customer id\", Throwables.getRootCause(e).getMessage());\n</pre>\n\n@throws IllegalArgumentException if there is a loop in the causal chain", "docstring_tokens": ["Returns", "the", "innermost", "cause", "of", "{", "@code", "throwable", "}", ".", "The", "first", "throwable", "in", "a", "chain", "provides", "context", "from", "when", "the", "error", "or", "exception", "was", "initially", "detected", ".", "Example", "usage", ":"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L254-L273", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.getCausalChain", "original_string": "@Beta // TODO(kevinb): decide best return type\n  public static List<Throwable> getCausalChain(Throwable throwable) {\n    checkNotNull(throwable);\n    List<Throwable> causes = new ArrayList<>(4);\n    causes.add(throwable);\n\n    // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n    // the slower pointer, then there's a loop.\n    Throwable slowPointer = throwable;\n    boolean advanceSlowPointer = false;\n\n    Throwable cause;\n    while ((cause = throwable.getCause()) != null) {\n      throwable = cause;\n      causes.add(throwable);\n\n      if (throwable == slowPointer) {\n        throw new IllegalArgumentException(\"Loop in causal chain detected.\", throwable);\n      }\n      if (advanceSlowPointer) {\n        slowPointer = slowPointer.getCause();\n      }\n      advanceSlowPointer = !advanceSlowPointer; // only advance every other iteration\n    }\n    return Collections.unmodifiableList(causes);\n  }", "language": "java", "code": "@Beta // TODO(kevinb): decide best return type\n  public static List<Throwable> getCausalChain(Throwable throwable) {\n    checkNotNull(throwable);\n    List<Throwable> causes = new ArrayList<>(4);\n    causes.add(throwable);\n\n    // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n    // the slower pointer, then there's a loop.\n    Throwable slowPointer = throwable;\n    boolean advanceSlowPointer = false;\n\n    Throwable cause;\n    while ((cause = throwable.getCause()) != null) {\n      throwable = cause;\n      causes.add(throwable);\n\n      if (throwable == slowPointer) {\n        throw new IllegalArgumentException(\"Loop in causal chain detected.\", throwable);\n      }\n      if (advanceSlowPointer) {\n        slowPointer = slowPointer.getCause();\n      }\n      advanceSlowPointer = !advanceSlowPointer; // only advance every other iteration\n    }\n    return Collections.unmodifiableList(causes);\n  }", "code_tokens": ["@", "Beta", "// TODO(kevinb): decide best return type", "public", "static", "List", "<", "Throwable", ">", "getCausalChain", "(", "Throwable", "throwable", ")", "{", "checkNotNull", "(", "throwable", ")", ";", "List", "<", "Throwable", ">", "causes", "=", "new", "ArrayList", "<>", "(", "4", ")", ";", "causes", ".", "add", "(", "throwable", ")", ";", "// Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches", "// the slower pointer, then there's a loop.", "Throwable", "slowPointer", "=", "throwable", ";", "boolean", "advanceSlowPointer", "=", "false", ";", "Throwable", "cause", ";", "while", "(", "(", "cause", "=", "throwable", ".", "getCause", "(", ")", ")", "!=", "null", ")", "{", "throwable", "=", "cause", ";", "causes", ".", "add", "(", "throwable", ")", ";", "if", "(", "throwable", "==", "slowPointer", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"Loop in causal chain detected.\"", ",", "throwable", ")", ";", "}", "if", "(", "advanceSlowPointer", ")", "{", "slowPointer", "=", "slowPointer", ".", "getCause", "(", ")", ";", "}", "advanceSlowPointer", "=", "!", "advanceSlowPointer", ";", "// only advance every other iteration", "}", "return", "Collections", ".", "unmodifiableList", "(", "causes", ")", ";", "}"], "docstring": "Gets a {@code Throwable} cause chain as a list. The first entry in the list will be {@code\nthrowable} followed by its cause hierarchy. Note that this is a snapshot of the cause chain and\nwill not reflect any subsequent changes to the cause chain.\n\n<p>Here's an example of how it can be used to find specific types of exceptions in the cause\nchain:\n\n<pre>\nIterables.filter(Throwables.getCausalChain(e), IOException.class));\n</pre>\n\n@param throwable the non-null {@code Throwable} to extract causes from\n@return an unmodifiable list containing the cause chain starting with {@code throwable}\n@throws IllegalArgumentException if there is a loop in the causal chain", "docstring_tokens": ["Gets", "a", "{", "@code", "Throwable", "}", "cause", "chain", "as", "a", "list", ".", "The", "first", "entry", "in", "the", "list", "will", "be", "{", "@code", "throwable", "}", "followed", "by", "its", "cause", "hierarchy", ".", "Note", "that", "this", "is", "a", "snapshot", "of", "the", "cause", "chain", "and", "will", "not", "reflect", "any", "subsequent", "changes", "to", "the", "cause", "chain", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L291-L316", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.getCauseAs", "original_string": "@Beta\n  @GwtIncompatible // Class.cast(Object)\n  public static <X extends Throwable> X getCauseAs(\n      Throwable throwable, Class<X> expectedCauseType) {\n    try {\n      return expectedCauseType.cast(throwable.getCause());\n    } catch (ClassCastException e) {\n      e.initCause(throwable);\n      throw e;\n    }\n  }", "language": "java", "code": "@Beta\n  @GwtIncompatible // Class.cast(Object)\n  public static <X extends Throwable> X getCauseAs(\n      Throwable throwable, Class<X> expectedCauseType) {\n    try {\n      return expectedCauseType.cast(throwable.getCause());\n    } catch (ClassCastException e) {\n      e.initCause(throwable);\n      throw e;\n    }\n  }", "code_tokens": ["@", "Beta", "@", "GwtIncompatible", "// Class.cast(Object)", "public", "static", "<", "X", "extends", "Throwable", ">", "X", "getCauseAs", "(", "Throwable", "throwable", ",", "Class", "<", "X", ">", "expectedCauseType", ")", "{", "try", "{", "return", "expectedCauseType", ".", "cast", "(", "throwable", ".", "getCause", "(", ")", ")", ";", "}", "catch", "(", "ClassCastException", "e", ")", "{", "e", ".", "initCause", "(", "throwable", ")", ";", "throw", "e", ";", "}", "}"], "docstring": "Returns {@code throwable}'s cause, cast to {@code expectedCauseType}.\n\n<p>Prefer this method instead of manually casting an exception's cause. For example, {@code\n(IOException) e.getCause()} throws a {@link ClassCastException} that discards the original\nexception {@code e} if the cause is not an {@link IOException}, but {@code\nThrowables.getCauseAs(e, IOException.class)} keeps {@code e} as the {@link\nClassCastException}'s cause.\n\n@throws ClassCastException if the cause cannot be cast to the expected type. The {@code\nClassCastException}'s cause is {@code throwable}.\n@since 22.0", "docstring_tokens": ["Returns", "{", "@code", "throwable", "}", "s", "cause", "cast", "to", "{", "@code", "expectedCauseType", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L331-L341", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Throwables.java", "func_name": "Throwables.lazyStackTrace", "original_string": "@Beta\n  @GwtIncompatible // lazyStackTraceIsLazy, jlaStackTrace\n  // TODO(cpovirk): Consider making this available under GWT (slow implementation only).\n  public static List<StackTraceElement> lazyStackTrace(Throwable throwable) {\n    return lazyStackTraceIsLazy()\n        ? jlaStackTrace(throwable)\n        : unmodifiableList(asList(throwable.getStackTrace()));\n  }", "language": "java", "code": "@Beta\n  @GwtIncompatible // lazyStackTraceIsLazy, jlaStackTrace\n  // TODO(cpovirk): Consider making this available under GWT (slow implementation only).\n  public static List<StackTraceElement> lazyStackTrace(Throwable throwable) {\n    return lazyStackTraceIsLazy()\n        ? jlaStackTrace(throwable)\n        : unmodifiableList(asList(throwable.getStackTrace()));\n  }", "code_tokens": ["@", "Beta", "@", "GwtIncompatible", "// lazyStackTraceIsLazy, jlaStackTrace", "// TODO(cpovirk): Consider making this available under GWT (slow implementation only).", "public", "static", "List", "<", "StackTraceElement", ">", "lazyStackTrace", "(", "Throwable", "throwable", ")", "{", "return", "lazyStackTraceIsLazy", "(", ")", "?", "jlaStackTrace", "(", "throwable", ")", ":", "unmodifiableList", "(", "asList", "(", "throwable", ".", "getStackTrace", "(", ")", ")", ")", ";", "}"], "docstring": "TODO(cpovirk): Say something about the possibility that List access could fail at runtime?", "docstring_tokens": ["TODO", "(", "cpovirk", ")", ":", "Say", "something", "about", "the", "possibility", "that", "List", "access", "could", "fail", "at", "runtime?"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Throwables.java#L384-L391", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.of", "original_string": "public static Stats of(Iterable<? extends Number> values) {\n    StatsAccumulator accumulator = new StatsAccumulator();\n    accumulator.addAll(values);\n    return accumulator.snapshot();\n  }", "language": "java", "code": "public static Stats of(Iterable<? extends Number> values) {\n    StatsAccumulator accumulator = new StatsAccumulator();\n    accumulator.addAll(values);\n    return accumulator.snapshot();\n  }", "code_tokens": ["public", "static", "Stats", "of", "(", "Iterable", "<", "?", "extends", "Number", ">", "values", ")", "{", "StatsAccumulator", "accumulator", "=", "new", "StatsAccumulator", "(", ")", ";", "accumulator", ".", "addAll", "(", "values", ")", ";", "return", "accumulator", ".", "snapshot", "(", ")", ";", "}"], "docstring": "Returns statistics over a dataset containing the given values.\n\n@param values a series of values, which will be converted to {@code double} values (this may\ncause loss of precision)", "docstring_tokens": ["Returns", "statistics", "over", "a", "dataset", "containing", "the", "given", "values", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L99-L103", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.of", "original_string": "public static Stats of(int... values) {\n    StatsAccumulator acummulator = new StatsAccumulator();\n    acummulator.addAll(values);\n    return acummulator.snapshot();\n  }", "language": "java", "code": "public static Stats of(int... values) {\n    StatsAccumulator acummulator = new StatsAccumulator();\n    acummulator.addAll(values);\n    return acummulator.snapshot();\n  }", "code_tokens": ["public", "static", "Stats", "of", "(", "int", "...", "values", ")", "{", "StatsAccumulator", "acummulator", "=", "new", "StatsAccumulator", "(", ")", ";", "acummulator", ".", "addAll", "(", "values", ")", ";", "return", "acummulator", ".", "snapshot", "(", ")", ";", "}"], "docstring": "Returns statistics over a dataset containing the given values.\n\n@param values a series of values", "docstring_tokens": ["Returns", "statistics", "over", "a", "dataset", "containing", "the", "given", "values", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L133-L137", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.populationVariance", "original_string": "public double populationVariance() {\n    checkState(count > 0);\n    if (isNaN(sumOfSquaresOfDeltas)) {\n      return NaN;\n    }\n    if (count == 1) {\n      return 0.0;\n    }\n    return ensureNonNegative(sumOfSquaresOfDeltas) / count();\n  }", "language": "java", "code": "public double populationVariance() {\n    checkState(count > 0);\n    if (isNaN(sumOfSquaresOfDeltas)) {\n      return NaN;\n    }\n    if (count == 1) {\n      return 0.0;\n    }\n    return ensureNonNegative(sumOfSquaresOfDeltas) / count();\n  }", "code_tokens": ["public", "double", "populationVariance", "(", ")", "{", "checkState", "(", "count", ">", "0", ")", ";", "if", "(", "isNaN", "(", "sumOfSquaresOfDeltas", ")", ")", "{", "return", "NaN", ";", "}", "if", "(", "count", "==", "1", ")", "{", "return", "0.0", ";", "}", "return", "ensureNonNegative", "(", "sumOfSquaresOfDeltas", ")", "/", "count", "(", ")", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Variance#Population_variance\">population\nvariance</a> of the values. The count must be non-zero.\n\n<p>This is guaranteed to return zero if the dataset contains only exactly one finite value. It\nis not guaranteed to return zero when the dataset consists of the same value multiple times,\ndue to numerical errors. However, it is guaranteed never to return a negative result.\n\n<h3>Non-finite values</h3>\n\n<p>If the dataset contains any non-finite values ({@link Double#POSITIVE_INFINITY}, {@link\nDouble#NEGATIVE_INFINITY}, or {@link Double#NaN}) then the result is {@link Double#NaN}.\n\n@throws IllegalStateException if the dataset is empty", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Variance#Population_variance", ">", "population", "variance<", "/", "a", ">", "of", "the", "values", ".", "The", "count", "must", "be", "non", "-", "zero", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L213-L222", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.meanOf", "original_string": "public static double meanOf(Iterator<? extends Number> values) {\n    checkArgument(values.hasNext());\n    long count = 1;\n    double mean = values.next().doubleValue();\n    while (values.hasNext()) {\n      double value = values.next().doubleValue();\n      count++;\n      if (isFinite(value) && isFinite(mean)) {\n        // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n        mean += (value - mean) / count;\n      } else {\n        mean = calculateNewMeanNonFinite(mean, value);\n      }\n    }\n    return mean;\n  }", "language": "java", "code": "public static double meanOf(Iterator<? extends Number> values) {\n    checkArgument(values.hasNext());\n    long count = 1;\n    double mean = values.next().doubleValue();\n    while (values.hasNext()) {\n      double value = values.next().doubleValue();\n      count++;\n      if (isFinite(value) && isFinite(mean)) {\n        // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n        mean += (value - mean) / count;\n      } else {\n        mean = calculateNewMeanNonFinite(mean, value);\n      }\n    }\n    return mean;\n  }", "code_tokens": ["public", "static", "double", "meanOf", "(", "Iterator", "<", "?", "extends", "Number", ">", "values", ")", "{", "checkArgument", "(", "values", ".", "hasNext", "(", ")", ")", ";", "long", "count", "=", "1", ";", "double", "mean", "=", "values", ".", "next", "(", ")", ".", "doubleValue", "(", ")", ";", "while", "(", "values", ".", "hasNext", "(", ")", ")", "{", "double", "value", "=", "values", ".", "next", "(", ")", ".", "doubleValue", "(", ")", ";", "count", "++", ";", "if", "(", "isFinite", "(", "value", ")", "&&", "isFinite", "(", "mean", ")", ")", "{", "// Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)", "mean", "+=", "(", "value", "-", "mean", ")", "/", "count", ";", "}", "else", "{", "mean", "=", "calculateNewMeanNonFinite", "(", "mean", ",", "value", ")", ";", "}", "}", "return", "mean", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Arithmetic_mean\">arithmetic mean</a> of the\nvalues. The count must be non-zero.\n\n<p>The definition of the mean is the same as {@link Stats#mean}.\n\n@param values a series of values, which will be converted to {@code double} values (this may\ncause loss of precision)\n@throws IllegalArgumentException if the dataset is empty", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Arithmetic_mean", ">", "arithmetic", "mean<", "/", "a", ">", "of", "the", "values", ".", "The", "count", "must", "be", "non", "-", "zero", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L411-L426", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.meanOf", "original_string": "public static double meanOf(long... values) {\n    checkArgument(values.length > 0);\n    double mean = values[0];\n    for (int index = 1; index < values.length; index++) {\n      double value = values[index];\n      if (isFinite(value) && isFinite(mean)) {\n        // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n        mean += (value - mean) / (index + 1);\n      } else {\n        mean = calculateNewMeanNonFinite(mean, value);\n      }\n    }\n    return mean;\n  }", "language": "java", "code": "public static double meanOf(long... values) {\n    checkArgument(values.length > 0);\n    double mean = values[0];\n    for (int index = 1; index < values.length; index++) {\n      double value = values[index];\n      if (isFinite(value) && isFinite(mean)) {\n        // Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)\n        mean += (value - mean) / (index + 1);\n      } else {\n        mean = calculateNewMeanNonFinite(mean, value);\n      }\n    }\n    return mean;\n  }", "code_tokens": ["public", "static", "double", "meanOf", "(", "long", "...", "values", ")", "{", "checkArgument", "(", "values", ".", "length", ">", "0", ")", ";", "double", "mean", "=", "values", "[", "0", "]", ";", "for", "(", "int", "index", "=", "1", ";", "index", "<", "values", ".", "length", ";", "index", "++", ")", "{", "double", "value", "=", "values", "[", "index", "]", ";", "if", "(", "isFinite", "(", "value", ")", "&&", "isFinite", "(", "mean", ")", ")", "{", "// Art of Computer Programming vol. 2, Knuth, 4.2.2, (15)", "mean", "+=", "(", "value", "-", "mean", ")", "/", "(", "index", "+", "1", ")", ";", "}", "else", "{", "mean", "=", "calculateNewMeanNonFinite", "(", "mean", ",", "value", ")", ";", "}", "}", "return", "mean", ";", "}"], "docstring": "Returns the <a href=\"http://en.wikipedia.org/wiki/Arithmetic_mean\">arithmetic mean</a> of the\nvalues. The count must be non-zero.\n\n<p>The definition of the mean is the same as {@link Stats#mean}.\n\n@param values a series of values, which will be converted to {@code double} values (this may\ncause loss of precision for longs of magnitude over 2^53 (slightly over 9e15))\n@throws IllegalArgumentException if the dataset is empty", "docstring_tokens": ["Returns", "the", "<a", "href", "=", "http", ":", "//", "en", ".", "wikipedia", ".", "org", "/", "wiki", "/", "Arithmetic_mean", ">", "arithmetic", "mean<", "/", "a", ">", "of", "the", "values", ".", "The", "count", "must", "be", "non", "-", "zero", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L486-L499", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.toByteArray", "original_string": "public byte[] toByteArray() {\n    ByteBuffer buff = ByteBuffer.allocate(BYTES).order(ByteOrder.LITTLE_ENDIAN);\n    writeTo(buff);\n    return buff.array();\n  }", "language": "java", "code": "public byte[] toByteArray() {\n    ByteBuffer buff = ByteBuffer.allocate(BYTES).order(ByteOrder.LITTLE_ENDIAN);\n    writeTo(buff);\n    return buff.array();\n  }", "code_tokens": ["public", "byte", "[", "]", "toByteArray", "(", ")", "{", "ByteBuffer", "buff", "=", "ByteBuffer", ".", "allocate", "(", "BYTES", ")", ".", "order", "(", "ByteOrder", ".", "LITTLE_ENDIAN", ")", ";", "writeTo", "(", "buff", ")", ";", "return", "buff", ".", "array", "(", ")", ";", "}"], "docstring": "Gets a byte array representation of this instance.\n\n<p><b>Note:</b> No guarantees are made regarding stability of the representation between\nversions.", "docstring_tokens": ["Gets", "a", "byte", "array", "representation", "of", "this", "instance", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L512-L516", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.writeTo", "original_string": "void writeTo(ByteBuffer buffer) {\n    checkNotNull(buffer);\n    checkArgument(\n        buffer.remaining() >= BYTES,\n        \"Expected at least Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        buffer.remaining());\n    buffer\n        .putLong(count)\n        .putDouble(mean)\n        .putDouble(sumOfSquaresOfDeltas)\n        .putDouble(min)\n        .putDouble(max);\n  }", "language": "java", "code": "void writeTo(ByteBuffer buffer) {\n    checkNotNull(buffer);\n    checkArgument(\n        buffer.remaining() >= BYTES,\n        \"Expected at least Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        buffer.remaining());\n    buffer\n        .putLong(count)\n        .putDouble(mean)\n        .putDouble(sumOfSquaresOfDeltas)\n        .putDouble(min)\n        .putDouble(max);\n  }", "code_tokens": ["void", "writeTo", "(", "ByteBuffer", "buffer", ")", "{", "checkNotNull", "(", "buffer", ")", ";", "checkArgument", "(", "buffer", ".", "remaining", "(", ")", ">=", "BYTES", ",", "\"Expected at least Stats.BYTES = %s remaining , got %s\"", ",", "BYTES", ",", "buffer", ".", "remaining", "(", ")", ")", ";", "buffer", ".", "putLong", "(", "count", ")", ".", "putDouble", "(", "mean", ")", ".", "putDouble", "(", "sumOfSquaresOfDeltas", ")", ".", "putDouble", "(", "min", ")", ".", "putDouble", "(", "max", ")", ";", "}"], "docstring": "Writes to the given {@link ByteBuffer} a byte representation of this instance.\n\n<p><b>Note:</b> No guarantees are made regarding stability of the representation between\nversions.\n\n@param buffer A {@link ByteBuffer} with at least BYTES {@link ByteBuffer#remaining}, ordered as\n{@link ByteOrder#LITTLE_ENDIAN}, to which a BYTES-long byte representation of this instance\nis written. In the process increases the position of {@link ByteBuffer} by BYTES.", "docstring_tokens": ["Writes", "to", "the", "given", "{", "@link", "ByteBuffer", "}", "a", "byte", "representation", "of", "this", "instance", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L528-L541", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.fromByteArray", "original_string": "public static Stats fromByteArray(byte[] byteArray) {\n    checkNotNull(byteArray);\n    checkArgument(\n        byteArray.length == BYTES,\n        \"Expected Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        byteArray.length);\n    return readFrom(ByteBuffer.wrap(byteArray).order(ByteOrder.LITTLE_ENDIAN));\n  }", "language": "java", "code": "public static Stats fromByteArray(byte[] byteArray) {\n    checkNotNull(byteArray);\n    checkArgument(\n        byteArray.length == BYTES,\n        \"Expected Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        byteArray.length);\n    return readFrom(ByteBuffer.wrap(byteArray).order(ByteOrder.LITTLE_ENDIAN));\n  }", "code_tokens": ["public", "static", "Stats", "fromByteArray", "(", "byte", "[", "]", "byteArray", ")", "{", "checkNotNull", "(", "byteArray", ")", ";", "checkArgument", "(", "byteArray", ".", "length", "==", "BYTES", ",", "\"Expected Stats.BYTES = %s remaining , got %s\"", ",", "BYTES", ",", "byteArray", ".", "length", ")", ";", "return", "readFrom", "(", "ByteBuffer", ".", "wrap", "(", "byteArray", ")", ".", "order", "(", "ByteOrder", ".", "LITTLE_ENDIAN", ")", ")", ";", "}"], "docstring": "Creates a Stats instance from the given byte representation which was obtained by {@link\n#toByteArray}.\n\n<p><b>Note:</b> No guarantees are made regarding stability of the representation between\nversions.", "docstring_tokens": ["Creates", "a", "Stats", "instance", "from", "the", "given", "byte", "representation", "which", "was", "obtained", "by", "{", "@link", "#toByteArray", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L550-L558", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/math/Stats.java", "func_name": "Stats.readFrom", "original_string": "static Stats readFrom(ByteBuffer buffer) {\n    checkNotNull(buffer);\n    checkArgument(\n        buffer.remaining() >= BYTES,\n        \"Expected at least Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        buffer.remaining());\n    return new Stats(\n        buffer.getLong(),\n        buffer.getDouble(),\n        buffer.getDouble(),\n        buffer.getDouble(),\n        buffer.getDouble());\n  }", "language": "java", "code": "static Stats readFrom(ByteBuffer buffer) {\n    checkNotNull(buffer);\n    checkArgument(\n        buffer.remaining() >= BYTES,\n        \"Expected at least Stats.BYTES = %s remaining , got %s\",\n        BYTES,\n        buffer.remaining());\n    return new Stats(\n        buffer.getLong(),\n        buffer.getDouble(),\n        buffer.getDouble(),\n        buffer.getDouble(),\n        buffer.getDouble());\n  }", "code_tokens": ["static", "Stats", "readFrom", "(", "ByteBuffer", "buffer", ")", "{", "checkNotNull", "(", "buffer", ")", ";", "checkArgument", "(", "buffer", ".", "remaining", "(", ")", ">=", "BYTES", ",", "\"Expected at least Stats.BYTES = %s remaining , got %s\"", ",", "BYTES", ",", "buffer", ".", "remaining", "(", ")", ")", ";", "return", "new", "Stats", "(", "buffer", ".", "getLong", "(", ")", ",", "buffer", ".", "getDouble", "(", ")", ",", "buffer", ".", "getDouble", "(", ")", ",", "buffer", ".", "getDouble", "(", ")", ",", "buffer", ".", "getDouble", "(", ")", ")", ";", "}"], "docstring": "Creates a Stats instance from the byte representation read from the given {@link ByteBuffer}.\n\n<p><b>Note:</b> No guarantees are made regarding stability of the representation between\nversions.\n\n@param buffer A {@link ByteBuffer} with at least BYTES {@link ByteBuffer#remaining}, ordered as\n{@link ByteOrder#LITTLE_ENDIAN}, from which a BYTES-long byte representation of this\ninstance is read. In the process increases the position of {@link ByteBuffer} by BYTES.", "docstring_tokens": ["Creates", "a", "Stats", "instance", "from", "the", "byte", "representation", "read", "from", "the", "given", "{", "@link", "ByteBuffer", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/math/Stats.java#L570-L583", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.set", "original_string": "public final void set(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    longs.set(i, next);\n  }", "language": "java", "code": "public final void set(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    longs.set(i, next);\n  }", "code_tokens": ["public", "final", "void", "set", "(", "int", "i", ",", "double", "newValue", ")", "{", "long", "next", "=", "doubleToRawLongBits", "(", "newValue", ")", ";", "longs", ".", "set", "(", "i", ",", "next", ")", ";", "}"], "docstring": "Sets the element at position {@code i} to the given value.\n\n@param i the index\n@param newValue the new value", "docstring_tokens": ["Sets", "the", "element", "at", "position", "{", "@code", "i", "}", "to", "the", "given", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L104-L107", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.lazySet", "original_string": "public final void lazySet(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    longs.lazySet(i, next);\n  }", "language": "java", "code": "public final void lazySet(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    longs.lazySet(i, next);\n  }", "code_tokens": ["public", "final", "void", "lazySet", "(", "int", "i", ",", "double", "newValue", ")", "{", "long", "next", "=", "doubleToRawLongBits", "(", "newValue", ")", ";", "longs", ".", "lazySet", "(", "i", ",", "next", ")", ";", "}"], "docstring": "Eventually sets the element at position {@code i} to the given value.\n\n@param i the index\n@param newValue the new value", "docstring_tokens": ["Eventually", "sets", "the", "element", "at", "position", "{", "@code", "i", "}", "to", "the", "given", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L115-L118", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.getAndSet", "original_string": "public final double getAndSet(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    return longBitsToDouble(longs.getAndSet(i, next));\n  }", "language": "java", "code": "public final double getAndSet(int i, double newValue) {\n    long next = doubleToRawLongBits(newValue);\n    return longBitsToDouble(longs.getAndSet(i, next));\n  }", "code_tokens": ["public", "final", "double", "getAndSet", "(", "int", "i", ",", "double", "newValue", ")", "{", "long", "next", "=", "doubleToRawLongBits", "(", "newValue", ")", ";", "return", "longBitsToDouble", "(", "longs", ".", "getAndSet", "(", "i", ",", "next", ")", ")", ";", "}"], "docstring": "Atomically sets the element at position {@code i} to the given value and returns the old value.\n\n@param i the index\n@param newValue the new value\n@return the previous value", "docstring_tokens": ["Atomically", "sets", "the", "element", "at", "position", "{", "@code", "i", "}", "to", "the", "given", "value", "and", "returns", "the", "old", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L127-L130", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.compareAndSet", "original_string": "public final boolean compareAndSet(int i, double expect, double update) {\n    return longs.compareAndSet(i, doubleToRawLongBits(expect), doubleToRawLongBits(update));\n  }", "language": "java", "code": "public final boolean compareAndSet(int i, double expect, double update) {\n    return longs.compareAndSet(i, doubleToRawLongBits(expect), doubleToRawLongBits(update));\n  }", "code_tokens": ["public", "final", "boolean", "compareAndSet", "(", "int", "i", ",", "double", "expect", ",", "double", "update", ")", "{", "return", "longs", ".", "compareAndSet", "(", "i", ",", "doubleToRawLongBits", "(", "expect", ")", ",", "doubleToRawLongBits", "(", "update", ")", ")", ";", "}"], "docstring": "Atomically sets the element at position {@code i} to the given updated value if the current\nvalue is <a href=\"#bitEquals\">bitwise equal</a> to the expected value.\n\n@param i the index\n@param expect the expected value\n@param update the new value\n@return true if successful. False return indicates that the actual value was not equal to the\nexpected value.", "docstring_tokens": ["Atomically", "sets", "the", "element", "at", "position", "{", "@code", "i", "}", "to", "the", "given", "updated", "value", "if", "the", "current", "value", "is", "<a", "href", "=", "#bitEquals", ">", "bitwise", "equal<", "/", "a", ">", "to", "the", "expected", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L142-L144", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.weakCompareAndSet", "original_string": "public final boolean weakCompareAndSet(int i, double expect, double update) {\n    return longs.weakCompareAndSet(i, doubleToRawLongBits(expect), doubleToRawLongBits(update));\n  }", "language": "java", "code": "public final boolean weakCompareAndSet(int i, double expect, double update) {\n    return longs.weakCompareAndSet(i, doubleToRawLongBits(expect), doubleToRawLongBits(update));\n  }", "code_tokens": ["public", "final", "boolean", "weakCompareAndSet", "(", "int", "i", ",", "double", "expect", ",", "double", "update", ")", "{", "return", "longs", ".", "weakCompareAndSet", "(", "i", ",", "doubleToRawLongBits", "(", "expect", ")", ",", "doubleToRawLongBits", "(", "update", ")", ")", ";", "}"], "docstring": "Atomically sets the element at position {@code i} to the given updated value if the current\nvalue is <a href=\"#bitEquals\">bitwise equal</a> to the expected value.\n\n<p>May <a\nhref=\"http://download.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/package-summary.html#Spurious\">\nfail spuriously</a> and does not provide ordering guarantees, so is only rarely an appropriate\nalternative to {@code compareAndSet}.\n\n@param i the index\n@param expect the expected value\n@param update the new value\n@return true if successful", "docstring_tokens": ["Atomically", "sets", "the", "element", "at", "position", "{", "@code", "i", "}", "to", "the", "given", "updated", "value", "if", "the", "current", "value", "is", "<a", "href", "=", "#bitEquals", ">", "bitwise", "equal<", "/", "a", ">", "to", "the", "expected", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L160-L162", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.getAndAdd", "original_string": "@CanIgnoreReturnValue\n  public final double getAndAdd(int i, double delta) {\n    while (true) {\n      long current = longs.get(i);\n      double currentVal = longBitsToDouble(current);\n      double nextVal = currentVal + delta;\n      long next = doubleToRawLongBits(nextVal);\n      if (longs.compareAndSet(i, current, next)) {\n        return currentVal;\n      }\n    }\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public final double getAndAdd(int i, double delta) {\n    while (true) {\n      long current = longs.get(i);\n      double currentVal = longBitsToDouble(current);\n      double nextVal = currentVal + delta;\n      long next = doubleToRawLongBits(nextVal);\n      if (longs.compareAndSet(i, current, next)) {\n        return currentVal;\n      }\n    }\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "final", "double", "getAndAdd", "(", "int", "i", ",", "double", "delta", ")", "{", "while", "(", "true", ")", "{", "long", "current", "=", "longs", ".", "get", "(", "i", ")", ";", "double", "currentVal", "=", "longBitsToDouble", "(", "current", ")", ";", "double", "nextVal", "=", "currentVal", "+", "delta", ";", "long", "next", "=", "doubleToRawLongBits", "(", "nextVal", ")", ";", "if", "(", "longs", ".", "compareAndSet", "(", "i", ",", "current", ",", "next", ")", ")", "{", "return", "currentVal", ";", "}", "}", "}"], "docstring": "Atomically adds the given value to the element at index {@code i}.\n\n@param i the index\n@param delta the value to add\n@return the previous value", "docstring_tokens": ["Atomically", "adds", "the", "given", "value", "to", "the", "element", "at", "index", "{", "@code", "i", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L171-L182", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.writeObject", "original_string": "private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException {\n    s.defaultWriteObject();\n\n    // Write out array length\n    int length = length();\n    s.writeInt(length);\n\n    // Write out all elements in the proper order.\n    for (int i = 0; i < length; i++) {\n      s.writeDouble(get(i));\n    }\n  }", "language": "java", "code": "private void writeObject(java.io.ObjectOutputStream s) throws java.io.IOException {\n    s.defaultWriteObject();\n\n    // Write out array length\n    int length = length();\n    s.writeInt(length);\n\n    // Write out all elements in the proper order.\n    for (int i = 0; i < length; i++) {\n      s.writeDouble(get(i));\n    }\n  }", "code_tokens": ["private", "void", "writeObject", "(", "java", ".", "io", ".", "ObjectOutputStream", "s", ")", "throws", "java", ".", "io", ".", "IOException", "{", "s", ".", "defaultWriteObject", "(", ")", ";", "// Write out array length", "int", "length", "=", "length", "(", ")", ";", "s", ".", "writeInt", "(", "length", ")", ";", "// Write out all elements in the proper order.", "for", "(", "int", "i", "=", "0", ";", "i", "<", "length", ";", "i", "++", ")", "{", "s", ".", "writeDouble", "(", "get", "(", "i", ")", ")", ";", "}", "}"], "docstring": "Saves the state to a stream (that is, serializes it).\n\n@serialData The length of the array is emitted (int), followed by all of its elements (each a\n{@code double}) in the proper order.", "docstring_tokens": ["Saves", "the", "state", "to", "a", "stream", "(", "that", "is", "serializes", "it", ")", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L234-L245", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java", "func_name": "AtomicDoubleArray.readObject", "original_string": "private void readObject(java.io.ObjectInputStream s)\n      throws java.io.IOException, ClassNotFoundException {\n    s.defaultReadObject();\n\n    int length = s.readInt();\n    ImmutableLongArray.Builder builder = ImmutableLongArray.builder();\n    for (int i = 0; i < length; i++) {\n      builder.add(doubleToRawLongBits(s.readDouble()));\n    }\n    this.longs = new AtomicLongArray(builder.build().toArray());\n  }", "language": "java", "code": "private void readObject(java.io.ObjectInputStream s)\n      throws java.io.IOException, ClassNotFoundException {\n    s.defaultReadObject();\n\n    int length = s.readInt();\n    ImmutableLongArray.Builder builder = ImmutableLongArray.builder();\n    for (int i = 0; i < length; i++) {\n      builder.add(doubleToRawLongBits(s.readDouble()));\n    }\n    this.longs = new AtomicLongArray(builder.build().toArray());\n  }", "code_tokens": ["private", "void", "readObject", "(", "java", ".", "io", ".", "ObjectInputStream", "s", ")", "throws", "java", ".", "io", ".", "IOException", ",", "ClassNotFoundException", "{", "s", ".", "defaultReadObject", "(", ")", ";", "int", "length", "=", "s", ".", "readInt", "(", ")", ";", "ImmutableLongArray", ".", "Builder", "builder", "=", "ImmutableLongArray", ".", "builder", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "length", ";", "i", "++", ")", "{", "builder", ".", "add", "(", "doubleToRawLongBits", "(", "s", ".", "readDouble", "(", ")", ")", ")", ";", "}", "this", ".", "longs", "=", "new", "AtomicLongArray", "(", "builder", ".", "build", "(", ")", ".", "toArray", "(", ")", ")", ";", "}"], "docstring": "Reconstitutes the instance from a stream (that is, deserializes it).", "docstring_tokens": ["Reconstitutes", "the", "instance", "from", "a", "stream", "(", "that", "is", "deserializes", "it", ")", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/util/concurrent/AtomicDoubleArray.java#L248-L258", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/EndpointPair.java", "func_name": "EndpointPair.ordered", "original_string": "public static <N> EndpointPair<N> ordered(N source, N target) {\n    return new Ordered<N>(source, target);\n  }", "language": "java", "code": "public static <N> EndpointPair<N> ordered(N source, N target) {\n    return new Ordered<N>(source, target);\n  }", "code_tokens": ["public", "static", "<", "N", ">", "EndpointPair", "<", "N", ">", "ordered", "(", "N", "source", ",", "N", "target", ")", "{", "return", "new", "Ordered", "<", "N", ">", "(", "source", ",", "target", ")", ";", "}"], "docstring": "Returns an {@link EndpointPair} representing the endpoints of a directed edge.", "docstring_tokens": ["Returns", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/EndpointPair.java#L52-L54", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/EndpointPair.java", "func_name": "EndpointPair.unordered", "original_string": "public static <N> EndpointPair<N> unordered(N nodeU, N nodeV) {\n    // Swap nodes on purpose to prevent callers from relying on the \"ordering\" of an unordered pair.\n    return new Unordered<N>(nodeV, nodeU);\n  }", "language": "java", "code": "public static <N> EndpointPair<N> unordered(N nodeU, N nodeV) {\n    // Swap nodes on purpose to prevent callers from relying on the \"ordering\" of an unordered pair.\n    return new Unordered<N>(nodeV, nodeU);\n  }", "code_tokens": ["public", "static", "<", "N", ">", "EndpointPair", "<", "N", ">", "unordered", "(", "N", "nodeU", ",", "N", "nodeV", ")", "{", "// Swap nodes on purpose to prevent callers from relying on the \"ordering\" of an unordered pair.", "return", "new", "Unordered", "<", "N", ">", "(", "nodeV", ",", "nodeU", ")", ";", "}"], "docstring": "Returns an {@link EndpointPair} representing the endpoints of an undirected edge.", "docstring_tokens": ["Returns", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/EndpointPair.java#L57-L60", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/EndpointPair.java", "func_name": "EndpointPair.of", "original_string": "static <N> EndpointPair<N> of(Graph<?> graph, N nodeU, N nodeV) {\n    return graph.isDirected() ? ordered(nodeU, nodeV) : unordered(nodeU, nodeV);\n  }", "language": "java", "code": "static <N> EndpointPair<N> of(Graph<?> graph, N nodeU, N nodeV) {\n    return graph.isDirected() ? ordered(nodeU, nodeV) : unordered(nodeU, nodeV);\n  }", "code_tokens": ["static", "<", "N", ">", "EndpointPair", "<", "N", ">", "of", "(", "Graph", "<", "?", ">", "graph", ",", "N", "nodeU", ",", "N", "nodeV", ")", "{", "return", "graph", ".", "isDirected", "(", ")", "?", "ordered", "(", "nodeU", ",", "nodeV", ")", ":", "unordered", "(", "nodeU", ",", "nodeV", ")", ";", "}"], "docstring": "Returns an {@link EndpointPair} representing the endpoints of an edge in {@code graph}.", "docstring_tokens": ["Returns", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/EndpointPair.java#L63-L65", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/EndpointPair.java", "func_name": "EndpointPair.of", "original_string": "static <N> EndpointPair<N> of(Network<?, ?> network, N nodeU, N nodeV) {\n    return network.isDirected() ? ordered(nodeU, nodeV) : unordered(nodeU, nodeV);\n  }", "language": "java", "code": "static <N> EndpointPair<N> of(Network<?, ?> network, N nodeU, N nodeV) {\n    return network.isDirected() ? ordered(nodeU, nodeV) : unordered(nodeU, nodeV);\n  }", "code_tokens": ["static", "<", "N", ">", "EndpointPair", "<", "N", ">", "of", "(", "Network", "<", "?", ",", "?", ">", "network", ",", "N", "nodeU", ",", "N", "nodeV", ")", "{", "return", "network", ".", "isDirected", "(", ")", "?", "ordered", "(", "nodeU", ",", "nodeV", ")", ":", "unordered", "(", "nodeU", ",", "nodeV", ")", ";", "}"], "docstring": "Returns an {@link EndpointPair} representing the endpoints of an edge in {@code network}.", "docstring_tokens": ["Returns", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/EndpointPair.java#L68-L70", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/graph/EndpointPair.java", "func_name": "EndpointPair.adjacentNode", "original_string": "public final N adjacentNode(Object node) {\n    if (node.equals(nodeU)) {\n      return nodeV;\n    } else if (node.equals(nodeV)) {\n      return nodeU;\n    } else {\n      throw new IllegalArgumentException(\"EndpointPair \" + this + \" does not contain node \" + node);\n    }\n  }", "language": "java", "code": "public final N adjacentNode(Object node) {\n    if (node.equals(nodeU)) {\n      return nodeV;\n    } else if (node.equals(nodeV)) {\n      return nodeU;\n    } else {\n      throw new IllegalArgumentException(\"EndpointPair \" + this + \" does not contain node \" + node);\n    }\n  }", "code_tokens": ["public", "final", "N", "adjacentNode", "(", "Object", "node", ")", "{", "if", "(", "node", ".", "equals", "(", "nodeU", ")", ")", "{", "return", "nodeV", ";", "}", "else", "if", "(", "node", ".", "equals", "(", "nodeV", ")", ")", "{", "return", "nodeU", ";", "}", "else", "{", "throw", "new", "IllegalArgumentException", "(", "\"EndpointPair \"", "+", "this", "+", "\" does not contain node \"", "+", "node", ")", ";", "}", "}"], "docstring": "Returns the node that is adjacent to {@code node} along the origin edge.\n\n@throws IllegalArgumentException if this {@link EndpointPair} does not contain {@code node}", "docstring_tokens": ["Returns", "the", "node", "that", "is", "adjacent", "to", "{", "@code", "node", "}", "along", "the", "origin", "edge", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/graph/EndpointPair.java#L107-L115", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Stopwatch.java", "func_name": "Stopwatch.start", "original_string": "@CanIgnoreReturnValue\n  public Stopwatch start() {\n    checkState(!isRunning, \"This stopwatch is already running.\");\n    isRunning = true;\n    startTick = ticker.read();\n    return this;\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  public Stopwatch start() {\n    checkState(!isRunning, \"This stopwatch is already running.\");\n    isRunning = true;\n    startTick = ticker.read();\n    return this;\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "public", "Stopwatch", "start", "(", ")", "{", "checkState", "(", "!", "isRunning", ",", "\"This stopwatch is already running.\"", ")", ";", "isRunning", "=", "true", ";", "startTick", "=", "ticker", ".", "read", "(", ")", ";", "return", "this", ";", "}"], "docstring": "Starts the stopwatch.\n\n@return this {@code Stopwatch} instance\n@throws IllegalStateException if the stopwatch is already running.", "docstring_tokens": ["Starts", "the", "stopwatch", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Stopwatch.java#L148-L154", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.create", "original_string": "public static <E> ConcurrentHashMultiset<E> create(Iterable<? extends E> elements) {\n    ConcurrentHashMultiset<E> multiset = ConcurrentHashMultiset.create();\n    Iterables.addAll(multiset, elements);\n    return multiset;\n  }", "language": "java", "code": "public static <E> ConcurrentHashMultiset<E> create(Iterable<? extends E> elements) {\n    ConcurrentHashMultiset<E> multiset = ConcurrentHashMultiset.create();\n    Iterables.addAll(multiset, elements);\n    return multiset;\n  }", "code_tokens": ["public", "static", "<", "E", ">", "ConcurrentHashMultiset", "<", "E", ">", "create", "(", "Iterable", "<", "?", "extends", "E", ">", "elements", ")", "{", "ConcurrentHashMultiset", "<", "E", ">", "multiset", "=", "ConcurrentHashMultiset", ".", "create", "(", ")", ";", "Iterables", ".", "addAll", "(", "multiset", ",", "elements", ")", ";", "return", "multiset", ";", "}"], "docstring": "Creates a new {@code ConcurrentHashMultiset} containing the specified elements, using the\ndefault initial capacity, load factor, and concurrency settings.\n\n<p>This implementation is highly efficient when {@code elements} is itself a {@link Multiset}.\n\n@param elements the elements that the multiset should contain", "docstring_tokens": ["Creates", "a", "new", "{", "@code", "ConcurrentHashMultiset", "}", "containing", "the", "specified", "elements", "using", "the", "default", "initial", "capacity", "load", "factor", "and", "concurrency", "settings", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L100-L104", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.create", "original_string": "@Beta\n  public static <E> ConcurrentHashMultiset<E> create(ConcurrentMap<E, AtomicInteger> countMap) {\n    return new ConcurrentHashMultiset<E>(countMap);\n  }", "language": "java", "code": "@Beta\n  public static <E> ConcurrentHashMultiset<E> create(ConcurrentMap<E, AtomicInteger> countMap) {\n    return new ConcurrentHashMultiset<E>(countMap);\n  }", "code_tokens": ["@", "Beta", "public", "static", "<", "E", ">", "ConcurrentHashMultiset", "<", "E", ">", "create", "(", "ConcurrentMap", "<", "E", ",", "AtomicInteger", ">", "countMap", ")", "{", "return", "new", "ConcurrentHashMultiset", "<", "E", ">", "(", "countMap", ")", ";", "}"], "docstring": "Creates a new, empty {@code ConcurrentHashMultiset} using {@code countMap} as the internal\nbacking map.\n\n<p>This instance will assume ownership of {@code countMap}, and other code should not maintain\nreferences to the map or modify it in any way.\n\n<p>The returned multiset is serializable if the input map is.\n\n@param countMap backing map for storing the elements in the multiset and their counts. It must\nbe empty.\n@throws IllegalArgumentException if {@code countMap} is not empty\n@since 20.0", "docstring_tokens": ["Creates", "a", "new", "empty", "{", "@code", "ConcurrentHashMultiset", "}", "using", "{", "@code", "countMap", "}", "as", "the", "internal", "backing", "map", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L120-L123", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.count", "original_string": "@Override\n  public int count(@NullableDecl Object element) {\n    AtomicInteger existingCounter = Maps.safeGet(countMap, element);\n    return (existingCounter == null) ? 0 : existingCounter.get();\n  }", "language": "java", "code": "@Override\n  public int count(@NullableDecl Object element) {\n    AtomicInteger existingCounter = Maps.safeGet(countMap, element);\n    return (existingCounter == null) ? 0 : existingCounter.get();\n  }", "code_tokens": ["@", "Override", "public", "int", "count", "(", "@", "NullableDecl", "Object", "element", ")", "{", "AtomicInteger", "existingCounter", "=", "Maps", ".", "safeGet", "(", "countMap", ",", "element", ")", ";", "return", "(", "existingCounter", "==", "null", ")", "?", "0", ":", "existingCounter", ".", "get", "(", ")", ";", "}"], "docstring": "Returns the number of occurrences of {@code element} in this multiset.\n\n@param element the element to look for\n@return the nonnegative number of occurrences of the element", "docstring_tokens": ["Returns", "the", "number", "of", "occurrences", "of", "{", "@code", "element", "}", "in", "this", "multiset", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L139-L143", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.size", "original_string": "@Override\n  public int size() {\n    long sum = 0L;\n    for (AtomicInteger value : countMap.values()) {\n      sum += value.get();\n    }\n    return Ints.saturatedCast(sum);\n  }", "language": "java", "code": "@Override\n  public int size() {\n    long sum = 0L;\n    for (AtomicInteger value : countMap.values()) {\n      sum += value.get();\n    }\n    return Ints.saturatedCast(sum);\n  }", "code_tokens": ["@", "Override", "public", "int", "size", "(", ")", "{", "long", "sum", "=", "0L", ";", "for", "(", "AtomicInteger", "value", ":", "countMap", ".", "values", "(", ")", ")", "{", "sum", "+=", "value", ".", "get", "(", ")", ";", "}", "return", "Ints", ".", "saturatedCast", "(", "sum", ")", ";", "}"], "docstring": "{@inheritDoc}\n\n<p>If the data in the multiset is modified by any other threads during this method, it is\nundefined which (if any) of these modifications will be reflected in the result.", "docstring_tokens": ["{", "@inheritDoc", "}"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L151-L158", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.snapshot", "original_string": "private List<E> snapshot() {\n    List<E> list = Lists.newArrayListWithExpectedSize(size());\n    for (Multiset.Entry<E> entry : entrySet()) {\n      E element = entry.getElement();\n      for (int i = entry.getCount(); i > 0; i--) {\n        list.add(element);\n      }\n    }\n    return list;\n  }", "language": "java", "code": "private List<E> snapshot() {\n    List<E> list = Lists.newArrayListWithExpectedSize(size());\n    for (Multiset.Entry<E> entry : entrySet()) {\n      E element = entry.getElement();\n      for (int i = entry.getCount(); i > 0; i--) {\n        list.add(element);\n      }\n    }\n    return list;\n  }", "code_tokens": ["private", "List", "<", "E", ">", "snapshot", "(", ")", "{", "List", "<", "E", ">", "list", "=", "Lists", ".", "newArrayListWithExpectedSize", "(", "size", "(", ")", ")", ";", "for", "(", "Multiset", ".", "Entry", "<", "E", ">", "entry", ":", "entrySet", "(", ")", ")", "{", "E", "element", "=", "entry", ".", "getElement", "(", ")", ";", "for", "(", "int", "i", "=", "entry", ".", "getCount", "(", ")", ";", "i", ">", "0", ";", "i", "--", ")", "{", "list", ".", "add", "(", "element", ")", ";", "}", "}", "return", "list", ";", "}"], "docstring": "/*\nWe'd love to use 'new ArrayList(this)' or 'list.addAll(this)', but\neither of these would recurse back to us again!", "docstring_tokens": ["/", "*", "We", "d", "love", "to", "use", "new", "ArrayList", "(", "this", ")", "or", "list", ".", "addAll", "(", "this", ")", "but", "either", "of", "these", "would", "recurse", "back", "to", "us", "again!"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L179-L188", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.add", "original_string": "@CanIgnoreReturnValue\n  @Override\n  public int add(E element, int occurrences) {\n    checkNotNull(element);\n    if (occurrences == 0) {\n      return count(element);\n    }\n    CollectPreconditions.checkPositive(occurrences, \"occurences\");\n\n    while (true) {\n      AtomicInteger existingCounter = Maps.safeGet(countMap, element);\n      if (existingCounter == null) {\n        existingCounter = countMap.putIfAbsent(element, new AtomicInteger(occurrences));\n        if (existingCounter == null) {\n          return 0;\n        }\n        // existingCounter != null: fall through to operate against the existing AtomicInteger\n      }\n\n      while (true) {\n        int oldValue = existingCounter.get();\n        if (oldValue != 0) {\n          try {\n            int newValue = IntMath.checkedAdd(oldValue, occurrences);\n            if (existingCounter.compareAndSet(oldValue, newValue)) {\n              // newValue can't == 0, so no need to check & remove\n              return oldValue;\n            }\n          } catch (ArithmeticException overflow) {\n            throw new IllegalArgumentException(\n                \"Overflow adding \" + occurrences + \" occurrences to a count of \" + oldValue);\n          }\n        } else {\n          // In the case of a concurrent remove, we might observe a zero value, which means another\n          // thread is about to remove (element, existingCounter) from the map. Rather than wait,\n          // we can just do that work here.\n          AtomicInteger newCounter = new AtomicInteger(occurrences);\n          if ((countMap.putIfAbsent(element, newCounter) == null)\n              || countMap.replace(element, existingCounter, newCounter)) {\n            return 0;\n          }\n          break;\n        }\n      }\n\n      // If we're still here, there was a race, so just try again.\n    }\n  }", "language": "java", "code": "@CanIgnoreReturnValue\n  @Override\n  public int add(E element, int occurrences) {\n    checkNotNull(element);\n    if (occurrences == 0) {\n      return count(element);\n    }\n    CollectPreconditions.checkPositive(occurrences, \"occurences\");\n\n    while (true) {\n      AtomicInteger existingCounter = Maps.safeGet(countMap, element);\n      if (existingCounter == null) {\n        existingCounter = countMap.putIfAbsent(element, new AtomicInteger(occurrences));\n        if (existingCounter == null) {\n          return 0;\n        }\n        // existingCounter != null: fall through to operate against the existing AtomicInteger\n      }\n\n      while (true) {\n        int oldValue = existingCounter.get();\n        if (oldValue != 0) {\n          try {\n            int newValue = IntMath.checkedAdd(oldValue, occurrences);\n            if (existingCounter.compareAndSet(oldValue, newValue)) {\n              // newValue can't == 0, so no need to check & remove\n              return oldValue;\n            }\n          } catch (ArithmeticException overflow) {\n            throw new IllegalArgumentException(\n                \"Overflow adding \" + occurrences + \" occurrences to a count of \" + oldValue);\n          }\n        } else {\n          // In the case of a concurrent remove, we might observe a zero value, which means another\n          // thread is about to remove (element, existingCounter) from the map. Rather than wait,\n          // we can just do that work here.\n          AtomicInteger newCounter = new AtomicInteger(occurrences);\n          if ((countMap.putIfAbsent(element, newCounter) == null)\n              || countMap.replace(element, existingCounter, newCounter)) {\n            return 0;\n          }\n          break;\n        }\n      }\n\n      // If we're still here, there was a race, so just try again.\n    }\n  }", "code_tokens": ["@", "CanIgnoreReturnValue", "@", "Override", "public", "int", "add", "(", "E", "element", ",", "int", "occurrences", ")", "{", "checkNotNull", "(", "element", ")", ";", "if", "(", "occurrences", "==", "0", ")", "{", "return", "count", "(", "element", ")", ";", "}", "CollectPreconditions", ".", "checkPositive", "(", "occurrences", ",", "\"occurences\"", ")", ";", "while", "(", "true", ")", "{", "AtomicInteger", "existingCounter", "=", "Maps", ".", "safeGet", "(", "countMap", ",", "element", ")", ";", "if", "(", "existingCounter", "==", "null", ")", "{", "existingCounter", "=", "countMap", ".", "putIfAbsent", "(", "element", ",", "new", "AtomicInteger", "(", "occurrences", ")", ")", ";", "if", "(", "existingCounter", "==", "null", ")", "{", "return", "0", ";", "}", "// existingCounter != null: fall through to operate against the existing AtomicInteger", "}", "while", "(", "true", ")", "{", "int", "oldValue", "=", "existingCounter", ".", "get", "(", ")", ";", "if", "(", "oldValue", "!=", "0", ")", "{", "try", "{", "int", "newValue", "=", "IntMath", ".", "checkedAdd", "(", "oldValue", ",", "occurrences", ")", ";", "if", "(", "existingCounter", ".", "compareAndSet", "(", "oldValue", ",", "newValue", ")", ")", "{", "// newValue can't == 0, so no need to check & remove", "return", "oldValue", ";", "}", "}", "catch", "(", "ArithmeticException", "overflow", ")", "{", "throw", "new", "IllegalArgumentException", "(", "\"Overflow adding \"", "+", "occurrences", "+", "\" occurrences to a count of \"", "+", "oldValue", ")", ";", "}", "}", "else", "{", "// In the case of a concurrent remove, we might observe a zero value, which means another", "// thread is about to remove (element, existingCounter) from the map. Rather than wait,", "// we can just do that work here.", "AtomicInteger", "newCounter", "=", "new", "AtomicInteger", "(", "occurrences", ")", ";", "if", "(", "(", "countMap", ".", "putIfAbsent", "(", "element", ",", "newCounter", ")", "==", "null", ")", "||", "countMap", ".", "replace", "(", "element", ",", "existingCounter", ",", "newCounter", ")", ")", "{", "return", "0", ";", "}", "break", ";", "}", "}", "// If we're still here, there was a race, so just try again.", "}", "}"], "docstring": "Adds a number of occurrences of the specified element to this multiset.\n\n@param element the element to add\n@param occurrences the number of occurrences to add\n@return the previous count of the element before the operation; possibly zero\n@throws IllegalArgumentException if {@code occurrences} is negative, or if the resulting amount\nwould exceed {@link Integer#MAX_VALUE}", "docstring_tokens": ["Adds", "a", "number", "of", "occurrences", "of", "the", "specified", "element", "to", "this", "multiset", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L201-L248", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java", "func_name": "ConcurrentHashMultiset.createElementSet", "original_string": "@Override\n  Set<E> createElementSet() {\n    final Set<E> delegate = countMap.keySet();\n    return new ForwardingSet<E>() {\n      @Override\n      protected Set<E> delegate() {\n        return delegate;\n      }\n\n      @Override\n      public boolean contains(@NullableDecl Object object) {\n        return object != null && Collections2.safeContains(delegate, object);\n      }\n\n      @Override\n      public boolean containsAll(Collection<?> collection) {\n        return standardContainsAll(collection);\n      }\n\n      @Override\n      public boolean remove(Object object) {\n        return object != null && Collections2.safeRemove(delegate, object);\n      }\n\n      @Override\n      public boolean removeAll(Collection<?> c) {\n        return standardRemoveAll(c);\n      }\n    };\n  }", "language": "java", "code": "@Override\n  Set<E> createElementSet() {\n    final Set<E> delegate = countMap.keySet();\n    return new ForwardingSet<E>() {\n      @Override\n      protected Set<E> delegate() {\n        return delegate;\n      }\n\n      @Override\n      public boolean contains(@NullableDecl Object object) {\n        return object != null && Collections2.safeContains(delegate, object);\n      }\n\n      @Override\n      public boolean containsAll(Collection<?> collection) {\n        return standardContainsAll(collection);\n      }\n\n      @Override\n      public boolean remove(Object object) {\n        return object != null && Collections2.safeRemove(delegate, object);\n      }\n\n      @Override\n      public boolean removeAll(Collection<?> c) {\n        return standardRemoveAll(c);\n      }\n    };\n  }", "code_tokens": ["@", "Override", "Set", "<", "E", ">", "createElementSet", "(", ")", "{", "final", "Set", "<", "E", ">", "delegate", "=", "countMap", ".", "keySet", "(", ")", ";", "return", "new", "ForwardingSet", "<", "E", ">", "(", ")", "{", "@", "Override", "protected", "Set", "<", "E", ">", "delegate", "(", ")", "{", "return", "delegate", ";", "}", "@", "Override", "public", "boolean", "contains", "(", "@", "NullableDecl", "Object", "object", ")", "{", "return", "object", "!=", "null", "&&", "Collections2", ".", "safeContains", "(", "delegate", ",", "object", ")", ";", "}", "@", "Override", "public", "boolean", "containsAll", "(", "Collection", "<", "?", ">", "collection", ")", "{", "return", "standardContainsAll", "(", "collection", ")", ";", "}", "@", "Override", "public", "boolean", "remove", "(", "Object", "object", ")", "{", "return", "object", "!=", "null", "&&", "Collections2", ".", "safeRemove", "(", "delegate", ",", "object", ")", ";", "}", "@", "Override", "public", "boolean", "removeAll", "(", "Collection", "<", "?", ">", "c", ")", "{", "return", "standardRemoveAll", "(", "c", ")", ";", "}", "}", ";", "}"], "docstring": "Views", "docstring_tokens": ["Views"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/ConcurrentHashMultiset.java#L447-L476", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.insertEntry", "original_string": "void insertEntry(int entryIndex, E object, int hash) {\n    this.entries[entryIndex] = ((long) hash << 32) | (NEXT_MASK & UNSET);\n    this.elements[entryIndex] = object;\n  }", "language": "java", "code": "void insertEntry(int entryIndex, E object, int hash) {\n    this.entries[entryIndex] = ((long) hash << 32) | (NEXT_MASK & UNSET);\n    this.elements[entryIndex] = object;\n  }", "code_tokens": ["void", "insertEntry", "(", "int", "entryIndex", ",", "E", "object", ",", "int", "hash", ")", "{", "this", ".", "entries", "[", "entryIndex", "]", "=", "(", "(", "long", ")", "hash", "<<", "32", ")", "|", "(", "NEXT_MASK", "&", "UNSET", ")", ";", "this", ".", "elements", "[", "entryIndex", "]", "=", "object", ";", "}"], "docstring": "Creates a fresh entry with the specified object at the specified position in the entry arrays.", "docstring_tokens": ["Creates", "a", "fresh", "entry", "with", "the", "specified", "object", "at", "the", "specified", "position", "in", "the", "entry", "arrays", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L277-L280", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.resizeMeMaybe", "original_string": "private void resizeMeMaybe(int newSize) {\n    int entriesSize = entries.length;\n    if (newSize > entriesSize) {\n      int newCapacity = entriesSize + Math.max(1, entriesSize >>> 1);\n      if (newCapacity < 0) {\n        newCapacity = Integer.MAX_VALUE;\n      }\n      if (newCapacity != entriesSize) {\n        resizeEntries(newCapacity);\n      }\n    }\n  }", "language": "java", "code": "private void resizeMeMaybe(int newSize) {\n    int entriesSize = entries.length;\n    if (newSize > entriesSize) {\n      int newCapacity = entriesSize + Math.max(1, entriesSize >>> 1);\n      if (newCapacity < 0) {\n        newCapacity = Integer.MAX_VALUE;\n      }\n      if (newCapacity != entriesSize) {\n        resizeEntries(newCapacity);\n      }\n    }\n  }", "code_tokens": ["private", "void", "resizeMeMaybe", "(", "int", "newSize", ")", "{", "int", "entriesSize", "=", "entries", ".", "length", ";", "if", "(", "newSize", ">", "entriesSize", ")", "{", "int", "newCapacity", "=", "entriesSize", "+", "Math", ".", "max", "(", "1", ",", "entriesSize", ">>>", "1", ")", ";", "if", "(", "newCapacity", "<", "0", ")", "{", "newCapacity", "=", "Integer", ".", "MAX_VALUE", ";", "}", "if", "(", "newCapacity", "!=", "entriesSize", ")", "{", "resizeEntries", "(", "newCapacity", ")", ";", "}", "}", "}"], "docstring": "Resizes the entries storage if necessary.", "docstring_tokens": ["Resizes", "the", "entries", "storage", "if", "necessary", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L283-L294", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.resizeEntries", "original_string": "void resizeEntries(int newCapacity) {\n    this.elements = Arrays.copyOf(elements, newCapacity);\n    long[] entries = this.entries;\n    int oldCapacity = entries.length;\n    entries = Arrays.copyOf(entries, newCapacity);\n    if (newCapacity > oldCapacity) {\n      Arrays.fill(entries, oldCapacity, newCapacity, UNSET);\n    }\n    this.entries = entries;\n  }", "language": "java", "code": "void resizeEntries(int newCapacity) {\n    this.elements = Arrays.copyOf(elements, newCapacity);\n    long[] entries = this.entries;\n    int oldCapacity = entries.length;\n    entries = Arrays.copyOf(entries, newCapacity);\n    if (newCapacity > oldCapacity) {\n      Arrays.fill(entries, oldCapacity, newCapacity, UNSET);\n    }\n    this.entries = entries;\n  }", "code_tokens": ["void", "resizeEntries", "(", "int", "newCapacity", ")", "{", "this", ".", "elements", "=", "Arrays", ".", "copyOf", "(", "elements", ",", "newCapacity", ")", ";", "long", "[", "]", "entries", "=", "this", ".", "entries", ";", "int", "oldCapacity", "=", "entries", ".", "length", ";", "entries", "=", "Arrays", ".", "copyOf", "(", "entries", ",", "newCapacity", ")", ";", "if", "(", "newCapacity", ">", "oldCapacity", ")", "{", "Arrays", ".", "fill", "(", "entries", ",", "oldCapacity", ",", "newCapacity", ",", "UNSET", ")", ";", "}", "this", ".", "entries", "=", "entries", ";", "}"], "docstring": "Resizes the internal entries array to the specified capacity, which may be greater or less than\nthe current capacity.", "docstring_tokens": ["Resizes", "the", "internal", "entries", "array", "to", "the", "specified", "capacity", "which", "may", "be", "greater", "or", "less", "than", "the", "current", "capacity", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L300-L309", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.moveLastEntry", "original_string": "void moveLastEntry(int dstIndex) {\n    int srcIndex = size() - 1;\n    if (dstIndex < srcIndex) {\n      // move last entry to deleted spot\n      elements[dstIndex] = elements[srcIndex];\n      elements[srcIndex] = null;\n\n      // move the last entry to the removed spot, just like we moved the element\n      long lastEntry = entries[srcIndex];\n      entries[dstIndex] = lastEntry;\n      entries[srcIndex] = UNSET;\n\n      // also need to update whoever's \"next\" pointer was pointing to the last entry place\n      // reusing \"tableIndex\" and \"next\"; these variables were no longer needed\n      int tableIndex = getHash(lastEntry) & hashTableMask();\n      int lastNext = table[tableIndex];\n      if (lastNext == srcIndex) {\n        // we need to update the root pointer\n        table[tableIndex] = dstIndex;\n      } else {\n        // we need to update a pointer in an entry\n        int previous;\n        long entry;\n        do {\n          previous = lastNext;\n          lastNext = getNext(entry = entries[lastNext]);\n        } while (lastNext != srcIndex);\n        // here, entries[previous] points to the old entry location; update it\n        entries[previous] = swapNext(entry, dstIndex);\n      }\n    } else {\n      elements[dstIndex] = null;\n      entries[dstIndex] = UNSET;\n    }\n  }", "language": "java", "code": "void moveLastEntry(int dstIndex) {\n    int srcIndex = size() - 1;\n    if (dstIndex < srcIndex) {\n      // move last entry to deleted spot\n      elements[dstIndex] = elements[srcIndex];\n      elements[srcIndex] = null;\n\n      // move the last entry to the removed spot, just like we moved the element\n      long lastEntry = entries[srcIndex];\n      entries[dstIndex] = lastEntry;\n      entries[srcIndex] = UNSET;\n\n      // also need to update whoever's \"next\" pointer was pointing to the last entry place\n      // reusing \"tableIndex\" and \"next\"; these variables were no longer needed\n      int tableIndex = getHash(lastEntry) & hashTableMask();\n      int lastNext = table[tableIndex];\n      if (lastNext == srcIndex) {\n        // we need to update the root pointer\n        table[tableIndex] = dstIndex;\n      } else {\n        // we need to update a pointer in an entry\n        int previous;\n        long entry;\n        do {\n          previous = lastNext;\n          lastNext = getNext(entry = entries[lastNext]);\n        } while (lastNext != srcIndex);\n        // here, entries[previous] points to the old entry location; update it\n        entries[previous] = swapNext(entry, dstIndex);\n      }\n    } else {\n      elements[dstIndex] = null;\n      entries[dstIndex] = UNSET;\n    }\n  }", "code_tokens": ["void", "moveLastEntry", "(", "int", "dstIndex", ")", "{", "int", "srcIndex", "=", "size", "(", ")", "-", "1", ";", "if", "(", "dstIndex", "<", "srcIndex", ")", "{", "// move last entry to deleted spot", "elements", "[", "dstIndex", "]", "=", "elements", "[", "srcIndex", "]", ";", "elements", "[", "srcIndex", "]", "=", "null", ";", "// move the last entry to the removed spot, just like we moved the element", "long", "lastEntry", "=", "entries", "[", "srcIndex", "]", ";", "entries", "[", "dstIndex", "]", "=", "lastEntry", ";", "entries", "[", "srcIndex", "]", "=", "UNSET", ";", "// also need to update whoever's \"next\" pointer was pointing to the last entry place", "// reusing \"tableIndex\" and \"next\"; these variables were no longer needed", "int", "tableIndex", "=", "getHash", "(", "lastEntry", ")", "&", "hashTableMask", "(", ")", ";", "int", "lastNext", "=", "table", "[", "tableIndex", "]", ";", "if", "(", "lastNext", "==", "srcIndex", ")", "{", "// we need to update the root pointer", "table", "[", "tableIndex", "]", "=", "dstIndex", ";", "}", "else", "{", "// we need to update a pointer in an entry", "int", "previous", ";", "long", "entry", ";", "do", "{", "previous", "=", "lastNext", ";", "lastNext", "=", "getNext", "(", "entry", "=", "entries", "[", "lastNext", "]", ")", ";", "}", "while", "(", "lastNext", "!=", "srcIndex", ")", ";", "// here, entries[previous] points to the old entry location; update it", "entries", "[", "previous", "]", "=", "swapNext", "(", "entry", ",", "dstIndex", ")", ";", "}", "}", "else", "{", "elements", "[", "dstIndex", "]", "=", "null", ";", "entries", "[", "dstIndex", "]", "=", "UNSET", ";", "}", "}"], "docstring": "Moves the last entry in the entry array into {@code dstIndex}, and nulls out its old position.", "docstring_tokens": ["Moves", "the", "last", "entry", "in", "the", "entry", "array", "into", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L386-L420", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.trimToSize", "original_string": "public void trimToSize() {\n    if (needsAllocArrays()) {\n      return;\n    }\n    int size = this.size;\n    if (size < entries.length) {\n      resizeEntries(size);\n    }\n    int minimumTableSize = Hashing.closedTableSize(size, LOAD_FACTOR);\n    if (minimumTableSize < table.length) {\n      resizeTable(minimumTableSize);\n    }\n  }", "language": "java", "code": "public void trimToSize() {\n    if (needsAllocArrays()) {\n      return;\n    }\n    int size = this.size;\n    if (size < entries.length) {\n      resizeEntries(size);\n    }\n    int minimumTableSize = Hashing.closedTableSize(size, LOAD_FACTOR);\n    if (minimumTableSize < table.length) {\n      resizeTable(minimumTableSize);\n    }\n  }", "code_tokens": ["public", "void", "trimToSize", "(", ")", "{", "if", "(", "needsAllocArrays", "(", ")", ")", "{", "return", ";", "}", "int", "size", "=", "this", ".", "size", ";", "if", "(", "size", "<", "entries", ".", "length", ")", "{", "resizeEntries", "(", "size", ")", ";", "}", "int", "minimumTableSize", "=", "Hashing", ".", "closedTableSize", "(", "size", ",", "LOAD_FACTOR", ")", ";", "if", "(", "minimumTableSize", "<", "table", ".", "length", ")", "{", "resizeTable", "(", "minimumTableSize", ")", ";", "}", "}"], "docstring": "Ensures that this {@code CompactHashSet} has the smallest representation in memory, given its\ncurrent size.", "docstring_tokens": ["Ensures", "that", "this", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L516-L528", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/collect/CompactHashSet.java", "func_name": "CompactHashSet.writeObject", "original_string": "private void writeObject(ObjectOutputStream stream) throws IOException {\n    stream.defaultWriteObject();\n    stream.writeInt(size);\n    for (int i = firstEntryIndex(); i >= 0; i = getSuccessor(i)) {\n      stream.writeObject(elements[i]);\n    }\n  }", "language": "java", "code": "private void writeObject(ObjectOutputStream stream) throws IOException {\n    stream.defaultWriteObject();\n    stream.writeInt(size);\n    for (int i = firstEntryIndex(); i >= 0; i = getSuccessor(i)) {\n      stream.writeObject(elements[i]);\n    }\n  }", "code_tokens": ["private", "void", "writeObject", "(", "ObjectOutputStream", "stream", ")", "throws", "IOException", "{", "stream", ".", "defaultWriteObject", "(", ")", ";", "stream", ".", "writeInt", "(", "size", ")", ";", "for", "(", "int", "i", "=", "firstEntryIndex", "(", ")", ";", "i", ">=", "0", ";", "i", "=", "getSuccessor", "(", "i", ")", ")", "{", "stream", ".", "writeObject", "(", "elements", "[", "i", "]", ")", ";", "}", "}"], "docstring": "The serial form currently mimics Android's java.util.HashSet version, e.g. see\nhttp://omapzoom.org/?p=platform/libcore.git;a=blob;f=luni/src/main/java/java/util/HashSet.java", "docstring_tokens": ["The", "serial", "form", "currently", "mimics", "Android", "s", "java", ".", "util", ".", "HashSet", "version", "e", ".", "g", ".", "see", "http", ":", "//", "omapzoom", ".", "org", "/", "?p", "=", "platform", "/", "libcore", ".", "git", ";", "a", "=", "blob", ";", "f", "=", "luni", "/", "src", "/", "main", "/", "java", "/", "java", "/", "util", "/", "HashSet", ".", "java"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/collect/CompactHashSet.java#L546-L552", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.getInet4Address", "original_string": "private static Inet4Address getInet4Address(byte[] bytes) {\n    checkArgument(\n        bytes.length == 4,\n        \"Byte array has invalid length for an IPv4 address: %s != 4.\",\n        bytes.length);\n\n    // Given a 4-byte array, this cast should always succeed.\n    return (Inet4Address) bytesToInetAddress(bytes);\n  }", "language": "java", "code": "private static Inet4Address getInet4Address(byte[] bytes) {\n    checkArgument(\n        bytes.length == 4,\n        \"Byte array has invalid length for an IPv4 address: %s != 4.\",\n        bytes.length);\n\n    // Given a 4-byte array, this cast should always succeed.\n    return (Inet4Address) bytesToInetAddress(bytes);\n  }", "code_tokens": ["private", "static", "Inet4Address", "getInet4Address", "(", "byte", "[", "]", "bytes", ")", "{", "checkArgument", "(", "bytes", ".", "length", "==", "4", ",", "\"Byte array has invalid length for an IPv4 address: %s != 4.\"", ",", "bytes", ".", "length", ")", ";", "// Given a 4-byte array, this cast should always succeed.", "return", "(", "Inet4Address", ")", "bytesToInetAddress", "(", "bytes", ")", ";", "}"], "docstring": "Returns an {@link Inet4Address}, given a byte array representation of the IPv4 address.\n\n@param bytes byte array representing an IPv4 address (should be of length 4)\n@return {@link Inet4Address} corresponding to the supplied byte array\n@throws IllegalArgumentException if a valid {@link Inet4Address} can not be created", "docstring_tokens": ["Returns", "an", "{", "@link", "Inet4Address", "}", "given", "a", "byte", "array", "representation", "of", "the", "IPv4", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L118-L126", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.forString", "original_string": "public static InetAddress forString(String ipString) {\n    byte[] addr = ipStringToBytes(ipString);\n\n    // The argument was malformed, i.e. not an IP string literal.\n    if (addr == null) {\n      throw formatIllegalArgumentException(\"'%s' is not an IP string literal.\", ipString);\n    }\n\n    return bytesToInetAddress(addr);\n  }", "language": "java", "code": "public static InetAddress forString(String ipString) {\n    byte[] addr = ipStringToBytes(ipString);\n\n    // The argument was malformed, i.e. not an IP string literal.\n    if (addr == null) {\n      throw formatIllegalArgumentException(\"'%s' is not an IP string literal.\", ipString);\n    }\n\n    return bytesToInetAddress(addr);\n  }", "code_tokens": ["public", "static", "InetAddress", "forString", "(", "String", "ipString", ")", "{", "byte", "[", "]", "addr", "=", "ipStringToBytes", "(", "ipString", ")", ";", "// The argument was malformed, i.e. not an IP string literal.", "if", "(", "addr", "==", "null", ")", "{", "throw", "formatIllegalArgumentException", "(", "\"'%s' is not an IP string literal.\"", ",", "ipString", ")", ";", "}", "return", "bytesToInetAddress", "(", "addr", ")", ";", "}"], "docstring": "Returns the {@link InetAddress} having the given string representation.\n\n<p>This deliberately avoids all nameservice lookups (e.g. no DNS).\n\n@param ipString {@code String} containing an IPv4 or IPv6 string literal, e.g. {@code\n\"192.168.0.1\"} or {@code \"2001:db8::1\"}\n@return {@link InetAddress} representing the argument\n@throws IllegalArgumentException if the argument is not a valid IP string literal", "docstring_tokens": ["Returns", "the", "{", "@link", "InetAddress", "}", "having", "the", "given", "string", "representation", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L138-L147", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.bytesToInetAddress", "original_string": "private static InetAddress bytesToInetAddress(byte[] addr) {\n    try {\n      return InetAddress.getByAddress(addr);\n    } catch (UnknownHostException e) {\n      throw new AssertionError(e);\n    }\n  }", "language": "java", "code": "private static InetAddress bytesToInetAddress(byte[] addr) {\n    try {\n      return InetAddress.getByAddress(addr);\n    } catch (UnknownHostException e) {\n      throw new AssertionError(e);\n    }\n  }", "code_tokens": ["private", "static", "InetAddress", "bytesToInetAddress", "(", "byte", "[", "]", "addr", ")", "{", "try", "{", "return", "InetAddress", ".", "getByAddress", "(", "addr", ")", ";", "}", "catch", "(", "UnknownHostException", "e", ")", "{", "throw", "new", "AssertionError", "(", "e", ")", ";", "}", "}"], "docstring": "Convert a byte array into an InetAddress.\n\n<p>{@link InetAddress#getByAddress} is documented as throwing a checked exception \"if IP\naddress is of illegal length.\" We replace it with an unchecked exception, for use by callers\nwho already know that addr is an array of length 4 or 16.\n\n@param addr the raw 4-byte or 16-byte IP address in big-endian order\n@return an InetAddress object created from the raw IP address", "docstring_tokens": ["Convert", "a", "byte", "array", "into", "an", "InetAddress", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L317-L323", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.toAddrString", "original_string": "public static String toAddrString(InetAddress ip) {\n    checkNotNull(ip);\n    if (ip instanceof Inet4Address) {\n      // For IPv4, Java's formatting is good enough.\n      return ip.getHostAddress();\n    }\n    checkArgument(ip instanceof Inet6Address);\n    byte[] bytes = ip.getAddress();\n    int[] hextets = new int[IPV6_PART_COUNT];\n    for (int i = 0; i < hextets.length; i++) {\n      hextets[i] = Ints.fromBytes((byte) 0, (byte) 0, bytes[2 * i], bytes[2 * i + 1]);\n    }\n    compressLongestRunOfZeroes(hextets);\n    return hextetsToIPv6String(hextets);\n  }", "language": "java", "code": "public static String toAddrString(InetAddress ip) {\n    checkNotNull(ip);\n    if (ip instanceof Inet4Address) {\n      // For IPv4, Java's formatting is good enough.\n      return ip.getHostAddress();\n    }\n    checkArgument(ip instanceof Inet6Address);\n    byte[] bytes = ip.getAddress();\n    int[] hextets = new int[IPV6_PART_COUNT];\n    for (int i = 0; i < hextets.length; i++) {\n      hextets[i] = Ints.fromBytes((byte) 0, (byte) 0, bytes[2 * i], bytes[2 * i + 1]);\n    }\n    compressLongestRunOfZeroes(hextets);\n    return hextetsToIPv6String(hextets);\n  }", "code_tokens": ["public", "static", "String", "toAddrString", "(", "InetAddress", "ip", ")", "{", "checkNotNull", "(", "ip", ")", ";", "if", "(", "ip", "instanceof", "Inet4Address", ")", "{", "// For IPv4, Java's formatting is good enough.", "return", "ip", ".", "getHostAddress", "(", ")", ";", "}", "checkArgument", "(", "ip", "instanceof", "Inet6Address", ")", ";", "byte", "[", "]", "bytes", "=", "ip", ".", "getAddress", "(", ")", ";", "int", "[", "]", "hextets", "=", "new", "int", "[", "IPV6_PART_COUNT", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "hextets", ".", "length", ";", "i", "++", ")", "{", "hextets", "[", "i", "]", "=", "Ints", ".", "fromBytes", "(", "(", "byte", ")", "0", ",", "(", "byte", ")", "0", ",", "bytes", "[", "2", "*", "i", "]", ",", "bytes", "[", "2", "*", "i", "+", "1", "]", ")", ";", "}", "compressLongestRunOfZeroes", "(", "hextets", ")", ";", "return", "hextetsToIPv6String", "(", "hextets", ")", ";", "}"], "docstring": "Returns the string representation of an {@link InetAddress}.\n\n<p>For IPv4 addresses, this is identical to {@link InetAddress#getHostAddress()}, but for IPv6\naddresses, the output follows <a href=\"http://tools.ietf.org/html/rfc5952\">RFC 5952</a> section\n4. The main difference is that this method uses \"::\" for zero compression, while Java's version\nuses the uncompressed form.\n\n<p>This method uses hexadecimal for all IPv6 addresses, including IPv4-mapped IPv6 addresses\nsuch as \"::c000:201\". The output does not include a Scope ID.\n\n@param ip {@link InetAddress} to be converted to an address string\n@return {@code String} containing the text-formatted IP address\n@since 10.0", "docstring_tokens": ["Returns", "the", "string", "representation", "of", "an", "{", "@link", "InetAddress", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L340-L354", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.compressLongestRunOfZeroes", "original_string": "private static void compressLongestRunOfZeroes(int[] hextets) {\n    int bestRunStart = -1;\n    int bestRunLength = -1;\n    int runStart = -1;\n    for (int i = 0; i < hextets.length + 1; i++) {\n      if (i < hextets.length && hextets[i] == 0) {\n        if (runStart < 0) {\n          runStart = i;\n        }\n      } else if (runStart >= 0) {\n        int runLength = i - runStart;\n        if (runLength > bestRunLength) {\n          bestRunStart = runStart;\n          bestRunLength = runLength;\n        }\n        runStart = -1;\n      }\n    }\n    if (bestRunLength >= 2) {\n      Arrays.fill(hextets, bestRunStart, bestRunStart + bestRunLength, -1);\n    }\n  }", "language": "java", "code": "private static void compressLongestRunOfZeroes(int[] hextets) {\n    int bestRunStart = -1;\n    int bestRunLength = -1;\n    int runStart = -1;\n    for (int i = 0; i < hextets.length + 1; i++) {\n      if (i < hextets.length && hextets[i] == 0) {\n        if (runStart < 0) {\n          runStart = i;\n        }\n      } else if (runStart >= 0) {\n        int runLength = i - runStart;\n        if (runLength > bestRunLength) {\n          bestRunStart = runStart;\n          bestRunLength = runLength;\n        }\n        runStart = -1;\n      }\n    }\n    if (bestRunLength >= 2) {\n      Arrays.fill(hextets, bestRunStart, bestRunStart + bestRunLength, -1);\n    }\n  }", "code_tokens": ["private", "static", "void", "compressLongestRunOfZeroes", "(", "int", "[", "]", "hextets", ")", "{", "int", "bestRunStart", "=", "-", "1", ";", "int", "bestRunLength", "=", "-", "1", ";", "int", "runStart", "=", "-", "1", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "hextets", ".", "length", "+", "1", ";", "i", "++", ")", "{", "if", "(", "i", "<", "hextets", ".", "length", "&&", "hextets", "[", "i", "]", "==", "0", ")", "{", "if", "(", "runStart", "<", "0", ")", "{", "runStart", "=", "i", ";", "}", "}", "else", "if", "(", "runStart", ">=", "0", ")", "{", "int", "runLength", "=", "i", "-", "runStart", ";", "if", "(", "runLength", ">", "bestRunLength", ")", "{", "bestRunStart", "=", "runStart", ";", "bestRunLength", "=", "runLength", ";", "}", "runStart", "=", "-", "1", ";", "}", "}", "if", "(", "bestRunLength", ">=", "2", ")", "{", "Arrays", ".", "fill", "(", "hextets", ",", "bestRunStart", ",", "bestRunStart", "+", "bestRunLength", ",", "-", "1", ")", ";", "}", "}"], "docstring": "Identify and mark the longest run of zeroes in an IPv6 address.\n\n<p>Only runs of two or more hextets are considered. In case of a tie, the leftmost run wins. If\na qualifying run is found, its hextets are replaced by the sentinel value -1.\n\n@param hextets {@code int[]} mutable array of eight 16-bit hextets", "docstring_tokens": ["Identify", "and", "mark", "the", "longest", "run", "of", "zeroes", "in", "an", "IPv6", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L364-L385", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.hextetsToIPv6String", "original_string": "private static String hextetsToIPv6String(int[] hextets) {\n    // While scanning the array, handle these state transitions:\n    //   start->num => \"num\"     start->gap => \"::\"\n    //   num->num   => \":num\"    num->gap   => \"::\"\n    //   gap->num   => \"num\"     gap->gap   => \"\"\n    StringBuilder buf = new StringBuilder(39);\n    boolean lastWasNumber = false;\n    for (int i = 0; i < hextets.length; i++) {\n      boolean thisIsNumber = hextets[i] >= 0;\n      if (thisIsNumber) {\n        if (lastWasNumber) {\n          buf.append(':');\n        }\n        buf.append(Integer.toHexString(hextets[i]));\n      } else {\n        if (i == 0 || lastWasNumber) {\n          buf.append(\"::\");\n        }\n      }\n      lastWasNumber = thisIsNumber;\n    }\n    return buf.toString();\n  }", "language": "java", "code": "private static String hextetsToIPv6String(int[] hextets) {\n    // While scanning the array, handle these state transitions:\n    //   start->num => \"num\"     start->gap => \"::\"\n    //   num->num   => \":num\"    num->gap   => \"::\"\n    //   gap->num   => \"num\"     gap->gap   => \"\"\n    StringBuilder buf = new StringBuilder(39);\n    boolean lastWasNumber = false;\n    for (int i = 0; i < hextets.length; i++) {\n      boolean thisIsNumber = hextets[i] >= 0;\n      if (thisIsNumber) {\n        if (lastWasNumber) {\n          buf.append(':');\n        }\n        buf.append(Integer.toHexString(hextets[i]));\n      } else {\n        if (i == 0 || lastWasNumber) {\n          buf.append(\"::\");\n        }\n      }\n      lastWasNumber = thisIsNumber;\n    }\n    return buf.toString();\n  }", "code_tokens": ["private", "static", "String", "hextetsToIPv6String", "(", "int", "[", "]", "hextets", ")", "{", "// While scanning the array, handle these state transitions:", "//   start->num => \"num\"     start->gap => \"::\"", "//   num->num   => \":num\"    num->gap   => \"::\"", "//   gap->num   => \"num\"     gap->gap   => \"\"", "StringBuilder", "buf", "=", "new", "StringBuilder", "(", "39", ")", ";", "boolean", "lastWasNumber", "=", "false", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "hextets", ".", "length", ";", "i", "++", ")", "{", "boolean", "thisIsNumber", "=", "hextets", "[", "i", "]", ">=", "0", ";", "if", "(", "thisIsNumber", ")", "{", "if", "(", "lastWasNumber", ")", "{", "buf", ".", "append", "(", "'", "'", ")", ";", "}", "buf", ".", "append", "(", "Integer", ".", "toHexString", "(", "hextets", "[", "i", "]", ")", ")", ";", "}", "else", "{", "if", "(", "i", "==", "0", "||", "lastWasNumber", ")", "{", "buf", ".", "append", "(", "\"::\"", ")", ";", "}", "}", "lastWasNumber", "=", "thisIsNumber", ";", "}", "return", "buf", ".", "toString", "(", ")", ";", "}"], "docstring": "Convert a list of hextets into a human-readable IPv6 address.\n\n<p>In order for \"::\" compression to work, the input should contain negative sentinel values in\nplace of the elided zeroes.\n\n@param hextets {@code int[]} array of eight 16-bit hextets, or -1s", "docstring_tokens": ["Convert", "a", "list", "of", "hextets", "into", "a", "human", "-", "readable", "IPv6", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L395-L417", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.toUriString", "original_string": "public static String toUriString(InetAddress ip) {\n    if (ip instanceof Inet6Address) {\n      return \"[\" + toAddrString(ip) + \"]\";\n    }\n    return toAddrString(ip);\n  }", "language": "java", "code": "public static String toUriString(InetAddress ip) {\n    if (ip instanceof Inet6Address) {\n      return \"[\" + toAddrString(ip) + \"]\";\n    }\n    return toAddrString(ip);\n  }", "code_tokens": ["public", "static", "String", "toUriString", "(", "InetAddress", "ip", ")", "{", "if", "(", "ip", "instanceof", "Inet6Address", ")", "{", "return", "\"[\"", "+", "toAddrString", "(", "ip", ")", "+", "\"]\"", ";", "}", "return", "toAddrString", "(", "ip", ")", ";", "}"], "docstring": "Returns the string representation of an {@link InetAddress} suitable for inclusion in a URI.\n\n<p>For IPv4 addresses, this is identical to {@link InetAddress#getHostAddress()}, but for IPv6\naddresses it compresses zeroes and surrounds the text with square brackets; for example {@code\n\"[2001:db8::1]\"}.\n\n<p>Per section 3.2.2 of <a target=\"_parent\"\nhref=\"http://tools.ietf.org/html/rfc3986#section-3.2.2\">RFC 3986</a>, a URI containing an IPv6\nstring literal is of the form {@code \"http://[2001:db8::1]:8888/index.html\"}.\n\n<p>Use of either {@link InetAddresses#toAddrString}, {@link InetAddress#getHostAddress()}, or\nthis method is recommended over {@link InetAddress#toString()} when an IP address string\nliteral is desired. This is because {@link InetAddress#toString()} prints the hostname and the\nIP address string joined by a \"/\".\n\n@param ip {@link InetAddress} to be converted to URI string literal\n@return {@code String} containing URI-safe string literal", "docstring_tokens": ["Returns", "the", "string", "representation", "of", "an", "{", "@link", "InetAddress", "}", "suitable", "for", "inclusion", "in", "a", "URI", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L438-L443", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.forUriString", "original_string": "public static InetAddress forUriString(String hostAddr) {\n    InetAddress addr = forUriStringNoThrow(hostAddr);\n    if (addr == null) {\n      throw formatIllegalArgumentException(\"Not a valid URI IP literal: '%s'\", hostAddr);\n    }\n\n    return addr;\n  }", "language": "java", "code": "public static InetAddress forUriString(String hostAddr) {\n    InetAddress addr = forUriStringNoThrow(hostAddr);\n    if (addr == null) {\n      throw formatIllegalArgumentException(\"Not a valid URI IP literal: '%s'\", hostAddr);\n    }\n\n    return addr;\n  }", "code_tokens": ["public", "static", "InetAddress", "forUriString", "(", "String", "hostAddr", ")", "{", "InetAddress", "addr", "=", "forUriStringNoThrow", "(", "hostAddr", ")", ";", "if", "(", "addr", "==", "null", ")", "{", "throw", "formatIllegalArgumentException", "(", "\"Not a valid URI IP literal: '%s'\"", ",", "hostAddr", ")", ";", "}", "return", "addr", ";", "}"], "docstring": "Returns an InetAddress representing the literal IPv4 or IPv6 host portion of a URL, encoded in\nthe format specified by RFC 3986 section 3.2.2.\n\n<p>This function is similar to {@link InetAddresses#forString(String)}, however, it requires\nthat IPv6 addresses are surrounded by square brackets.\n\n<p>This function is the inverse of {@link InetAddresses#toUriString(java.net.InetAddress)}.\n\n@param hostAddr A RFC 3986 section 3.2.2 encoded IPv4 or IPv6 address\n@return an InetAddress representing the address in {@code hostAddr}\n@throws IllegalArgumentException if {@code hostAddr} is not a valid IPv4 address, or IPv6\naddress surrounded by square brackets", "docstring_tokens": ["Returns", "an", "InetAddress", "representing", "the", "literal", "IPv4", "or", "IPv6", "host", "portion", "of", "a", "URL", "encoded", "in", "the", "format", "specified", "by", "RFC", "3986", "section", "3", ".", "2", ".", "2", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L459-L466", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.isCompatIPv4Address", "original_string": "public static boolean isCompatIPv4Address(Inet6Address ip) {\n    if (!ip.isIPv4CompatibleAddress()) {\n      return false;\n    }\n\n    byte[] bytes = ip.getAddress();\n    if ((bytes[12] == 0)\n        && (bytes[13] == 0)\n        && (bytes[14] == 0)\n        && ((bytes[15] == 0) || (bytes[15] == 1))) {\n      return false;\n    }\n\n    return true;\n  }", "language": "java", "code": "public static boolean isCompatIPv4Address(Inet6Address ip) {\n    if (!ip.isIPv4CompatibleAddress()) {\n      return false;\n    }\n\n    byte[] bytes = ip.getAddress();\n    if ((bytes[12] == 0)\n        && (bytes[13] == 0)\n        && (bytes[14] == 0)\n        && ((bytes[15] == 0) || (bytes[15] == 1))) {\n      return false;\n    }\n\n    return true;\n  }", "code_tokens": ["public", "static", "boolean", "isCompatIPv4Address", "(", "Inet6Address", "ip", ")", "{", "if", "(", "!", "ip", ".", "isIPv4CompatibleAddress", "(", ")", ")", "{", "return", "false", ";", "}", "byte", "[", "]", "bytes", "=", "ip", ".", "getAddress", "(", ")", ";", "if", "(", "(", "bytes", "[", "12", "]", "==", "0", ")", "&&", "(", "bytes", "[", "13", "]", "==", "0", ")", "&&", "(", "bytes", "[", "14", "]", "==", "0", ")", "&&", "(", "(", "bytes", "[", "15", "]", "==", "0", ")", "||", "(", "bytes", "[", "15", "]", "==", "1", ")", ")", ")", "{", "return", "false", ";", "}", "return", "true", ";", "}"], "docstring": "Evaluates whether the argument is an IPv6 \"compat\" address.\n\n<p>An \"IPv4 compatible\", or \"compat\", address is one with 96 leading bits of zero, with the\nremaining 32 bits interpreted as an IPv4 address. These are conventionally represented in\nstring literals as {@code \"::192.168.0.1\"}, though {@code \"::c0a8:1\"} is also considered an\nIPv4 compatible address (and equivalent to {@code \"::192.168.0.1\"}).\n\n<p>For more on IPv4 compatible addresses see section 2.5.5.1 of <a target=\"_parent\"\nhref=\"http://tools.ietf.org/html/rfc4291#section-2.5.5.1\">RFC 4291</a>.\n\n<p>NOTE: This method is different from {@link Inet6Address#isIPv4CompatibleAddress} in that it\nmore correctly classifies {@code \"::\"} and {@code \"::1\"} as proper IPv6 addresses (which they\nare), NOT IPv4 compatible addresses (which they are generally NOT considered to be).\n\n@param ip {@link Inet6Address} to be examined for embedded IPv4 compatible address format\n@return {@code true} if the argument is a valid \"compat\" address", "docstring_tokens": ["Evaluates", "whether", "the", "argument", "is", "an", "IPv6", "compat", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L521-L535", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.getCompatIPv4Address", "original_string": "public static Inet4Address getCompatIPv4Address(Inet6Address ip) {\n    checkArgument(\n        isCompatIPv4Address(ip), \"Address '%s' is not IPv4-compatible.\", toAddrString(ip));\n\n    return getInet4Address(Arrays.copyOfRange(ip.getAddress(), 12, 16));\n  }", "language": "java", "code": "public static Inet4Address getCompatIPv4Address(Inet6Address ip) {\n    checkArgument(\n        isCompatIPv4Address(ip), \"Address '%s' is not IPv4-compatible.\", toAddrString(ip));\n\n    return getInet4Address(Arrays.copyOfRange(ip.getAddress(), 12, 16));\n  }", "code_tokens": ["public", "static", "Inet4Address", "getCompatIPv4Address", "(", "Inet6Address", "ip", ")", "{", "checkArgument", "(", "isCompatIPv4Address", "(", "ip", ")", ",", "\"Address '%s' is not IPv4-compatible.\"", ",", "toAddrString", "(", "ip", ")", ")", ";", "return", "getInet4Address", "(", "Arrays", ".", "copyOfRange", "(", "ip", ".", "getAddress", "(", ")", ",", "12", ",", "16", ")", ")", ";", "}"], "docstring": "Returns the IPv4 address embedded in an IPv4 compatible address.\n\n@param ip {@link Inet6Address} to be examined for an embedded IPv4 address\n@return {@link Inet4Address} of the embedded IPv4 address\n@throws IllegalArgumentException if the argument is not a valid IPv4 compatible address", "docstring_tokens": ["Returns", "the", "IPv4", "address", "embedded", "in", "an", "IPv4", "compatible", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L544-L549", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.isTeredoAddress", "original_string": "public static boolean isTeredoAddress(Inet6Address ip) {\n    byte[] bytes = ip.getAddress();\n    return (bytes[0] == (byte) 0x20)\n        && (bytes[1] == (byte) 0x01)\n        && (bytes[2] == 0)\n        && (bytes[3] == 0);\n  }", "language": "java", "code": "public static boolean isTeredoAddress(Inet6Address ip) {\n    byte[] bytes = ip.getAddress();\n    return (bytes[0] == (byte) 0x20)\n        && (bytes[1] == (byte) 0x01)\n        && (bytes[2] == 0)\n        && (bytes[3] == 0);\n  }", "code_tokens": ["public", "static", "boolean", "isTeredoAddress", "(", "Inet6Address", "ip", ")", "{", "byte", "[", "]", "bytes", "=", "ip", ".", "getAddress", "(", ")", ";", "return", "(", "bytes", "[", "0", "]", "==", "(", "byte", ")", "0x20", ")", "&&", "(", "bytes", "[", "1", "]", "==", "(", "byte", ")", "0x01", ")", "&&", "(", "bytes", "[", "2", "]", "==", "0", ")", "&&", "(", "bytes", "[", "3", "]", "==", "0", ")", ";", "}"], "docstring": "Evaluates whether the argument is a Teredo address.\n\n<p>Teredo addresses begin with the {@code \"2001::/32\"} prefix.\n\n@param ip {@link Inet6Address} to be examined for Teredo address format\n@return {@code true} if the argument is a Teredo address", "docstring_tokens": ["Evaluates", "whether", "the", "argument", "is", "a", "Teredo", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L651-L657", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.isIsatapAddress", "original_string": "public static boolean isIsatapAddress(Inet6Address ip) {\n\n    // If it's a Teredo address with the right port (41217, or 0xa101)\n    // which would be encoded as 0x5efe then it can't be an ISATAP address.\n    if (isTeredoAddress(ip)) {\n      return false;\n    }\n\n    byte[] bytes = ip.getAddress();\n\n    if ((bytes[8] | (byte) 0x03) != (byte) 0x03) {\n\n      // Verify that high byte of the 64 bit identifier is zero, modulo\n      // the U/L and G bits, with which we are not concerned.\n      return false;\n    }\n\n    return (bytes[9] == (byte) 0x00) && (bytes[10] == (byte) 0x5e) && (bytes[11] == (byte) 0xfe);\n  }", "language": "java", "code": "public static boolean isIsatapAddress(Inet6Address ip) {\n\n    // If it's a Teredo address with the right port (41217, or 0xa101)\n    // which would be encoded as 0x5efe then it can't be an ISATAP address.\n    if (isTeredoAddress(ip)) {\n      return false;\n    }\n\n    byte[] bytes = ip.getAddress();\n\n    if ((bytes[8] | (byte) 0x03) != (byte) 0x03) {\n\n      // Verify that high byte of the 64 bit identifier is zero, modulo\n      // the U/L and G bits, with which we are not concerned.\n      return false;\n    }\n\n    return (bytes[9] == (byte) 0x00) && (bytes[10] == (byte) 0x5e) && (bytes[11] == (byte) 0xfe);\n  }", "code_tokens": ["public", "static", "boolean", "isIsatapAddress", "(", "Inet6Address", "ip", ")", "{", "// If it's a Teredo address with the right port (41217, or 0xa101)", "// which would be encoded as 0x5efe then it can't be an ISATAP address.", "if", "(", "isTeredoAddress", "(", "ip", ")", ")", "{", "return", "false", ";", "}", "byte", "[", "]", "bytes", "=", "ip", ".", "getAddress", "(", ")", ";", "if", "(", "(", "bytes", "[", "8", "]", "|", "(", "byte", ")", "0x03", ")", "!=", "(", "byte", ")", "0x03", ")", "{", "// Verify that high byte of the 64 bit identifier is zero, modulo", "// the U/L and G bits, with which we are not concerned.", "return", "false", ";", "}", "return", "(", "bytes", "[", "9", "]", "==", "(", "byte", ")", "0x00", ")", "&&", "(", "bytes", "[", "10", "]", "==", "(", "byte", ")", "0x5e", ")", "&&", "(", "bytes", "[", "11", "]", "==", "(", "byte", ")", "0xfe", ")", ";", "}"], "docstring": "Evaluates whether the argument is an ISATAP address.\n\n<p>From RFC 5214: \"ISATAP interface identifiers are constructed in Modified EUI-64 format [...]\nby concatenating the 24-bit IANA OUI (00-00-5E), the 8-bit hexadecimal value 0xFE, and a 32-bit\nIPv4 address in network byte order [...]\"\n\n<p>For more on ISATAP addresses see section 6.1 of <a target=\"_parent\"\nhref=\"http://tools.ietf.org/html/rfc5214#section-6.1\">RFC 5214</a>.\n\n@param ip {@link Inet6Address} to be examined for ISATAP address format\n@return {@code true} if the argument is an ISATAP address", "docstring_tokens": ["Evaluates", "whether", "the", "argument", "is", "an", "ISATAP", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L700-L718", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.getIsatapIPv4Address", "original_string": "public static Inet4Address getIsatapIPv4Address(Inet6Address ip) {\n    checkArgument(isIsatapAddress(ip), \"Address '%s' is not an ISATAP address.\", toAddrString(ip));\n\n    return getInet4Address(Arrays.copyOfRange(ip.getAddress(), 12, 16));\n  }", "language": "java", "code": "public static Inet4Address getIsatapIPv4Address(Inet6Address ip) {\n    checkArgument(isIsatapAddress(ip), \"Address '%s' is not an ISATAP address.\", toAddrString(ip));\n\n    return getInet4Address(Arrays.copyOfRange(ip.getAddress(), 12, 16));\n  }", "code_tokens": ["public", "static", "Inet4Address", "getIsatapIPv4Address", "(", "Inet6Address", "ip", ")", "{", "checkArgument", "(", "isIsatapAddress", "(", "ip", ")", ",", "\"Address '%s' is not an ISATAP address.\"", ",", "toAddrString", "(", "ip", ")", ")", ";", "return", "getInet4Address", "(", "Arrays", ".", "copyOfRange", "(", "ip", ".", "getAddress", "(", ")", ",", "12", ",", "16", ")", ")", ";", "}"], "docstring": "Returns the IPv4 address embedded in an ISATAP address.\n\n@param ip {@link Inet6Address} to be examined for embedded IPv4 in ISATAP address\n@return {@link Inet4Address} of embedded IPv4 in an ISATAP address\n@throws IllegalArgumentException if the argument is not a valid IPv6 ISATAP address", "docstring_tokens": ["Returns", "the", "IPv4", "address", "embedded", "in", "an", "ISATAP", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L727-L731", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.getEmbeddedIPv4ClientAddress", "original_string": "public static Inet4Address getEmbeddedIPv4ClientAddress(Inet6Address ip) {\n    if (isCompatIPv4Address(ip)) {\n      return getCompatIPv4Address(ip);\n    }\n\n    if (is6to4Address(ip)) {\n      return get6to4IPv4Address(ip);\n    }\n\n    if (isTeredoAddress(ip)) {\n      return getTeredoInfo(ip).getClient();\n    }\n\n    throw formatIllegalArgumentException(\"'%s' has no embedded IPv4 address.\", toAddrString(ip));\n  }", "language": "java", "code": "public static Inet4Address getEmbeddedIPv4ClientAddress(Inet6Address ip) {\n    if (isCompatIPv4Address(ip)) {\n      return getCompatIPv4Address(ip);\n    }\n\n    if (is6to4Address(ip)) {\n      return get6to4IPv4Address(ip);\n    }\n\n    if (isTeredoAddress(ip)) {\n      return getTeredoInfo(ip).getClient();\n    }\n\n    throw formatIllegalArgumentException(\"'%s' has no embedded IPv4 address.\", toAddrString(ip));\n  }", "code_tokens": ["public", "static", "Inet4Address", "getEmbeddedIPv4ClientAddress", "(", "Inet6Address", "ip", ")", "{", "if", "(", "isCompatIPv4Address", "(", "ip", ")", ")", "{", "return", "getCompatIPv4Address", "(", "ip", ")", ";", "}", "if", "(", "is6to4Address", "(", "ip", ")", ")", "{", "return", "get6to4IPv4Address", "(", "ip", ")", ";", "}", "if", "(", "isTeredoAddress", "(", "ip", ")", ")", "{", "return", "getTeredoInfo", "(", "ip", ")", ".", "getClient", "(", ")", ";", "}", "throw", "formatIllegalArgumentException", "(", "\"'%s' has no embedded IPv4 address.\"", ",", "toAddrString", "(", "ip", ")", ")", ";", "}"], "docstring": "Examines the Inet6Address to extract the embedded IPv4 client address if the InetAddress is an\nIPv6 address of one of the specified address types that contain an embedded IPv4 address.\n\n<p>NOTE: ISATAP addresses are explicitly excluded from this method due to their trivial\nspoofability. With other transition addresses spoofing involves (at least) infection of one's\nBGP routing table.\n\n@param ip {@link Inet6Address} to be examined for embedded IPv4 client address\n@return {@link Inet4Address} of embedded IPv4 client address\n@throws IllegalArgumentException if the argument does not have a valid embedded IPv4 address", "docstring_tokens": ["Examines", "the", "Inet6Address", "to", "extract", "the", "embedded", "IPv4", "client", "address", "if", "the", "InetAddress", "is", "an", "IPv6", "address", "of", "one", "of", "the", "specified", "address", "types", "that", "contain", "an", "embedded", "IPv4", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L761-L775", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.isMappedIPv4Address", "original_string": "public static boolean isMappedIPv4Address(String ipString) {\n    byte[] bytes = ipStringToBytes(ipString);\n    if (bytes != null && bytes.length == 16) {\n      for (int i = 0; i < 10; i++) {\n        if (bytes[i] != 0) {\n          return false;\n        }\n      }\n      for (int i = 10; i < 12; i++) {\n        if (bytes[i] != (byte) 0xff) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }", "language": "java", "code": "public static boolean isMappedIPv4Address(String ipString) {\n    byte[] bytes = ipStringToBytes(ipString);\n    if (bytes != null && bytes.length == 16) {\n      for (int i = 0; i < 10; i++) {\n        if (bytes[i] != 0) {\n          return false;\n        }\n      }\n      for (int i = 10; i < 12; i++) {\n        if (bytes[i] != (byte) 0xff) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }", "code_tokens": ["public", "static", "boolean", "isMappedIPv4Address", "(", "String", "ipString", ")", "{", "byte", "[", "]", "bytes", "=", "ipStringToBytes", "(", "ipString", ")", ";", "if", "(", "bytes", "!=", "null", "&&", "bytes", ".", "length", "==", "16", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "10", ";", "i", "++", ")", "{", "if", "(", "bytes", "[", "i", "]", "!=", "0", ")", "{", "return", "false", ";", "}", "}", "for", "(", "int", "i", "=", "10", ";", "i", "<", "12", ";", "i", "++", ")", "{", "if", "(", "bytes", "[", "i", "]", "!=", "(", "byte", ")", "0xff", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "return", "false", ";", "}"], "docstring": "Evaluates whether the argument is an \"IPv4 mapped\" IPv6 address.\n\n<p>An \"IPv4 mapped\" address is anything in the range ::ffff:0:0/96 (sometimes written as\n::ffff:0.0.0.0/96), with the last 32 bits interpreted as an IPv4 address.\n\n<p>For more on IPv4 mapped addresses see section 2.5.5.2 of <a target=\"_parent\"\nhref=\"http://tools.ietf.org/html/rfc4291#section-2.5.5.2\">RFC 4291</a>.\n\n<p>Note: This method takes a {@code String} argument because {@link InetAddress} automatically\ncollapses mapped addresses to IPv4. (It is actually possible to avoid this using one of the\nobscure {@link Inet6Address} methods, but it would be unwise to depend on such a\npoorly-documented feature.)\n\n@param ipString {@code String} to be examined for embedded IPv4-mapped IPv6 address format\n@return {@code true} if the argument is a valid \"mapped\" address\n@since 10.0", "docstring_tokens": ["Evaluates", "whether", "the", "argument", "is", "an", "IPv4", "mapped", "IPv6", "address", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L795-L811", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.fromLittleEndianByteArray", "original_string": "public static InetAddress fromLittleEndianByteArray(byte[] addr) throws UnknownHostException {\n    byte[] reversed = new byte[addr.length];\n    for (int i = 0; i < addr.length; i++) {\n      reversed[i] = addr[addr.length - i - 1];\n    }\n    return InetAddress.getByAddress(reversed);\n  }", "language": "java", "code": "public static InetAddress fromLittleEndianByteArray(byte[] addr) throws UnknownHostException {\n    byte[] reversed = new byte[addr.length];\n    for (int i = 0; i < addr.length; i++) {\n      reversed[i] = addr[addr.length - i - 1];\n    }\n    return InetAddress.getByAddress(reversed);\n  }", "code_tokens": ["public", "static", "InetAddress", "fromLittleEndianByteArray", "(", "byte", "[", "]", "addr", ")", "throws", "UnknownHostException", "{", "byte", "[", "]", "reversed", "=", "new", "byte", "[", "addr", ".", "length", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "addr", ".", "length", ";", "i", "++", ")", "{", "reversed", "[", "i", "]", "=", "addr", "[", "addr", ".", "length", "-", "i", "-", "1", "]", ";", "}", "return", "InetAddress", ".", "getByAddress", "(", "reversed", ")", ";", "}"], "docstring": "Returns an address from a <b>little-endian ordered</b> byte array (the opposite of what {@link\nInetAddress#getByAddress} expects).\n\n<p>IPv4 address byte array must be 4 bytes long and IPv6 byte array must be 16 bytes long.\n\n@param addr the raw IP address in little-endian byte order\n@return an InetAddress object created from the raw IP address\n@throws UnknownHostException if IP address is of illegal length", "docstring_tokens": ["Returns", "an", "address", "from", "a", "<b", ">", "little", "-", "endian", "ordered<", "/", "b", ">", "byte", "array", "(", "the", "opposite", "of", "what", "{", "@link", "InetAddress#getByAddress", "}", "expects", ")", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L918-L924", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.decrement", "original_string": "public static InetAddress decrement(InetAddress address) {\n    byte[] addr = address.getAddress();\n    int i = addr.length - 1;\n    while (i >= 0 && addr[i] == (byte) 0x00) {\n      addr[i] = (byte) 0xff;\n      i--;\n    }\n\n    checkArgument(i >= 0, \"Decrementing %s would wrap.\", address);\n\n    addr[i]--;\n    return bytesToInetAddress(addr);\n  }", "language": "java", "code": "public static InetAddress decrement(InetAddress address) {\n    byte[] addr = address.getAddress();\n    int i = addr.length - 1;\n    while (i >= 0 && addr[i] == (byte) 0x00) {\n      addr[i] = (byte) 0xff;\n      i--;\n    }\n\n    checkArgument(i >= 0, \"Decrementing %s would wrap.\", address);\n\n    addr[i]--;\n    return bytesToInetAddress(addr);\n  }", "code_tokens": ["public", "static", "InetAddress", "decrement", "(", "InetAddress", "address", ")", "{", "byte", "[", "]", "addr", "=", "address", ".", "getAddress", "(", ")", ";", "int", "i", "=", "addr", ".", "length", "-", "1", ";", "while", "(", "i", ">=", "0", "&&", "addr", "[", "i", "]", "==", "(", "byte", ")", "0x00", ")", "{", "addr", "[", "i", "]", "=", "(", "byte", ")", "0xff", ";", "i", "--", ";", "}", "checkArgument", "(", "i", ">=", "0", ",", "\"Decrementing %s would wrap.\"", ",", "address", ")", ";", "addr", "[", "i", "]", "--", ";", "return", "bytesToInetAddress", "(", "addr", ")", ";", "}"], "docstring": "Returns a new InetAddress that is one less than the passed in address. This method works for\nboth IPv4 and IPv6 addresses.\n\n@param address the InetAddress to decrement\n@return a new InetAddress that is one less than the passed in address\n@throws IllegalArgumentException if InetAddress is at the beginning of its range\n@since 18.0", "docstring_tokens": ["Returns", "a", "new", "InetAddress", "that", "is", "one", "less", "than", "the", "passed", "in", "address", ".", "This", "method", "works", "for", "both", "IPv4", "and", "IPv6", "addresses", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L935-L947", "partition": "valid"}
{"repo": "google/guava", "path": "android/guava/src/com/google/common/net/InetAddresses.java", "func_name": "InetAddresses.isMaximum", "original_string": "public static boolean isMaximum(InetAddress address) {\n    byte[] addr = address.getAddress();\n    for (int i = 0; i < addr.length; i++) {\n      if (addr[i] != (byte) 0xff) {\n        return false;\n      }\n    }\n    return true;\n  }", "language": "java", "code": "public static boolean isMaximum(InetAddress address) {\n    byte[] addr = address.getAddress();\n    for (int i = 0; i < addr.length; i++) {\n      if (addr[i] != (byte) 0xff) {\n        return false;\n      }\n    }\n    return true;\n  }", "code_tokens": ["public", "static", "boolean", "isMaximum", "(", "InetAddress", "address", ")", "{", "byte", "[", "]", "addr", "=", "address", ".", "getAddress", "(", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "addr", ".", "length", ";", "i", "++", ")", "{", "if", "(", "addr", "[", "i", "]", "!=", "(", "byte", ")", "0xff", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}"], "docstring": "Returns true if the InetAddress is either 255.255.255.255 for IPv4 or\nffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff for IPv6.\n\n@return true if the InetAddress is either 255.255.255.255 for IPv4 or\nffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff for IPv6\n@since 10.0", "docstring_tokens": ["Returns", "true", "if", "the", "InetAddress", "is", "either", "255", ".", "255", ".", "255", ".", "255", "for", "IPv4", "or", "ffff", ":", "ffff", ":", "ffff", ":", "ffff", ":", "ffff", ":", "ffff", ":", "ffff", ":", "ffff", "for", "IPv6", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/android/guava/src/com/google/common/net/InetAddresses.java#L980-L988", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/collect/JdkBackedImmutableMap.java", "func_name": "JdkBackedImmutableMap.create", "original_string": "static <K, V> ImmutableMap<K, V> create(int n, Entry<K, V>[] entryArray) {\n    Map<K, V> delegateMap = Maps.newHashMapWithExpectedSize(n);\n    for (int i = 0; i < n; i++) {\n      entryArray[i] = makeImmutable(entryArray[i]);\n      V oldValue = delegateMap.putIfAbsent(entryArray[i].getKey(), entryArray[i].getValue());\n      if (oldValue != null) {\n        throw conflictException(\"key\", entryArray[i], entryArray[i].getKey() + \"=\" + oldValue);\n      }\n    }\n    return new JdkBackedImmutableMap<>(delegateMap, ImmutableList.asImmutableList(entryArray, n));\n  }", "language": "java", "code": "static <K, V> ImmutableMap<K, V> create(int n, Entry<K, V>[] entryArray) {\n    Map<K, V> delegateMap = Maps.newHashMapWithExpectedSize(n);\n    for (int i = 0; i < n; i++) {\n      entryArray[i] = makeImmutable(entryArray[i]);\n      V oldValue = delegateMap.putIfAbsent(entryArray[i].getKey(), entryArray[i].getValue());\n      if (oldValue != null) {\n        throw conflictException(\"key\", entryArray[i], entryArray[i].getKey() + \"=\" + oldValue);\n      }\n    }\n    return new JdkBackedImmutableMap<>(delegateMap, ImmutableList.asImmutableList(entryArray, n));\n  }", "code_tokens": ["static", "<", "K", ",", "V", ">", "ImmutableMap", "<", "K", ",", "V", ">", "create", "(", "int", "n", ",", "Entry", "<", "K", ",", "V", ">", "[", "]", "entryArray", ")", "{", "Map", "<", "K", ",", "V", ">", "delegateMap", "=", "Maps", ".", "newHashMapWithExpectedSize", "(", "n", ")", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "n", ";", "i", "++", ")", "{", "entryArray", "[", "i", "]", "=", "makeImmutable", "(", "entryArray", "[", "i", "]", ")", ";", "V", "oldValue", "=", "delegateMap", ".", "putIfAbsent", "(", "entryArray", "[", "i", "]", ".", "getKey", "(", ")", ",", "entryArray", "[", "i", "]", ".", "getValue", "(", ")", ")", ";", "if", "(", "oldValue", "!=", "null", ")", "{", "throw", "conflictException", "(", "\"key\"", ",", "entryArray", "[", "i", "]", ",", "entryArray", "[", "i", "]", ".", "getKey", "(", ")", "+", "\"=\"", "+", "oldValue", ")", ";", "}", "}", "return", "new", "JdkBackedImmutableMap", "<>", "(", "delegateMap", ",", "ImmutableList", ".", "asImmutableList", "(", "entryArray", ",", "n", ")", ")", ";", "}"], "docstring": "Creates an {@code ImmutableMap} backed by a JDK HashMap. Used when probable hash flooding is\ndetected. This implementation may replace the entries in entryArray with its own entry objects\n(though they will have the same key/value contents), and will take ownership of entryArray.", "docstring_tokens": ["Creates", "an", "{"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/collect/JdkBackedImmutableMap.java#L38-L48", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.floorPowerOfTwo", "original_string": "@Beta\n  public static long floorPowerOfTwo(long x) {\n    checkPositive(\"x\", x);\n\n    // Long.highestOneBit was buggy on GWT.  We've fixed it, but I'm not certain when the fix will\n    // be released.\n    return 1L << ((Long.SIZE - 1) - Long.numberOfLeadingZeros(x));\n  }", "language": "java", "code": "@Beta\n  public static long floorPowerOfTwo(long x) {\n    checkPositive(\"x\", x);\n\n    // Long.highestOneBit was buggy on GWT.  We've fixed it, but I'm not certain when the fix will\n    // be released.\n    return 1L << ((Long.SIZE - 1) - Long.numberOfLeadingZeros(x));\n  }", "code_tokens": ["@", "Beta", "public", "static", "long", "floorPowerOfTwo", "(", "long", "x", ")", "{", "checkPositive", "(", "\"x\"", ",", "x", ")", ";", "// Long.highestOneBit was buggy on GWT.  We've fixed it, but I'm not certain when the fix will", "// be released.", "return", "1L", "<<", "(", "(", "Long", ".", "SIZE", "-", "1", ")", "-", "Long", ".", "numberOfLeadingZeros", "(", "x", ")", ")", ";", "}"], "docstring": "Returns the largest power of two less than or equal to {@code x}. This is equivalent to {@code\ncheckedPow(2, log2(x, FLOOR))}.\n\n@throws IllegalArgumentException if {@code x <= 0}\n@since 20.0", "docstring_tokens": ["Returns", "the", "largest", "power", "of", "two", "less", "than", "or", "equal", "to", "{", "@code", "x", "}", ".", "This", "is", "equivalent", "to", "{", "@code", "checkedPow", "(", "2", "log2", "(", "x", "FLOOR", "))", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L81-L88", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.log10", "original_string": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  // TODO(kevinb): remove after this warning is disabled globally\n  public static int log10(long x, RoundingMode mode) {\n    checkPositive(\"x\", x);\n    int logFloor = log10Floor(x);\n    long floorPow = powersOf10[logFloor];\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(x == floorPow);\n        // fall through\n      case FLOOR:\n      case DOWN:\n        return logFloor;\n      case CEILING:\n      case UP:\n        return logFloor + lessThanBranchFree(floorPow, x);\n      case HALF_DOWN:\n      case HALF_UP:\n      case HALF_EVEN:\n        // sqrt(10) is irrational, so log10(x)-logFloor is never exactly 0.5\n        return logFloor + lessThanBranchFree(halfPowersOf10[logFloor], x);\n      default:\n        throw new AssertionError();\n    }\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  // TODO(kevinb): remove after this warning is disabled globally\n  public static int log10(long x, RoundingMode mode) {\n    checkPositive(\"x\", x);\n    int logFloor = log10Floor(x);\n    long floorPow = powersOf10[logFloor];\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(x == floorPow);\n        // fall through\n      case FLOOR:\n      case DOWN:\n        return logFloor;\n      case CEILING:\n      case UP:\n        return logFloor + lessThanBranchFree(floorPow, x);\n      case HALF_DOWN:\n      case HALF_UP:\n      case HALF_EVEN:\n        // sqrt(10) is irrational, so log10(x)-logFloor is never exactly 0.5\n        return logFloor + lessThanBranchFree(halfPowersOf10[logFloor], x);\n      default:\n        throw new AssertionError();\n    }\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "@", "SuppressWarnings", "(", "\"fallthrough\"", ")", "// TODO(kevinb): remove after this warning is disabled globally", "public", "static", "int", "log10", "(", "long", "x", ",", "RoundingMode", "mode", ")", "{", "checkPositive", "(", "\"x\"", ",", "x", ")", ";", "int", "logFloor", "=", "log10Floor", "(", "x", ")", ";", "long", "floorPow", "=", "powersOf10", "[", "logFloor", "]", ";", "switch", "(", "mode", ")", "{", "case", "UNNECESSARY", ":", "checkRoundingUnnecessary", "(", "x", "==", "floorPow", ")", ";", "// fall through", "case", "FLOOR", ":", "case", "DOWN", ":", "return", "logFloor", ";", "case", "CEILING", ":", "case", "UP", ":", "return", "logFloor", "+", "lessThanBranchFree", "(", "floorPow", ",", "x", ")", ";", "case", "HALF_DOWN", ":", "case", "HALF_UP", ":", "case", "HALF_EVEN", ":", "// sqrt(10) is irrational, so log10(x)-logFloor is never exactly 0.5", "return", "logFloor", "+", "lessThanBranchFree", "(", "halfPowersOf10", "[", "logFloor", "]", ",", "x", ")", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "}"], "docstring": "Returns the base-10 logarithm of {@code x}, rounded according to the specified rounding mode.\n\n@throws IllegalArgumentException if {@code x <= 0}\n@throws ArithmeticException if {@code mode} is {@link RoundingMode#UNNECESSARY} and {@code x}\nis not a power of ten", "docstring_tokens": ["Returns", "the", "base", "-", "10", "logarithm", "of", "{", "@code", "x", "}", "rounded", "according", "to", "the", "specified", "rounding", "mode", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L159-L184", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.sqrt", "original_string": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  public static long sqrt(long x, RoundingMode mode) {\n    checkNonNegative(\"x\", x);\n    if (fitsInInt(x)) {\n      return IntMath.sqrt((int) x, mode);\n    }\n    /*\n     * Let k be the true value of floor(sqrt(x)), so that\n     *\n     *            k * k <= x          <  (k + 1) * (k + 1)\n     * (double) (k * k) <= (double) x <= (double) ((k + 1) * (k + 1))\n     *          since casting to double is nondecreasing.\n     *          Note that the right-hand inequality is no longer strict.\n     * Math.sqrt(k * k) <= Math.sqrt(x) <= Math.sqrt((k + 1) * (k + 1))\n     *          since Math.sqrt is monotonic.\n     * (long) Math.sqrt(k * k) <= (long) Math.sqrt(x) <= (long) Math.sqrt((k + 1) * (k + 1))\n     *          since casting to long is monotonic\n     * k <= (long) Math.sqrt(x) <= k + 1\n     *          since (long) Math.sqrt(k * k) == k, as checked exhaustively in\n     *          {@link LongMathTest#testSqrtOfPerfectSquareAsDoubleIsPerfect}\n     */\n    long guess = (long) Math.sqrt(x);\n    // Note: guess is always <= FLOOR_SQRT_MAX_LONG.\n    long guessSquared = guess * guess;\n    // Note (2013-2-26): benchmarks indicate that, inscrutably enough, using if statements is\n    // faster here than using lessThanBranchFree.\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(guessSquared == x);\n        return guess;\n      case FLOOR:\n      case DOWN:\n        if (x < guessSquared) {\n          return guess - 1;\n        }\n        return guess;\n      case CEILING:\n      case UP:\n        if (x > guessSquared) {\n          return guess + 1;\n        }\n        return guess;\n      case HALF_DOWN:\n      case HALF_UP:\n      case HALF_EVEN:\n        long sqrtFloor = guess - ((x < guessSquared) ? 1 : 0);\n        long halfSquare = sqrtFloor * sqrtFloor + sqrtFloor;\n        /*\n         * We wish to test whether or not x <= (sqrtFloor + 0.5)^2 = halfSquare + 0.25. Since both x\n         * and halfSquare are integers, this is equivalent to testing whether or not x <=\n         * halfSquare. (We have to deal with overflow, though.)\n         *\n         * If we treat halfSquare as an unsigned long, we know that\n         *            sqrtFloor^2 <= x < (sqrtFloor + 1)^2\n         * halfSquare - sqrtFloor <= x < halfSquare + sqrtFloor + 1\n         * so |x - halfSquare| <= sqrtFloor.  Therefore, it's safe to treat x - halfSquare as a\n         * signed long, so lessThanBranchFree is safe for use.\n         */\n        return sqrtFloor + lessThanBranchFree(halfSquare, x);\n      default:\n        throw new AssertionError();\n    }\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  public static long sqrt(long x, RoundingMode mode) {\n    checkNonNegative(\"x\", x);\n    if (fitsInInt(x)) {\n      return IntMath.sqrt((int) x, mode);\n    }\n    /*\n     * Let k be the true value of floor(sqrt(x)), so that\n     *\n     *            k * k <= x          <  (k + 1) * (k + 1)\n     * (double) (k * k) <= (double) x <= (double) ((k + 1) * (k + 1))\n     *          since casting to double is nondecreasing.\n     *          Note that the right-hand inequality is no longer strict.\n     * Math.sqrt(k * k) <= Math.sqrt(x) <= Math.sqrt((k + 1) * (k + 1))\n     *          since Math.sqrt is monotonic.\n     * (long) Math.sqrt(k * k) <= (long) Math.sqrt(x) <= (long) Math.sqrt((k + 1) * (k + 1))\n     *          since casting to long is monotonic\n     * k <= (long) Math.sqrt(x) <= k + 1\n     *          since (long) Math.sqrt(k * k) == k, as checked exhaustively in\n     *          {@link LongMathTest#testSqrtOfPerfectSquareAsDoubleIsPerfect}\n     */\n    long guess = (long) Math.sqrt(x);\n    // Note: guess is always <= FLOOR_SQRT_MAX_LONG.\n    long guessSquared = guess * guess;\n    // Note (2013-2-26): benchmarks indicate that, inscrutably enough, using if statements is\n    // faster here than using lessThanBranchFree.\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(guessSquared == x);\n        return guess;\n      case FLOOR:\n      case DOWN:\n        if (x < guessSquared) {\n          return guess - 1;\n        }\n        return guess;\n      case CEILING:\n      case UP:\n        if (x > guessSquared) {\n          return guess + 1;\n        }\n        return guess;\n      case HALF_DOWN:\n      case HALF_UP:\n      case HALF_EVEN:\n        long sqrtFloor = guess - ((x < guessSquared) ? 1 : 0);\n        long halfSquare = sqrtFloor * sqrtFloor + sqrtFloor;\n        /*\n         * We wish to test whether or not x <= (sqrtFloor + 0.5)^2 = halfSquare + 0.25. Since both x\n         * and halfSquare are integers, this is equivalent to testing whether or not x <=\n         * halfSquare. (We have to deal with overflow, though.)\n         *\n         * If we treat halfSquare as an unsigned long, we know that\n         *            sqrtFloor^2 <= x < (sqrtFloor + 1)^2\n         * halfSquare - sqrtFloor <= x < halfSquare + sqrtFloor + 1\n         * so |x - halfSquare| <= sqrtFloor.  Therefore, it's safe to treat x - halfSquare as a\n         * signed long, so lessThanBranchFree is safe for use.\n         */\n        return sqrtFloor + lessThanBranchFree(halfSquare, x);\n      default:\n        throw new AssertionError();\n    }\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "@", "SuppressWarnings", "(", "\"fallthrough\"", ")", "public", "static", "long", "sqrt", "(", "long", "x", ",", "RoundingMode", "mode", ")", "{", "checkNonNegative", "(", "\"x\"", ",", "x", ")", ";", "if", "(", "fitsInInt", "(", "x", ")", ")", "{", "return", "IntMath", ".", "sqrt", "(", "(", "int", ")", "x", ",", "mode", ")", ";", "}", "/*\n     * Let k be the true value of floor(sqrt(x)), so that\n     *\n     *            k * k <= x          <  (k + 1) * (k + 1)\n     * (double) (k * k) <= (double) x <= (double) ((k + 1) * (k + 1))\n     *          since casting to double is nondecreasing.\n     *          Note that the right-hand inequality is no longer strict.\n     * Math.sqrt(k * k) <= Math.sqrt(x) <= Math.sqrt((k + 1) * (k + 1))\n     *          since Math.sqrt is monotonic.\n     * (long) Math.sqrt(k * k) <= (long) Math.sqrt(x) <= (long) Math.sqrt((k + 1) * (k + 1))\n     *          since casting to long is monotonic\n     * k <= (long) Math.sqrt(x) <= k + 1\n     *          since (long) Math.sqrt(k * k) == k, as checked exhaustively in\n     *          {@link LongMathTest#testSqrtOfPerfectSquareAsDoubleIsPerfect}\n     */", "long", "guess", "=", "(", "long", ")", "Math", ".", "sqrt", "(", "x", ")", ";", "// Note: guess is always <= FLOOR_SQRT_MAX_LONG.", "long", "guessSquared", "=", "guess", "*", "guess", ";", "// Note (2013-2-26): benchmarks indicate that, inscrutably enough, using if statements is", "// faster here than using lessThanBranchFree.", "switch", "(", "mode", ")", "{", "case", "UNNECESSARY", ":", "checkRoundingUnnecessary", "(", "guessSquared", "==", "x", ")", ";", "return", "guess", ";", "case", "FLOOR", ":", "case", "DOWN", ":", "if", "(", "x", "<", "guessSquared", ")", "{", "return", "guess", "-", "1", ";", "}", "return", "guess", ";", "case", "CEILING", ":", "case", "UP", ":", "if", "(", "x", ">", "guessSquared", ")", "{", "return", "guess", "+", "1", ";", "}", "return", "guess", ";", "case", "HALF_DOWN", ":", "case", "HALF_UP", ":", "case", "HALF_EVEN", ":", "long", "sqrtFloor", "=", "guess", "-", "(", "(", "x", "<", "guessSquared", ")", "?", "1", ":", "0", ")", ";", "long", "halfSquare", "=", "sqrtFloor", "*", "sqrtFloor", "+", "sqrtFloor", ";", "/*\n         * We wish to test whether or not x <= (sqrtFloor + 0.5)^2 = halfSquare + 0.25. Since both x\n         * and halfSquare are integers, this is equivalent to testing whether or not x <=\n         * halfSquare. (We have to deal with overflow, though.)\n         *\n         * If we treat halfSquare as an unsigned long, we know that\n         *            sqrtFloor^2 <= x < (sqrtFloor + 1)^2\n         * halfSquare - sqrtFloor <= x < halfSquare + sqrtFloor + 1\n         * so |x - halfSquare| <= sqrtFloor.  Therefore, it's safe to treat x - halfSquare as a\n         * signed long, so lessThanBranchFree is safe for use.\n         */", "return", "sqrtFloor", "+", "lessThanBranchFree", "(", "halfSquare", ",", "x", ")", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "}"], "docstring": "Returns the square root of {@code x}, rounded with the specified rounding mode.\n\n@throws IllegalArgumentException if {@code x < 0}\n@throws ArithmeticException if {@code mode} is {@link RoundingMode#UNNECESSARY} and {@code\nsqrt(x)} is not an integer", "docstring_tokens": ["Returns", "the", "square", "root", "of", "{", "@code", "x", "}", "rounded", "with", "the", "specified", "rounding", "mode", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L310-L373", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.divide", "original_string": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  public static long divide(long p, long q, RoundingMode mode) {\n    checkNotNull(mode);\n    long div = p / q; // throws if q == 0\n    long rem = p - q * div; // equals p % q\n\n    if (rem == 0) {\n      return div;\n    }\n\n    /*\n     * Normal Java division rounds towards 0, consistently with RoundingMode.DOWN. We just have to\n     * deal with the cases where rounding towards 0 is wrong, which typically depends on the sign of\n     * p / q.\n     *\n     * signum is 1 if p and q are both nonnegative or both negative, and -1 otherwise.\n     */\n    int signum = 1 | (int) ((p ^ q) >> (Long.SIZE - 1));\n    boolean increment;\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(rem == 0);\n        // fall through\n      case DOWN:\n        increment = false;\n        break;\n      case UP:\n        increment = true;\n        break;\n      case CEILING:\n        increment = signum > 0;\n        break;\n      case FLOOR:\n        increment = signum < 0;\n        break;\n      case HALF_EVEN:\n      case HALF_DOWN:\n      case HALF_UP:\n        long absRem = abs(rem);\n        long cmpRemToHalfDivisor = absRem - (abs(q) - absRem);\n        // subtracting two nonnegative longs can't overflow\n        // cmpRemToHalfDivisor has the same sign as compare(abs(rem), abs(q) / 2).\n        if (cmpRemToHalfDivisor == 0) { // exactly on the half mark\n          increment = (mode == HALF_UP | (mode == HALF_EVEN & (div & 1) != 0));\n        } else {\n          increment = cmpRemToHalfDivisor > 0; // closer to the UP value\n        }\n        break;\n      default:\n        throw new AssertionError();\n    }\n    return increment ? div + signum : div;\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  @SuppressWarnings(\"fallthrough\")\n  public static long divide(long p, long q, RoundingMode mode) {\n    checkNotNull(mode);\n    long div = p / q; // throws if q == 0\n    long rem = p - q * div; // equals p % q\n\n    if (rem == 0) {\n      return div;\n    }\n\n    /*\n     * Normal Java division rounds towards 0, consistently with RoundingMode.DOWN. We just have to\n     * deal with the cases where rounding towards 0 is wrong, which typically depends on the sign of\n     * p / q.\n     *\n     * signum is 1 if p and q are both nonnegative or both negative, and -1 otherwise.\n     */\n    int signum = 1 | (int) ((p ^ q) >> (Long.SIZE - 1));\n    boolean increment;\n    switch (mode) {\n      case UNNECESSARY:\n        checkRoundingUnnecessary(rem == 0);\n        // fall through\n      case DOWN:\n        increment = false;\n        break;\n      case UP:\n        increment = true;\n        break;\n      case CEILING:\n        increment = signum > 0;\n        break;\n      case FLOOR:\n        increment = signum < 0;\n        break;\n      case HALF_EVEN:\n      case HALF_DOWN:\n      case HALF_UP:\n        long absRem = abs(rem);\n        long cmpRemToHalfDivisor = absRem - (abs(q) - absRem);\n        // subtracting two nonnegative longs can't overflow\n        // cmpRemToHalfDivisor has the same sign as compare(abs(rem), abs(q) / 2).\n        if (cmpRemToHalfDivisor == 0) { // exactly on the half mark\n          increment = (mode == HALF_UP | (mode == HALF_EVEN & (div & 1) != 0));\n        } else {\n          increment = cmpRemToHalfDivisor > 0; // closer to the UP value\n        }\n        break;\n      default:\n        throw new AssertionError();\n    }\n    return increment ? div + signum : div;\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "@", "SuppressWarnings", "(", "\"fallthrough\"", ")", "public", "static", "long", "divide", "(", "long", "p", ",", "long", "q", ",", "RoundingMode", "mode", ")", "{", "checkNotNull", "(", "mode", ")", ";", "long", "div", "=", "p", "/", "q", ";", "// throws if q == 0", "long", "rem", "=", "p", "-", "q", "*", "div", ";", "// equals p % q", "if", "(", "rem", "==", "0", ")", "{", "return", "div", ";", "}", "/*\n     * Normal Java division rounds towards 0, consistently with RoundingMode.DOWN. We just have to\n     * deal with the cases where rounding towards 0 is wrong, which typically depends on the sign of\n     * p / q.\n     *\n     * signum is 1 if p and q are both nonnegative or both negative, and -1 otherwise.\n     */", "int", "signum", "=", "1", "|", "(", "int", ")", "(", "(", "p", "^", "q", ")", ">>", "(", "Long", ".", "SIZE", "-", "1", ")", ")", ";", "boolean", "increment", ";", "switch", "(", "mode", ")", "{", "case", "UNNECESSARY", ":", "checkRoundingUnnecessary", "(", "rem", "==", "0", ")", ";", "// fall through", "case", "DOWN", ":", "increment", "=", "false", ";", "break", ";", "case", "UP", ":", "increment", "=", "true", ";", "break", ";", "case", "CEILING", ":", "increment", "=", "signum", ">", "0", ";", "break", ";", "case", "FLOOR", ":", "increment", "=", "signum", "<", "0", ";", "break", ";", "case", "HALF_EVEN", ":", "case", "HALF_DOWN", ":", "case", "HALF_UP", ":", "long", "absRem", "=", "abs", "(", "rem", ")", ";", "long", "cmpRemToHalfDivisor", "=", "absRem", "-", "(", "abs", "(", "q", ")", "-", "absRem", ")", ";", "// subtracting two nonnegative longs can't overflow", "// cmpRemToHalfDivisor has the same sign as compare(abs(rem), abs(q) / 2).", "if", "(", "cmpRemToHalfDivisor", "==", "0", ")", "{", "// exactly on the half mark", "increment", "=", "(", "mode", "==", "HALF_UP", "|", "(", "mode", "==", "HALF_EVEN", "&", "(", "div", "&", "1", ")", "!=", "0", ")", ")", ";", "}", "else", "{", "increment", "=", "cmpRemToHalfDivisor", ">", "0", ";", "// closer to the UP value", "}", "break", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "return", "increment", "?", "div", "+", "signum", ":", "div", ";", "}"], "docstring": "Returns the result of dividing {@code p} by {@code q}, rounding using the specified {@code\nRoundingMode}.\n\n@throws ArithmeticException if {@code q == 0}, or if {@code mode == UNNECESSARY} and {@code a}\nis not an integer multiple of {@code b}", "docstring_tokens": ["Returns", "the", "result", "of", "dividing", "{", "@code", "p", "}", "by", "{", "@code", "q", "}", "rounding", "using", "the", "specified", "{", "@code", "RoundingMode", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L382-L435", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.checkedSubtract", "original_string": "@GwtIncompatible // TODO\n  public static long checkedSubtract(long a, long b) {\n    long result = a - b;\n    checkNoOverflow((a ^ b) >= 0 | (a ^ result) >= 0, \"checkedSubtract\", a, b);\n    return result;\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  public static long checkedSubtract(long a, long b) {\n    long result = a - b;\n    checkNoOverflow((a ^ b) >= 0 | (a ^ result) >= 0, \"checkedSubtract\", a, b);\n    return result;\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "public", "static", "long", "checkedSubtract", "(", "long", "a", ",", "long", "b", ")", "{", "long", "result", "=", "a", "-", "b", ";", "checkNoOverflow", "(", "(", "a", "^", "b", ")", ">=", "0", "|", "(", "a", "^", "result", ")", ">=", "0", ",", "\"checkedSubtract\"", ",", "a", ",", "b", ")", ";", "return", "result", ";", "}"], "docstring": "Returns the difference of {@code a} and {@code b}, provided it does not overflow.\n\n@throws ArithmeticException if {@code a - b} overflows in signed {@code long} arithmetic", "docstring_tokens": ["Returns", "the", "difference", "of", "{", "@code", "a", "}", "and", "{", "@code", "b", "}", "provided", "it", "does", "not", "overflow", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L556-L561", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.checkedPow", "original_string": "@GwtIncompatible // TODO\n  public static long checkedPow(long b, int k) {\n    checkNonNegative(\"exponent\", k);\n    if (b >= -2 & b <= 2) {\n      switch ((int) b) {\n        case 0:\n          return (k == 0) ? 1 : 0;\n        case 1:\n          return 1;\n        case (-1):\n          return ((k & 1) == 0) ? 1 : -1;\n        case 2:\n          checkNoOverflow(k < Long.SIZE - 1, \"checkedPow\", b, k);\n          return 1L << k;\n        case (-2):\n          checkNoOverflow(k < Long.SIZE, \"checkedPow\", b, k);\n          return ((k & 1) == 0) ? (1L << k) : (-1L << k);\n        default:\n          throw new AssertionError();\n      }\n    }\n    long accum = 1;\n    while (true) {\n      switch (k) {\n        case 0:\n          return accum;\n        case 1:\n          return checkedMultiply(accum, b);\n        default:\n          if ((k & 1) != 0) {\n            accum = checkedMultiply(accum, b);\n          }\n          k >>= 1;\n          if (k > 0) {\n            checkNoOverflow(\n                -FLOOR_SQRT_MAX_LONG <= b && b <= FLOOR_SQRT_MAX_LONG, \"checkedPow\", b, k);\n            b *= b;\n          }\n      }\n    }\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  public static long checkedPow(long b, int k) {\n    checkNonNegative(\"exponent\", k);\n    if (b >= -2 & b <= 2) {\n      switch ((int) b) {\n        case 0:\n          return (k == 0) ? 1 : 0;\n        case 1:\n          return 1;\n        case (-1):\n          return ((k & 1) == 0) ? 1 : -1;\n        case 2:\n          checkNoOverflow(k < Long.SIZE - 1, \"checkedPow\", b, k);\n          return 1L << k;\n        case (-2):\n          checkNoOverflow(k < Long.SIZE, \"checkedPow\", b, k);\n          return ((k & 1) == 0) ? (1L << k) : (-1L << k);\n        default:\n          throw new AssertionError();\n      }\n    }\n    long accum = 1;\n    while (true) {\n      switch (k) {\n        case 0:\n          return accum;\n        case 1:\n          return checkedMultiply(accum, b);\n        default:\n          if ((k & 1) != 0) {\n            accum = checkedMultiply(accum, b);\n          }\n          k >>= 1;\n          if (k > 0) {\n            checkNoOverflow(\n                -FLOOR_SQRT_MAX_LONG <= b && b <= FLOOR_SQRT_MAX_LONG, \"checkedPow\", b, k);\n            b *= b;\n          }\n      }\n    }\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "public", "static", "long", "checkedPow", "(", "long", "b", ",", "int", "k", ")", "{", "checkNonNegative", "(", "\"exponent\"", ",", "k", ")", ";", "if", "(", "b", ">=", "-", "2", "&", "b", "<=", "2", ")", "{", "switch", "(", "(", "int", ")", "b", ")", "{", "case", "0", ":", "return", "(", "k", "==", "0", ")", "?", "1", ":", "0", ";", "case", "1", ":", "return", "1", ";", "case", "(", "-", "1", ")", ":", "return", "(", "(", "k", "&", "1", ")", "==", "0", ")", "?", "1", ":", "-", "1", ";", "case", "2", ":", "checkNoOverflow", "(", "k", "<", "Long", ".", "SIZE", "-", "1", ",", "\"checkedPow\"", ",", "b", ",", "k", ")", ";", "return", "1L", "<<", "k", ";", "case", "(", "-", "2", ")", ":", "checkNoOverflow", "(", "k", "<", "Long", ".", "SIZE", ",", "\"checkedPow\"", ",", "b", ",", "k", ")", ";", "return", "(", "(", "k", "&", "1", ")", "==", "0", ")", "?", "(", "1L", "<<", "k", ")", ":", "(", "-", "1L", "<<", "k", ")", ";", "default", ":", "throw", "new", "AssertionError", "(", ")", ";", "}", "}", "long", "accum", "=", "1", ";", "while", "(", "true", ")", "{", "switch", "(", "k", ")", "{", "case", "0", ":", "return", "accum", ";", "case", "1", ":", "return", "checkedMultiply", "(", "accum", ",", "b", ")", ";", "default", ":", "if", "(", "(", "k", "&", "1", ")", "!=", "0", ")", "{", "accum", "=", "checkedMultiply", "(", "accum", ",", "b", ")", ";", "}", "k", ">>=", "1", ";", "if", "(", "k", ">", "0", ")", "{", "checkNoOverflow", "(", "-", "FLOOR_SQRT_MAX_LONG", "<=", "b", "&&", "b", "<=", "FLOOR_SQRT_MAX_LONG", ",", "\"checkedPow\"", ",", "b", ",", "k", ")", ";", "b", "*=", "b", ";", "}", "}", "}", "}"], "docstring": "Returns the {@code b} to the {@code k}th power, provided it does not overflow.\n\n@throws ArithmeticException if {@code b} to the {@code k}th power overflows in signed {@code\nlong} arithmetic", "docstring_tokens": ["Returns", "the", "{", "@code", "b", "}", "to", "the", "{", "@code", "k", "}", "th", "power", "provided", "it", "does", "not", "overflow", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L601-L641", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.factorial", "original_string": "@GwtIncompatible // TODO\n  public static long factorial(int n) {\n    checkNonNegative(\"n\", n);\n    return (n < factorials.length) ? factorials[n] : Long.MAX_VALUE;\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  public static long factorial(int n) {\n    checkNonNegative(\"n\", n);\n    return (n < factorials.length) ? factorials[n] : Long.MAX_VALUE;\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "public", "static", "long", "factorial", "(", "int", "n", ")", "{", "checkNonNegative", "(", "\"n\"", ",", "n", ")", ";", "return", "(", "n", "<", "factorials", ".", "length", ")", "?", "factorials", "[", "n", "]", ":", "Long", ".", "MAX_VALUE", ";", "}"], "docstring": "Returns {@code n!}, that is, the product of the first {@code n} positive integers, {@code 1} if\n{@code n == 0}, or {@link Long#MAX_VALUE} if the result does not fit in a {@code long}.\n\n@throws IllegalArgumentException if {@code n < 0}", "docstring_tokens": ["Returns", "{", "@code", "n!", "}", "that", "is", "the", "product", "of", "the", "first", "{", "@code", "n", "}", "positive", "integers", "{", "@code", "1", "}", "if", "{", "@code", "n", "==", "0", "}", "or", "{", "@link", "Long#MAX_VALUE", "}", "if", "the", "result", "does", "not", "fit", "in", "a", "{", "@code", "long", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L772-L776", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.binomial", "original_string": "public static long binomial(int n, int k) {\n    checkNonNegative(\"n\", n);\n    checkNonNegative(\"k\", k);\n    checkArgument(k <= n, \"k (%s) > n (%s)\", k, n);\n    if (k > (n >> 1)) {\n      k = n - k;\n    }\n    switch (k) {\n      case 0:\n        return 1;\n      case 1:\n        return n;\n      default:\n        if (n < factorials.length) {\n          return factorials[n] / (factorials[k] * factorials[n - k]);\n        } else if (k >= biggestBinomials.length || n > biggestBinomials[k]) {\n          return Long.MAX_VALUE;\n        } else if (k < biggestSimpleBinomials.length && n <= biggestSimpleBinomials[k]) {\n          // guaranteed not to overflow\n          long result = n--;\n          for (int i = 2; i <= k; n--, i++) {\n            result *= n;\n            result /= i;\n          }\n          return result;\n        } else {\n          int nBits = LongMath.log2(n, RoundingMode.CEILING);\n\n          long result = 1;\n          long numerator = n--;\n          long denominator = 1;\n\n          int numeratorBits = nBits;\n          // This is an upper bound on log2(numerator, ceiling).\n\n          /*\n           * We want to do this in long math for speed, but want to avoid overflow. We adapt the\n           * technique previously used by BigIntegerMath: maintain separate numerator and\n           * denominator accumulators, multiplying the fraction into result when near overflow.\n           */\n          for (int i = 2; i <= k; i++, n--) {\n            if (numeratorBits + nBits < Long.SIZE - 1) {\n              // It's definitely safe to multiply into numerator and denominator.\n              numerator *= n;\n              denominator *= i;\n              numeratorBits += nBits;\n            } else {\n              // It might not be safe to multiply into numerator and denominator,\n              // so multiply (numerator / denominator) into result.\n              result = multiplyFraction(result, numerator, denominator);\n              numerator = n;\n              denominator = i;\n              numeratorBits = nBits;\n            }\n          }\n          return multiplyFraction(result, numerator, denominator);\n        }\n    }\n  }", "language": "java", "code": "public static long binomial(int n, int k) {\n    checkNonNegative(\"n\", n);\n    checkNonNegative(\"k\", k);\n    checkArgument(k <= n, \"k (%s) > n (%s)\", k, n);\n    if (k > (n >> 1)) {\n      k = n - k;\n    }\n    switch (k) {\n      case 0:\n        return 1;\n      case 1:\n        return n;\n      default:\n        if (n < factorials.length) {\n          return factorials[n] / (factorials[k] * factorials[n - k]);\n        } else if (k >= biggestBinomials.length || n > biggestBinomials[k]) {\n          return Long.MAX_VALUE;\n        } else if (k < biggestSimpleBinomials.length && n <= biggestSimpleBinomials[k]) {\n          // guaranteed not to overflow\n          long result = n--;\n          for (int i = 2; i <= k; n--, i++) {\n            result *= n;\n            result /= i;\n          }\n          return result;\n        } else {\n          int nBits = LongMath.log2(n, RoundingMode.CEILING);\n\n          long result = 1;\n          long numerator = n--;\n          long denominator = 1;\n\n          int numeratorBits = nBits;\n          // This is an upper bound on log2(numerator, ceiling).\n\n          /*\n           * We want to do this in long math for speed, but want to avoid overflow. We adapt the\n           * technique previously used by BigIntegerMath: maintain separate numerator and\n           * denominator accumulators, multiplying the fraction into result when near overflow.\n           */\n          for (int i = 2; i <= k; i++, n--) {\n            if (numeratorBits + nBits < Long.SIZE - 1) {\n              // It's definitely safe to multiply into numerator and denominator.\n              numerator *= n;\n              denominator *= i;\n              numeratorBits += nBits;\n            } else {\n              // It might not be safe to multiply into numerator and denominator,\n              // so multiply (numerator / denominator) into result.\n              result = multiplyFraction(result, numerator, denominator);\n              numerator = n;\n              denominator = i;\n              numeratorBits = nBits;\n            }\n          }\n          return multiplyFraction(result, numerator, denominator);\n        }\n    }\n  }", "code_tokens": ["public", "static", "long", "binomial", "(", "int", "n", ",", "int", "k", ")", "{", "checkNonNegative", "(", "\"n\"", ",", "n", ")", ";", "checkNonNegative", "(", "\"k\"", ",", "k", ")", ";", "checkArgument", "(", "k", "<=", "n", ",", "\"k (%s) > n (%s)\"", ",", "k", ",", "n", ")", ";", "if", "(", "k", ">", "(", "n", ">>", "1", ")", ")", "{", "k", "=", "n", "-", "k", ";", "}", "switch", "(", "k", ")", "{", "case", "0", ":", "return", "1", ";", "case", "1", ":", "return", "n", ";", "default", ":", "if", "(", "n", "<", "factorials", ".", "length", ")", "{", "return", "factorials", "[", "n", "]", "/", "(", "factorials", "[", "k", "]", "*", "factorials", "[", "n", "-", "k", "]", ")", ";", "}", "else", "if", "(", "k", ">=", "biggestBinomials", ".", "length", "||", "n", ">", "biggestBinomials", "[", "k", "]", ")", "{", "return", "Long", ".", "MAX_VALUE", ";", "}", "else", "if", "(", "k", "<", "biggestSimpleBinomials", ".", "length", "&&", "n", "<=", "biggestSimpleBinomials", "[", "k", "]", ")", "{", "// guaranteed not to overflow", "long", "result", "=", "n", "--", ";", "for", "(", "int", "i", "=", "2", ";", "i", "<=", "k", ";", "n", "--", ",", "i", "++", ")", "{", "result", "*=", "n", ";", "result", "/=", "i", ";", "}", "return", "result", ";", "}", "else", "{", "int", "nBits", "=", "LongMath", ".", "log2", "(", "n", ",", "RoundingMode", ".", "CEILING", ")", ";", "long", "result", "=", "1", ";", "long", "numerator", "=", "n", "--", ";", "long", "denominator", "=", "1", ";", "int", "numeratorBits", "=", "nBits", ";", "// This is an upper bound on log2(numerator, ceiling).", "/*\n           * We want to do this in long math for speed, but want to avoid overflow. We adapt the\n           * technique previously used by BigIntegerMath: maintain separate numerator and\n           * denominator accumulators, multiplying the fraction into result when near overflow.\n           */", "for", "(", "int", "i", "=", "2", ";", "i", "<=", "k", ";", "i", "++", ",", "n", "--", ")", "{", "if", "(", "numeratorBits", "+", "nBits", "<", "Long", ".", "SIZE", "-", "1", ")", "{", "// It's definitely safe to multiply into numerator and denominator.", "numerator", "*=", "n", ";", "denominator", "*=", "i", ";", "numeratorBits", "+=", "nBits", ";", "}", "else", "{", "// It might not be safe to multiply into numerator and denominator,", "// so multiply (numerator / denominator) into result.", "result", "=", "multiplyFraction", "(", "result", ",", "numerator", ",", "denominator", ")", ";", "numerator", "=", "n", ";", "denominator", "=", "i", ";", "numeratorBits", "=", "nBits", ";", "}", "}", "return", "multiplyFraction", "(", "result", ",", "numerator", ",", "denominator", ")", ";", "}", "}", "}"], "docstring": "Returns {@code n} choose {@code k}, also known as the binomial coefficient of {@code n} and\n{@code k}, or {@link Long#MAX_VALUE} if the result does not fit in a {@code long}.\n\n@throws IllegalArgumentException if {@code n < 0}, {@code k < 0}, or {@code k > n}", "docstring_tokens": ["Returns", "{", "@code", "n", "}", "choose", "{", "@code", "k", "}", "also", "known", "as", "the", "binomial", "coefficient", "of", "{", "@code", "n", "}", "and", "{", "@code", "k", "}", "or", "{", "@link", "Long#MAX_VALUE", "}", "if", "the", "result", "does", "not", "fit", "in", "a", "{", "@code", "long", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L808-L866", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.multiplyFraction", "original_string": "static long multiplyFraction(long x, long numerator, long denominator) {\n    if (x == 1) {\n      return numerator / denominator;\n    }\n    long commonDivisor = gcd(x, denominator);\n    x /= commonDivisor;\n    denominator /= commonDivisor;\n    // We know gcd(x, denominator) = 1, and x * numerator / denominator is exact,\n    // so denominator must be a divisor of numerator.\n    return x * (numerator / denominator);\n  }", "language": "java", "code": "static long multiplyFraction(long x, long numerator, long denominator) {\n    if (x == 1) {\n      return numerator / denominator;\n    }\n    long commonDivisor = gcd(x, denominator);\n    x /= commonDivisor;\n    denominator /= commonDivisor;\n    // We know gcd(x, denominator) = 1, and x * numerator / denominator is exact,\n    // so denominator must be a divisor of numerator.\n    return x * (numerator / denominator);\n  }", "code_tokens": ["static", "long", "multiplyFraction", "(", "long", "x", ",", "long", "numerator", ",", "long", "denominator", ")", "{", "if", "(", "x", "==", "1", ")", "{", "return", "numerator", "/", "denominator", ";", "}", "long", "commonDivisor", "=", "gcd", "(", "x", ",", "denominator", ")", ";", "x", "/=", "commonDivisor", ";", "denominator", "/=", "commonDivisor", ";", "// We know gcd(x, denominator) = 1, and x * numerator / denominator is exact,", "// so denominator must be a divisor of numerator.", "return", "x", "*", "(", "numerator", "/", "denominator", ")", ";", "}"], "docstring": "Returns (x * numerator / denominator), which is assumed to come out to an integral value.", "docstring_tokens": ["Returns", "(", "x", "*", "numerator", "/", "denominator", ")", "which", "is", "assumed", "to", "come", "out", "to", "an", "integral", "value", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L869-L879", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/math/LongMath.java", "func_name": "LongMath.isPrime", "original_string": "@GwtIncompatible // TODO\n  @Beta\n  public static boolean isPrime(long n) {\n    if (n < 2) {\n      checkNonNegative(\"n\", n);\n      return false;\n    }\n    if (n == 2 || n == 3 || n == 5 || n == 7 || n == 11 || n == 13) {\n      return true;\n    }\n\n    if ((SIEVE_30 & (1 << (n % 30))) != 0) {\n      return false;\n    }\n    if (n % 7 == 0 || n % 11 == 0 || n % 13 == 0) {\n      return false;\n    }\n    if (n < 17 * 17) {\n      return true;\n    }\n\n    for (long[] baseSet : millerRabinBaseSets) {\n      if (n <= baseSet[0]) {\n        for (int i = 1; i < baseSet.length; i++) {\n          if (!MillerRabinTester.test(baseSet[i], n)) {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    throw new AssertionError();\n  }", "language": "java", "code": "@GwtIncompatible // TODO\n  @Beta\n  public static boolean isPrime(long n) {\n    if (n < 2) {\n      checkNonNegative(\"n\", n);\n      return false;\n    }\n    if (n == 2 || n == 3 || n == 5 || n == 7 || n == 11 || n == 13) {\n      return true;\n    }\n\n    if ((SIEVE_30 & (1 << (n % 30))) != 0) {\n      return false;\n    }\n    if (n % 7 == 0 || n % 11 == 0 || n % 13 == 0) {\n      return false;\n    }\n    if (n < 17 * 17) {\n      return true;\n    }\n\n    for (long[] baseSet : millerRabinBaseSets) {\n      if (n <= baseSet[0]) {\n        for (int i = 1; i < baseSet.length; i++) {\n          if (!MillerRabinTester.test(baseSet[i], n)) {\n            return false;\n          }\n        }\n        return true;\n      }\n    }\n    throw new AssertionError();\n  }", "code_tokens": ["@", "GwtIncompatible", "// TODO", "@", "Beta", "public", "static", "boolean", "isPrime", "(", "long", "n", ")", "{", "if", "(", "n", "<", "2", ")", "{", "checkNonNegative", "(", "\"n\"", ",", "n", ")", ";", "return", "false", ";", "}", "if", "(", "n", "==", "2", "||", "n", "==", "3", "||", "n", "==", "5", "||", "n", "==", "7", "||", "n", "==", "11", "||", "n", "==", "13", ")", "{", "return", "true", ";", "}", "if", "(", "(", "SIEVE_30", "&", "(", "1", "<<", "(", "n", "%", "30", ")", ")", ")", "!=", "0", ")", "{", "return", "false", ";", "}", "if", "(", "n", "%", "7", "==", "0", "||", "n", "%", "11", "==", "0", "||", "n", "%", "13", "==", "0", ")", "{", "return", "false", ";", "}", "if", "(", "n", "<", "17", "*", "17", ")", "{", "return", "true", ";", "}", "for", "(", "long", "[", "]", "baseSet", ":", "millerRabinBaseSets", ")", "{", "if", "(", "n", "<=", "baseSet", "[", "0", "]", ")", "{", "for", "(", "int", "i", "=", "1", ";", "i", "<", "baseSet", ".", "length", ";", "i", "++", ")", "{", "if", "(", "!", "MillerRabinTester", ".", "test", "(", "baseSet", "[", "i", "]", ",", "n", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "}", "throw", "new", "AssertionError", "(", ")", ";", "}"], "docstring": "Returns {@code true} if {@code n} is a <a\nhref=\"http://mathworld.wolfram.com/PrimeNumber.html\">prime number</a>: an integer <i>greater\nthan one</i> that cannot be factored into a product of <i>smaller</i> positive integers.\nReturns {@code false} if {@code n} is zero, one, or a composite number (one which <i>can</i> be\nfactored into smaller positive integers).\n\n<p>To test larger numbers, use {@link BigInteger#isProbablePrime}.\n\n@throws IllegalArgumentException if {@code n} is negative\n@since 20.0", "docstring_tokens": ["Returns", "{", "@code", "true", "}", "if", "{", "@code", "n", "}", "is", "a", "<a", "href", "=", "http", ":", "//", "mathworld", ".", "wolfram", ".", "com", "/", "PrimeNumber", ".", "html", ">", "prime", "number<", "/", "a", ">", ":", "an", "integer", "<i", ">", "greater", "than", "one<", "/", "i", ">", "that", "cannot", "be", "factored", "into", "a", "product", "of", "<i", ">", "smaller<", "/", "i", ">", "positive", "integers", ".", "Returns", "{", "@code", "false", "}", "if", "{", "@code", "n", "}", "is", "zero", "one", "or", "a", "composite", "number", "(", "one", "which", "<i", ">", "can<", "/", "i", ">", "be", "factored", "into", "smaller", "positive", "integers", ")", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/math/LongMath.java#L1000-L1032", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/Chars.java", "func_name": "Chars.saturatedCast", "original_string": "public static char saturatedCast(long value) {\n    if (value > Character.MAX_VALUE) {\n      return Character.MAX_VALUE;\n    }\n    if (value < Character.MIN_VALUE) {\n      return Character.MIN_VALUE;\n    }\n    return (char) value;\n  }", "language": "java", "code": "public static char saturatedCast(long value) {\n    if (value > Character.MAX_VALUE) {\n      return Character.MAX_VALUE;\n    }\n    if (value < Character.MIN_VALUE) {\n      return Character.MIN_VALUE;\n    }\n    return (char) value;\n  }", "code_tokens": ["public", "static", "char", "saturatedCast", "(", "long", "value", ")", "{", "if", "(", "value", ">", "Character", ".", "MAX_VALUE", ")", "{", "return", "Character", ".", "MAX_VALUE", ";", "}", "if", "(", "value", "<", "Character", ".", "MIN_VALUE", ")", "{", "return", "Character", ".", "MIN_VALUE", ";", "}", "return", "(", "char", ")", "value", ";", "}"], "docstring": "Returns the {@code char} nearest in value to {@code value}.\n\n@param value any {@code long} value\n@return the same value cast to {@code char} if it is in the range of the {@code char} type,\n{@link Character#MAX_VALUE} if it is too large, or {@link Character#MIN_VALUE} if it is too\nsmall", "docstring_tokens": ["Returns", "the", "{", "@code", "char", "}", "nearest", "in", "value", "to", "{", "@code", "value", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/Chars.java#L94-L102", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/Chars.java", "func_name": "Chars.toArray", "original_string": "public static char[] toArray(Collection<Character> collection) {\n    if (collection instanceof CharArrayAsList) {\n      return ((CharArrayAsList) collection).toCharArray();\n    }\n\n    Object[] boxedArray = collection.toArray();\n    int len = boxedArray.length;\n    char[] array = new char[len];\n    for (int i = 0; i < len; i++) {\n      // checkNotNull for GWT (do not optimize)\n      array[i] = (Character) checkNotNull(boxedArray[i]);\n    }\n    return array;\n  }", "language": "java", "code": "public static char[] toArray(Collection<Character> collection) {\n    if (collection instanceof CharArrayAsList) {\n      return ((CharArrayAsList) collection).toCharArray();\n    }\n\n    Object[] boxedArray = collection.toArray();\n    int len = boxedArray.length;\n    char[] array = new char[len];\n    for (int i = 0; i < len; i++) {\n      // checkNotNull for GWT (do not optimize)\n      array[i] = (Character) checkNotNull(boxedArray[i]);\n    }\n    return array;\n  }", "code_tokens": ["public", "static", "char", "[", "]", "toArray", "(", "Collection", "<", "Character", ">", "collection", ")", "{", "if", "(", "collection", "instanceof", "CharArrayAsList", ")", "{", "return", "(", "(", "CharArrayAsList", ")", "collection", ")", ".", "toCharArray", "(", ")", ";", "}", "Object", "[", "]", "boxedArray", "=", "collection", ".", "toArray", "(", ")", ";", "int", "len", "=", "boxedArray", ".", "length", ";", "char", "[", "]", "array", "=", "new", "char", "[", "len", "]", ";", "for", "(", "int", "i", "=", "0", ";", "i", "<", "len", ";", "i", "++", ")", "{", "// checkNotNull for GWT (do not optimize)", "array", "[", "i", "]", "=", "(", "Character", ")", "checkNotNull", "(", "boxedArray", "[", "i", "]", ")", ";", "}", "return", "array", ";", "}"], "docstring": "Copies a collection of {@code Character} instances into a new array of primitive {@code char}\nvalues.\n\n<p>Elements are copied from the argument collection as if by {@code collection.toArray()}.\nCalling this method is as thread-safe as calling that method.\n\n@param collection a collection of {@code Character} objects\n@return an array containing the same values as {@code collection}, in the same order, converted\nto primitives\n@throws NullPointerException if {@code collection} or any of its elements is null", "docstring_tokens": ["Copies", "a", "collection", "of", "{", "@code", "Character", "}", "instances", "into", "a", "new", "array", "of", "primitive", "{", "@code", "char", "}", "values", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/Chars.java#L421-L434", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/primitives/Chars.java", "func_name": "Chars.asList", "original_string": "public static List<Character> asList(char... backingArray) {\n    if (backingArray.length == 0) {\n      return Collections.emptyList();\n    }\n    return new CharArrayAsList(backingArray);\n  }", "language": "java", "code": "public static List<Character> asList(char... backingArray) {\n    if (backingArray.length == 0) {\n      return Collections.emptyList();\n    }\n    return new CharArrayAsList(backingArray);\n  }", "code_tokens": ["public", "static", "List", "<", "Character", ">", "asList", "(", "char", "...", "backingArray", ")", "{", "if", "(", "backingArray", ".", "length", "==", "0", ")", "{", "return", "Collections", ".", "emptyList", "(", ")", ";", "}", "return", "new", "CharArrayAsList", "(", "backingArray", ")", ";", "}"], "docstring": "Returns a fixed-size list backed by the specified array, similar to {@link\nArrays#asList(Object[])}. The list supports {@link List#set(int, Object)}, but any attempt to\nset a value to {@code null} will result in a {@link NullPointerException}.\n\n<p>The returned list maintains the values, but not the identities, of {@code Character} objects\nwritten to or read from it. For example, whether {@code list.get(0) == list.get(0)} is true for\nthe returned list is unspecified.\n\n@param backingArray the array to back the list\n@return a list view of the array", "docstring_tokens": ["Returns", "a", "fixed", "-", "size", "list", "backed", "by", "the", "specified", "array", "similar", "to", "{", "@link", "Arrays#asList", "(", "Object", "[]", ")", "}", ".", "The", "list", "supports", "{", "@link", "List#set", "(", "int", "Object", ")", "}", "but", "any", "attempt", "to", "set", "a", "value", "to", "{", "@code", "null", "}", "will", "result", "in", "a", "{", "@link", "NullPointerException", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/primitives/Chars.java#L502-L507", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Splitter.java", "func_name": "Splitter.on", "original_string": "public static Splitter on(final CharMatcher separatorMatcher) {\n    checkNotNull(separatorMatcher);\n\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(Splitter splitter, final CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              int separatorStart(int start) {\n                return separatorMatcher.indexIn(toSplit, start);\n              }\n\n              @Override\n              int separatorEnd(int separatorPosition) {\n                return separatorPosition + 1;\n              }\n            };\n          }\n        });\n  }", "language": "java", "code": "public static Splitter on(final CharMatcher separatorMatcher) {\n    checkNotNull(separatorMatcher);\n\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(Splitter splitter, final CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              int separatorStart(int start) {\n                return separatorMatcher.indexIn(toSplit, start);\n              }\n\n              @Override\n              int separatorEnd(int separatorPosition) {\n                return separatorPosition + 1;\n              }\n            };\n          }\n        });\n  }", "code_tokens": ["public", "static", "Splitter", "on", "(", "final", "CharMatcher", "separatorMatcher", ")", "{", "checkNotNull", "(", "separatorMatcher", ")", ";", "return", "new", "Splitter", "(", "new", "Strategy", "(", ")", "{", "@", "Override", "public", "SplittingIterator", "iterator", "(", "Splitter", "splitter", ",", "final", "CharSequence", "toSplit", ")", "{", "return", "new", "SplittingIterator", "(", "splitter", ",", "toSplit", ")", "{", "@", "Override", "int", "separatorStart", "(", "int", "start", ")", "{", "return", "separatorMatcher", ".", "indexIn", "(", "toSplit", ",", "start", ")", ";", "}", "@", "Override", "int", "separatorEnd", "(", "int", "separatorPosition", ")", "{", "return", "separatorPosition", "+", "1", ";", "}", "}", ";", "}", "}", ")", ";", "}"], "docstring": "Returns a splitter that considers any single character matched by the given {@code CharMatcher}\nto be a separator. For example, {@code\nSplitter.on(CharMatcher.anyOf(\";,\")).split(\"foo,;bar,quux\")} returns an iterable containing\n{@code [\"foo\", \"\", \"bar\", \"quux\"]}.\n\n@param separatorMatcher a {@link CharMatcher} that determines whether a character is a\nseparator\n@return a splitter, with default settings, that uses this matcher", "docstring_tokens": ["Returns", "a", "splitter", "that", "considers", "any", "single", "character", "matched", "by", "the", "given", "{", "@code", "CharMatcher", "}", "to", "be", "a", "separator", ".", "For", "example", "{", "@code", "Splitter", ".", "on", "(", "CharMatcher", ".", "anyOf", "(", ";", "))", ".", "split", "(", "foo", ";", "bar", "quux", ")", "}", "returns", "an", "iterable", "containing", "{", "@code", "[", "foo", "bar", "quux", "]", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Splitter.java#L138-L158", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Splitter.java", "func_name": "Splitter.on", "original_string": "public static Splitter on(final String separator) {\n    checkArgument(separator.length() != 0, \"The separator may not be the empty string.\");\n    if (separator.length() == 1) {\n      return Splitter.on(separator.charAt(0));\n    }\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(Splitter splitter, CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              public int separatorStart(int start) {\n                int separatorLength = separator.length();\n\n                positions:\n                for (int p = start, last = toSplit.length() - separatorLength; p <= last; p++) {\n                  for (int i = 0; i < separatorLength; i++) {\n                    if (toSplit.charAt(i + p) != separator.charAt(i)) {\n                      continue positions;\n                    }\n                  }\n                  return p;\n                }\n                return -1;\n              }\n\n              @Override\n              public int separatorEnd(int separatorPosition) {\n                return separatorPosition + separator.length();\n              }\n            };\n          }\n        });\n  }", "language": "java", "code": "public static Splitter on(final String separator) {\n    checkArgument(separator.length() != 0, \"The separator may not be the empty string.\");\n    if (separator.length() == 1) {\n      return Splitter.on(separator.charAt(0));\n    }\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(Splitter splitter, CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              public int separatorStart(int start) {\n                int separatorLength = separator.length();\n\n                positions:\n                for (int p = start, last = toSplit.length() - separatorLength; p <= last; p++) {\n                  for (int i = 0; i < separatorLength; i++) {\n                    if (toSplit.charAt(i + p) != separator.charAt(i)) {\n                      continue positions;\n                    }\n                  }\n                  return p;\n                }\n                return -1;\n              }\n\n              @Override\n              public int separatorEnd(int separatorPosition) {\n                return separatorPosition + separator.length();\n              }\n            };\n          }\n        });\n  }", "code_tokens": ["public", "static", "Splitter", "on", "(", "final", "String", "separator", ")", "{", "checkArgument", "(", "separator", ".", "length", "(", ")", "!=", "0", ",", "\"The separator may not be the empty string.\"", ")", ";", "if", "(", "separator", ".", "length", "(", ")", "==", "1", ")", "{", "return", "Splitter", ".", "on", "(", "separator", ".", "charAt", "(", "0", ")", ")", ";", "}", "return", "new", "Splitter", "(", "new", "Strategy", "(", ")", "{", "@", "Override", "public", "SplittingIterator", "iterator", "(", "Splitter", "splitter", ",", "CharSequence", "toSplit", ")", "{", "return", "new", "SplittingIterator", "(", "splitter", ",", "toSplit", ")", "{", "@", "Override", "public", "int", "separatorStart", "(", "int", "start", ")", "{", "int", "separatorLength", "=", "separator", ".", "length", "(", ")", ";", "positions", ":", "for", "(", "int", "p", "=", "start", ",", "last", "=", "toSplit", ".", "length", "(", ")", "-", "separatorLength", ";", "p", "<=", "last", ";", "p", "++", ")", "{", "for", "(", "int", "i", "=", "0", ";", "i", "<", "separatorLength", ";", "i", "++", ")", "{", "if", "(", "toSplit", ".", "charAt", "(", "i", "+", "p", ")", "!=", "separator", ".", "charAt", "(", "i", ")", ")", "{", "continue", "positions", ";", "}", "}", "return", "p", ";", "}", "return", "-", "1", ";", "}", "@", "Override", "public", "int", "separatorEnd", "(", "int", "separatorPosition", ")", "{", "return", "separatorPosition", "+", "separator", ".", "length", "(", ")", ";", "}", "}", ";", "}", "}", ")", ";", "}"], "docstring": "Returns a splitter that uses the given fixed string as a separator. For example, {@code\nSplitter.on(\", \").split(\"foo, bar,baz\")} returns an iterable containing {@code [\"foo\",\n\"bar,baz\"]}.\n\n@param separator the literal, nonempty string to recognize as a separator\n@return a splitter, with default settings, that recognizes that separator", "docstring_tokens": ["Returns", "a", "splitter", "that", "uses", "the", "given", "fixed", "string", "as", "a", "separator", ".", "For", "example", "{", "@code", "Splitter", ".", "on", "(", ")", ".", "split", "(", "foo", "bar", "baz", ")", "}", "returns", "an", "iterable", "containing", "{", "@code", "[", "foo", "bar", "baz", "]", "}", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Splitter.java#L168-L201", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Splitter.java", "func_name": "Splitter.fixedLength", "original_string": "public static Splitter fixedLength(final int length) {\n    checkArgument(length > 0, \"The length may not be less than 1\");\n\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(final Splitter splitter, CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              public int separatorStart(int start) {\n                int nextChunkStart = start + length;\n                return (nextChunkStart < toSplit.length() ? nextChunkStart : -1);\n              }\n\n              @Override\n              public int separatorEnd(int separatorPosition) {\n                return separatorPosition;\n              }\n            };\n          }\n        });\n  }", "language": "java", "code": "public static Splitter fixedLength(final int length) {\n    checkArgument(length > 0, \"The length may not be less than 1\");\n\n    return new Splitter(\n        new Strategy() {\n          @Override\n          public SplittingIterator iterator(final Splitter splitter, CharSequence toSplit) {\n            return new SplittingIterator(splitter, toSplit) {\n              @Override\n              public int separatorStart(int start) {\n                int nextChunkStart = start + length;\n                return (nextChunkStart < toSplit.length() ? nextChunkStart : -1);\n              }\n\n              @Override\n              public int separatorEnd(int separatorPosition) {\n                return separatorPosition;\n              }\n            };\n          }\n        });\n  }", "code_tokens": ["public", "static", "Splitter", "fixedLength", "(", "final", "int", "length", ")", "{", "checkArgument", "(", "length", ">", "0", ",", "\"The length may not be less than 1\"", ")", ";", "return", "new", "Splitter", "(", "new", "Strategy", "(", ")", "{", "@", "Override", "public", "SplittingIterator", "iterator", "(", "final", "Splitter", "splitter", ",", "CharSequence", "toSplit", ")", "{", "return", "new", "SplittingIterator", "(", "splitter", ",", "toSplit", ")", "{", "@", "Override", "public", "int", "separatorStart", "(", "int", "start", ")", "{", "int", "nextChunkStart", "=", "start", "+", "length", ";", "return", "(", "nextChunkStart", "<", "toSplit", ".", "length", "(", ")", "?", "nextChunkStart", ":", "-", "1", ")", ";", "}", "@", "Override", "public", "int", "separatorEnd", "(", "int", "separatorPosition", ")", "{", "return", "separatorPosition", ";", "}", "}", ";", "}", "}", ")", ";", "}"], "docstring": "Returns a splitter that divides strings into pieces of the given length. For example, {@code\nSplitter.fixedLength(2).split(\"abcde\")} returns an iterable containing {@code [\"ab\", \"cd\",\n\"e\"]}. The last piece can be smaller than {@code length} but will never be empty.\n\n<p><b>Note:</b> if {@link #fixedLength} is used in conjunction with {@link #limit}, the final\nsplit piece <i>may be longer than the specified fixed length</i>. This is because the splitter\nwill <i>stop splitting when the limit is reached</i>, and just return the final piece as-is.\n\n<p><b>Exception:</b> for consistency with separator-based splitters, {@code split(\"\")} does not\nyield an empty iterable, but an iterable containing {@code \"\"}. This is the only case in which\n{@code Iterables.size(split(input))} does not equal {@code IntMath.divide(input.length(),\nlength, CEILING)}. To avoid this behavior, use {@code omitEmptyStrings}.\n\n@param length the desired length of pieces after splitting, a positive integer\n@return a splitter, with default settings, that can split into fixed sized pieces\n@throws IllegalArgumentException if {@code length} is zero or negative", "docstring_tokens": ["Returns", "a", "splitter", "that", "divides", "strings", "into", "pieces", "of", "the", "given", "length", ".", "For", "example", "{", "@code", "Splitter", ".", "fixedLength", "(", "2", ")", ".", "split", "(", "abcde", ")", "}", "returns", "an", "iterable", "containing", "{", "@code", "[", "ab", "cd", "e", "]", "}", ".", "The", "last", "piece", "can", "be", "smaller", "than", "{", "@code", "length", "}", "but", "will", "never", "be", "empty", "."], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Splitter.java#L279-L300", "partition": "valid"}
{"repo": "google/guava", "path": "guava/src/com/google/common/base/Splitter.java", "func_name": "Splitter.trimResults", "original_string": "public Splitter trimResults(CharMatcher trimmer) {\n    checkNotNull(trimmer);\n    return new Splitter(strategy, omitEmptyStrings, trimmer, limit);\n  }", "language": "java", "code": "public Splitter trimResults(CharMatcher trimmer) {\n    checkNotNull(trimmer);\n    return new Splitter(strategy, omitEmptyStrings, trimmer, limit);\n  }", "code_tokens": ["public", "Splitter", "trimResults", "(", "CharMatcher", "trimmer", ")", "{", "checkNotNull", "(", "trimmer", ")", ";", "return", "new", "Splitter", "(", "strategy", ",", "omitEmptyStrings", ",", "trimmer", ",", "limit", ")", ";", "}"], "docstring": "TODO(kevinb): throw if a trimmer was already specified!", "docstring_tokens": ["TODO", "(", "kevinb", ")", ":", "throw", "if", "a", "trimmer", "was", "already", "specified!"], "sha": "7155d12b70a2406fa84d94d4b8b3bc108e89abfd", "url": "https://github.com/google/guava/blob/7155d12b70a2406fa84d94d4b8b3bc108e89abfd/guava/src/com/google/common/base/Splitter.java#L367-L370", "partition": "valid"}
